// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/support/rasterDatasets/RawBlockCache":function(){define(["require","exports","../../../geometry","./EphemeralBlockCache","../rasterFunctions/rasterProjectionHelper"],function(v,a,e,q,m){function c(a,d){if(!b.has(a))return null;a=b.get(a);return null==a[d]?null:a[d]}Object.defineProperty(a,"__esModule",{value:!0});var b=new Map,h=new q;a.register=function(a,d){d={extent:null,rasterInfo:d,cache:new Map};if(b.has(a))return a=b.get(a),a.push(d),a.length-1;b.set(a,[d]);return 0};
a.unregister=function(a,d){b.has(a)&&(b.get(a)[d]=null)};a.deleteRaster=function(a){b.delete(a)};a.decreaseRefCount=function(a,d,p){if(!b.has(a))return null==d?h.decreaseRefCount(a,p):0;var c=b.get(a);if(null==c[d])return h.decreaseRefCount(a,p);d=c[d].cache;if(d.has(p)){a=d.get(p);a.refCount--;if(0===a.refCount){d.delete(p);for(d=0;d<c.length;d++)c[d]&&c[d].cache.has(p)&&c[d].cache.delete(p);a.controller&&a.controller.abort()}return a.refCount}return 0};a.getBlock=function(a,d,c){if(!b.has(a))return null==
d?h.getBlock(a,c):null;var k=b.get(a);if(null==k[d]){for(var f=0;f<k.length;f++)if(k[f]&&k[f].cache.has(c))return c=k[f].cache.get(c),c.refCount++,c.block;return h.getBlock(a,c)}a=k[d].cache;if(a.has(c))return c=a.get(c),c.refCount++,c.block;for(f=0;f<k.length;f++)if(f!==d&&k[f]&&k[f]&&k[f].cache.has(c))return d=k[f].cache.get(c),d.refCount++,a.set(c,d),d.block;return null};a.putBlock=function(a,d,c,k,m){void 0===m&&(m=null);if(b.has(a)){var f=b.get(a);null==f[d]?h.putBlock(a,c,k,m):f[d].cache.set(c,
{refCount:1,block:k,controller:m})}else null==d&&h.putBlock(a,c,k,m)};a.deleteBlock=function(a,d,c){if(b.has(a)){var f=b.get(a);null==f[d]?h.deleteBlock(a,c):f[d].cache.delete(c)}else null==d&&h.deleteBlock(a,c)};a.update=function(a,d,b,k,h,t,r){void 0===r&&(r=null);a=c(a,d);d=a.extent;var f=a.cache,p=a.rasterInfo;b=b.clone().normalize()[0];if(!d||d.xmin!==b.xmin||d.xmax!==b.xmax||d.ymin!==b.ymin||d.ymax!==b.ymax){var l=p.spatialReference;d=m.projectExtent(b,l,r);k=new e.Point({x:k,y:k,spatialReference:b.spatialReference});
if(null===h&&(h=m.projectResolution(k,l,b,r),!h))return;r=m.snapPyramid(h,p,t||"closest");h=r.pyramidLevel;t=r.pyramidResolution;if(!r.excessiveReading){l=Math.floor((d.xmin-p.storageInfo.origin.x)/t.x);r=Math.floor((p.storageInfo.origin.y-d.ymax)/t.y);var g=0<h?p.storageInfo.pyramidBlockWidth:p.storageInfo.blockWidth,C=0<h?p.storageInfo.pyramidBlockHeight:p.storageInfo.blockHeight,p=Math.floor(l/g);k=Math.floor(r/C);l=Math.floor((l+Math.ceil((d.xmax-d.xmin)/t.x-.1)-1)/g);d=Math.floor((r+Math.ceil((d.ymax-
d.ymin)/t.y-.1)-1)/C);var D=new Set;for(t=k-1;t<=d+1;t++)for(r=p-1;r<=l+1;r++)D.add(h+"/"+t+"/"+r);f.forEach(function(a,g){D.has(g)||f.delete(g)});a.extent={xmin:b.xmin,ymin:b.ymin,xmax:b.xmax,ymax:b.ymax}}}}})},"esri/layers/support/rasterDatasets/EphemeralBlockCache":function(){define(["require","exports","../../../core/MapUtils"],function(v,a,e){return function(){function a(a,c){void 0===a&&(a=15E3);void 0===c&&(c=5E3);this._timer=null;this._cachedBlocks=new Map;this._size=-1;this._duration=a;this._interval=
Math.min(a,c)}a.prototype.decreaseRefCount=function(a,c){a=a+"/"+c;c=this._cachedBlocks;if(c.has(a)){var b=c.get(a);b.refCount--;0>=b.refCount&&(c.delete(a),b.controller&&b.controller.abort());return b.refCount}return 0};a.prototype.getBlock=function(a,c){a=a+"/"+c;c=this._cachedBlocks;if(c.has(a)){var b=c.get(a);b.ts=Date.now();b.refCount++;c.delete(a);c.set(a,b);return b.block}return null};a.prototype.putBlock=function(a,c,b,h){void 0===h&&(h=null);var f=this._cachedBlocks;a=a+"/"+c;f.has(a)?(b=
f.get(a),b.ts=Date.now(),b.refCount++):f.set(a,{block:b,ts:Date.now(),refCount:1,controller:h});this.trim();this.updateTimer()};a.prototype.deleteBlock=function(a,c){var b=this._cachedBlocks;a=a+"/"+c;b.has(a)&&b.delete(a)};a.prototype.updateMaxSize=function(a){this._size=a;this.trim()};a.prototype.empty=function(){this._cachedBlocks.clear();this.clearTimer()};a.prototype.getCurrentSize=function(){return this._cachedBlocks.size};a.prototype.updateTimer=function(){var a=this;if(null==this._timer){var c=
this._cachedBlocks;this._timer=setInterval(function(){for(var b=e.pairsOfMap(c),h=Date.now(),f=0;f<b.length;f++)if(b[f][1].ts<=h-a._duration)c.delete(b[f][0]);else break;0===c.size&&a.clearTimer()},this._interval)}};a.prototype.trim=function(){var a=this._cachedBlocks;if(!(-1===this._size||this._size>=a.size))for(var c=e.pairsOfMap(a),b=0;b<c.length-this._size;b++)a.delete(c[b][0])};a.prototype.clearTimer=function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)};return a}()})},
"esri/layers/support/rasterFunctions/rasterProjectionHelper":function(){define("require exports tslib ../../../geometry ../../../core/Error ../../../geometry/projection ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),function(v,a,e,q,m,c,b,h){Object.defineProperty(a,"__esModule",{value:!0});var f=function(a,c){var d=(a.isWGS84||a.isWebMercator)&&(c.isWGS84||c.isWebMercator);return!(a.equals(c)||d)};a.defaultGridSpacing=32;a.load=function(){return e.__awaiter(this,
void 0,void 0,function(){return e.__generator(this,function(a){switch(a.label){case 0:return c.isLoaded()||!c.isSupported()?[2,null]:[4,c.load()];case 1:return a.sent(),[2]}})})};a.projectResolution=function(a,b,k,n){void 0===n&&(n=null);if(a.spatialReference.equals(b))return a;var d=f(a.spatialReference,b);if(d&&!c.isLoaded())throw new m("rasterprojectionhelper-projectResolution","projection engine is not loaded");k=k.center;a=new q.Extent({xmin:k.x-a.x/2,xmax:k.x+a.x/2,ymin:k.y-a.y/2,ymax:k.y+a.y/
2,spatialReference:a.spatialReference});n=d?c.project(a,b,n):h.project(a,b);return null==n?null:new q.Point(n.xmax-n.xmin,n.ymax-n.ymin,b)};a.projectPoint=function(a,b,k){void 0===k&&(k=null);if(a.spatialReference.equals(b))return a;var d=f(a.spatialReference,b);if(d&&!c.isLoaded())throw new m("rasterprojectionhelper-projectResolution","projection engine is not loaded");return d?c.project(a,b,k):h.project(a,b)};a.projectExtent=function(a,b,k){void 0===k&&(k=null);if(a.spatialReference.equals(b))return a;
var d=f(a.spatialReference,b);if(d&&!c.isLoaded())throw new m("rasterprojectionhelper-projectExtent","projection engine is not loaded");return d?c.project(a,b,k):h.project(a,b)};a.getProjectionOffsetGrid=function(d,p,k,n,e,r){void 0===n&&(n=null);void 0===e&&(e=!1);void 0===r&&(r=[a.defaultGridSpacing,a.defaultGridSpacing]);var t=p.spatialReference.equals(d.spatialReference),u=f(d.spatialReference,p.spatialReference);if(u&&!c.isLoaded())throw new m("rasterprojectionhelper-projectResolution","projection engine is not loaded");
if(!(d&&p&&k))return null;var l=d.xmin,g=d.ymin,C=d.xmax,D=d.ymax,I=d.spatialReference,J=p.spatialReference,G=b.getInfo(I),z=G&&G.valid[0],x=G&&G.valid[1],F=r[0]*k.x,w=r[1]*k.y,C=Math.ceil((C-l)/F-.1)+1,g=Math.ceil((D-g)/w-.1)+1,y;k=[];var H;d=!1;for(var A=0;A<C;A++){for(var K=[],B=0;B<g;B++)y=new q.Point({x:l+F*A,y:D-w*B,spatialReference:I}),y=t?y:u?c.project(y,J,n):h.project(y,J),K.push(y),0<A&&e&&y&&H[B]&&G&&y.x<H[B].x&&(y.x+=x-z),y?(k.push((y.x-p.xmin)/(p.xmax-p.xmin)),k.push((p.ymax-y.y)/(p.ymax-
p.ymin))):(k.push(NaN),k.push(NaN),d=!0);H=K}p=[Math.abs((k[0]+k[4]+k[4*C]+k[4*C+4])/4-k[2*g+2]),Math.abs((k[1]+k[5]+k[4*g+1]+k[4*g+5])/4-k[2*g+3])];n=new Float32Array((C-1)*(g-1)*12);e=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]);t=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(A=0;A<C-1;A++){for(B=0;B<g-1;B++){z=A*g*2+2*B;u=k[z];l=k[z+1];D=k[z+2];H=k[z+3];z+=2*g;I=k[z];J=k[z+1];G=k[z+2];z=k[z+3];x=0;F=12*(B*(C-1)+A);for(w=0;3>w;w++)n[F++]=e[x++]*u+e[x++]*D+e[x++]*G;for(w=x=0;3>w;w++)n[F++]=e[x++]*l+
e[x++]*H+e[x++]*z;for(w=x=0;3>w;w++)n[F++]=t[x++]*u+t[x++]*I+t[x++]*G;for(w=x=0;3>w;w++)n[F++]=t[x++]*l+t[x++]*J+t[x++]*z}if(d)for(B=0;B<n.length;B++)isNaN(n[B])&&(n[B]=-1)}return{offsets:k,error:p,coefficients:n,spacing:r,size:[C-1,g-1]}};a.snapPyramid=function(a,b,c){var d=Math.log(a.x/b.pixelSize.x)/Math.LN2,f=Math.log(a.y/b.pixelSize.y)/Math.LN2;a=b.storageInfo.maximumPyramidLevel||0;c="down"===c?Math.floor(Math.min(d,f)):"up"===c?Math.ceil(Math.max(d,f)):Math.round((d+f)/2);d=!1;0>c?c=0:c>a&&
(d=c>a+3,c=a);a=Math.pow(2,c);b=new q.Point({x:a*b.pixelSize.x,y:a*b.pixelSize.y,spatialReference:b.spatialReference});return{pyramidLevel:c,pyramidResolution:b,excessiveReading:d}}})},"esri/geometry/projection":function(){define("require exports ../core/promiseUtils ./pe ./support/GeographicTransformation @dojo/framework/shim/Promise".split(" "),function(v,a,e,q,m){function c(a,c,d,f,e){void 0===e&&(e=null);if(null===e){var k=m.cacheKey(d,f);void 0!==p[k]?e=p[k]:(e=b(d,f,null),null===e&&(e=new m),
p[k]=e)}return h._project(a,c,d,f,e)}function b(a,c,b){void 0===b&&(b=null);a=h._getTransformation(f,a,c,b,null===b||void 0===b?void 0:b.spatialReference);return null!==a?m.fromGE(a):null}Object.defineProperty(a,"__esModule",{value:!0});var h=null,f=null;a.isLoaded=function(){return!!h&&q.isLoaded()};a.isSupported=function(){return q.isSupported()};var d=null;a.load=function(){return d?d:d=e.all([q.load(),new Promise(function(a,b){v(["./geometryEngineBase"],a,b)}),new Promise(function(a,b){v(["./geometryAdapters/hydrated"],
a,b)})]).then(function(a){var b=a[1];f=a[2].hydratedAdapter;h=b;h._enableProjection(q)})};a.project=function(a,b,d){void 0===d&&(d=null);return a instanceof Array?0===a.length?[]:c(f,a,a[0].spatialReference,b,d):c(f,[a],a.spatialReference,b,d)[0]};var p={};a.projectMany=c;a.getTransformation=b;a.getTransformations=function(a,b,c){void 0===c&&(c=null);a=h._getTransformationBySuitability(f,a,b,c,null===c||void 0===c?void 0:c.spatialReference);if(null!==a){b=[];for(c=0;c<a.length;c++)b.push(m.fromGE(a[c]));
return b}return[]}})},"esri/geometry/pe":function(){define("require exports tslib ../assets ../core/has ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),function(v,a,e,q,m,c){function b(b){function g(a,g,b){a[g]=b(a[g])}a._pe=b;n.init();t.init();r.init();E.init();u.init();a.PeGCSExtent=function(g){function b(){return null!==g&&g.apply(this,arguments)||this}e.__extends(b,g);b.prototype.destroy=function(){a._pe.destroy(this)};return b}(a._pe.PeGCSExtent);for(var c=0,l=[a._pe.PeDatum,a._pe.PeGeogcs,
a._pe.PeGeogtran,a._pe.PeObject,a._pe.PeParameter,a._pe.PePrimem,a._pe.PeProjcs,a._pe.PeSpheroid,a._pe.PeUnit];c<l.length;c++)b=l[c],g(b.prototype,"getName",function(a){return function(){return a.call(this,Array(n.PE_NAME_MAX))}});c=0;for(l=[a._pe.PeGeogtran,a._pe.PeProjcs];c<l.length;c++)b=l[c],g(b.prototype,"getParameters",function(g){return function(){for(var b=Array(n.PE_PARM_MAX),c=g.call(this),l=0;l<b.length;l++){var d=a._pe.getValue(c,"*");b[l]=d?a._pe.wrapPointer(d,a._pe.PeParameter):null;
c+=Int32Array.BYTES_PER_ELEMENT}return b}});g(a._pe.PeHorizon.prototype,"getCoord",function(a){return function(){var g=this.getSize();if(!g)return null;var b=[],c=a.call(this);p(b,g,c);return b}});g(a._pe.PeGTlistExtendedEntry.prototype,"getEntries",function(g){var b=a._pe._pe_getPeGTlistExtendedGTsSize();return function(){var c=null,l=g.call(this);if(!a._pe.compare(l,a._pe.NULL)){var c=[l],d=this.getSteps();if(1<d)for(var l=a._pe.getPointer(l),f=1;f<d;f++)c.push(a._pe.wrapPointer(l+b*f,a._pe.PeGTlistExtendedGTs))}return c}});
var d=a._pe._pe_getPeHorizonSize();b=function(g){return function(){var b=this._cache;b||(this._cache=b=new Map);if(b.has(g))return b.get(g);var c=null,l=g.call(this);if(!a._pe.compare(l,a._pe.NULL)){var c=[l],f=l.getNump();if(1<f)for(var l=a._pe.getPointer(l),h=1;h<f;h++)c.push(a._pe.wrapPointer(l+d*h,a._pe.PeHorizon))}b.set(g,c);return c}};g(a._pe.PeProjcs.prototype,"horizonGcsGenerate",b);g(a._pe.PeProjcs.prototype,"horizonPcsGenerate",b);a._pe.PeObject.prototype.toString=function(g){void 0===g&&
(g=n.PE_STR_OPTS_NONE);a._pe.ensureCache.prepare();var b=a._pe.getPointer(this),c=a._pe.ensureInt8(Array(n.PE_BUFFER_MAX));return a._pe.UTF8ToString(a._pe._pe_object_to_string_ext(b,g,c))}}function h(b){if(b){var g=a._pe.getClass(b);g&&(g=a._pe.getCache(g))&&(b=a._pe.getPointer(b))&&delete g[b]}}function f(b,g){var c=[];g=Array(g);for(var l=0;l<b;l++)c.push(a._pe.ensureInt8(g));return c}function d(a){var b;Array.isArray(a[0])?(b=[],a.forEach(function(a){b.push(a[0],a[1])})):b=a;return b}function p(b,
g,c,d){void 0===d&&(d=!1);if(d)for(d=0;d<2*g;d++)b[d]=a._pe.getValue(c+d*Float64Array.BYTES_PER_ELEMENT,"double");else{var l=0===b.length;for(d=0;d<g;d++)l&&(b[d]=Array(2)),b[d][0]=a._pe.getValue(c,"double"),b[d][1]=a._pe.getValue(c+Float64Array.BYTES_PER_ELEMENT,"double"),c+=2*Float64Array.BYTES_PER_ELEMENT}}Object.defineProperty(a,"__esModule",{value:!0});var k;a._pe=null;a.isLoaded=function(){return!!a._pe};a.isSupported=function(){return!!m("esri-wasm")};a.load=function(){return k?k:k=c.create(function(a,
g){(new Promise(function(a,b){v(["./support/pe-wasm"],a,b)})).then(function(c){c({locateFile:function(a){return q.getAssetUrl("esri/geometry/support/"+a)},onAbort:function(a){g(Error(a))}}).then(function(g){b(g);a()})})})};(function(b){function g(b,g,c){a._pe.ensureCache.prepare();var l=d(c),f=c===l,l=a._pe.ensureFloat64(l);(b=a._pe._pe_geog_to_proj(a._pe.getPointer(b),g,l))&&p(c,g,l,f);return b}function c(a,b,c){return l(a,b,c,0)}function l(b,c,g,l){a._pe.ensureCache.prepare();var f=d(g),h=g===f,
f=a._pe.ensureFloat64(f);(b=a._pe._pe_proj_to_geog_center(a._pe.getPointer(b),c,f,l))&&p(g,c,f,h);return b}b.geogToProj=g;b.projGeog=function(a,b,l,d){switch(d){case n.PE_TRANSFORM_P_TO_G:return c(a,b,l);case n.PE_TRANSFORM_G_TO_P:return g(a,b,l)}return 0};b.projToGeog=c;b.projToGeogCenter=l})(a.PeCSTransformations||(a.PeCSTransformations={}));var n;(function(b){b.init=function(){b.PE_BUFFER_MAX=a._pe.PeDefs.prototype.PE_BUFFER_MAX;b.PE_NAME_MAX=a._pe.PeDefs.prototype.PE_NAME_MAX;b.PE_MGRS_MAX=a._pe.PeDefs.prototype.PE_MGRS_MAX;
b.PE_USNG_MAX=a._pe.PeDefs.prototype.PE_USNG_MAX;b.PE_DD_MAX=a._pe.PeDefs.prototype.PE_DD_MAX;b.PE_DDM_MAX=a._pe.PeDefs.prototype.PE_DDM_MAX;b.PE_DMS_MAX=a._pe.PeDefs.prototype.PE_DMS_MAX;b.PE_UTM_MAX=a._pe.PeDefs.prototype.PE_UTM_MAX;b.PE_PARM_MAX=a._pe.PeDefs.prototype.PE_PARM_MAX;b.PE_TYPE_NONE=a._pe.PeDefs.prototype.PE_TYPE_NONE;b.PE_TYPE_GEOGCS=a._pe.PeDefs.prototype.PE_TYPE_GEOGCS;b.PE_TYPE_PROJCS=a._pe.PeDefs.prototype.PE_TYPE_PROJCS;b.PE_TYPE_GEOGTRAN=a._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;
b.PE_TYPE_COORDSYS=a._pe.PeDefs.prototype.PE_TYPE_COORDSYS;b.PE_TYPE_UNIT=a._pe.PeDefs.prototype.PE_TYPE_UNIT;b.PE_STR_OPTS_NONE=a._pe.PeDefs.prototype.PE_STR_OPTS_NONE;b.PE_STR_AUTH_NONE=a._pe.PeDefs.prototype.PE_STR_AUTH_NONE;b.PE_STR_AUTH_TOP=a._pe.PeDefs.prototype.PE_STR_AUTH_TOP;b.PE_STR_NAME_CANON=a._pe.PeDefs.prototype.PE_STR_NAME_CANON;b.PE_PARM_X0=a._pe.PeDefs.prototype.PE_PARM_X0;b.PE_PARM_ND=a._pe.PeDefs.prototype.PE_PARM_ND;b.PE_TRANSFORM_1_TO_2=a._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
b.PE_TRANSFORM_2_TO_1=a._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;b.PE_TRANSFORM_P_TO_G=a._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;b.PE_TRANSFORM_G_TO_P=a._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;b.PE_HORIZON_RECT=a._pe.PeDefs.prototype.PE_HORIZON_RECT;b.PE_HORIZON_POLY=a._pe.PeDefs.prototype.PE_HORIZON_POLY;b.PE_HORIZON_LINE=a._pe.PeDefs.prototype.PE_HORIZON_LINE;b.PE_HORIZON_DELTA=a._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(n=a.PeDefs||(a.PeDefs={}));(function(b){function c(b,c){var g=null,l=f[b];
l||(l={},f[b]=l);l.hasOwnProperty(String(c))?g=l[c]:(b=a._pe.PeFactory.prototype.factoryByType(b,c),a._pe.compare(b,a._pe.NULL)||(g=b,l[c]=g));return g=d(g)}function d(b){if(b){var c=b.getType();switch(c){case n.PE_TYPE_GEOGCS:b=a._pe.castObject(b,a._pe.PeGeogcs);break;case n.PE_TYPE_PROJCS:b=a._pe.castObject(b,a._pe.PeProjcs);break;case n.PE_TYPE_GEOGTRAN:b=a._pe.castObject(b,a._pe.PeGeogtran);break;default:c&n.PE_TYPE_UNIT&&(b=a._pe.castObject(b,a._pe.PeUnit))}}return b}var f={},l={};b.initialize=
function(){a._pe.PeFactory.prototype.initialize(null)};b.coordsys=function(a){return c(n.PE_TYPE_COORDSYS,a)};b.factoryByType=c;b.fromString=function(b,c){var g=null,f=l[b];f||(f={},l[b]=f);f.hasOwnProperty(c)?g=f[c]:(b=a._pe.PeFactory.prototype.fromString(b,c),a._pe.compare(b,a._pe.NULL)||(g=b,f[c]=g));return g=d(g)};b.geogcs=function(a){return c(n.PE_TYPE_GEOGCS,a)};b.geogtran=function(a){return c(n.PE_TYPE_GEOGTRAN,a)};b.getCode=function(b){return a._pe.PeFactory.prototype.getCode(b)};b.projcs=
function(a){return c(n.PE_TYPE_PROJCS,a)};b.unit=function(a){return c(n.PE_TYPE_UNIT,a)}})(a.PeFactory||(a.PeFactory={}));a.PeGCSExtent=null;var t;(function(b){var c;b.init=function(){b.PE_GTLIST_OPTS_COMMON=a._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;c=a._pe._pe_getPeGTlistExtendedEntrySize()};b.getGTlist=function(b,g,d,f,l,h){var e=null,D=new a._pe.PeInteger(h);try{var m=a._pe.PeGTlistExtended.prototype.getGTlist(b,g,d,f,l,D);if(h=D.val)if(e=[m],1<h){var k=a._pe.getPointer(m);for(b=1;b<
h;b++)e.push(a._pe.wrapPointer(k+c*b,a._pe.PeGTlistExtendedEntry))}}finally{a._pe.destroy(D)}return e}})(t=a.PeGTlistExtended||(a.PeGTlistExtended={}));(function(b){b.destroy=function(b){if(b&&b.length){for(var c=0;c<b.length;c++){var g=b[c];h(g);g.getEntries().forEach(function(a){h(a);a=a.getGeogtran();h(a);a.getParameters().forEach(h);[a.getGeogcs1(),a.getGeogcs2()].forEach(function(a){h(a);var b=a.getDatum();h(b);h(b.getSpheroid());h(a.getPrimem());h(a.getUnit())})})}a._pe.PeGTlistExtendedEntry.prototype.Delete(b[0])}}})(a.PeGTlistExtendedEntry||
(a.PeGTlistExtendedEntry={}));(function(b){b.geogToGeog=function(b,c,f,l,h){a._pe.ensureCache.prepare();var g=d(f),e=f===g,g=a._pe.ensureFloat64(g),m=0;l&&(m=a._pe.ensureFloat64(l));(b=a._pe._pe_geog_to_geog(a._pe.getPointer(b),c,g,m,h))&&p(f,c,g,e);return b}})(a.PeGTTransformations||(a.PeGTTransformations={}));(function(b){function c(b,c,g,l,h,e){a._pe.ensureCache.prepare();var m,k;switch(b){case "dd":m=a._pe._pe_geog_to_dd;k=n.PE_DD_MAX;break;case "ddm":m=a._pe._pe_geog_to_ddm;k=n.PE_DDM_MAX;break;
case "dms":m=a._pe._pe_geog_to_dms,k=n.PE_DMS_MAX}b=0;c&&(b=a._pe.getPointer(c));c=d(l);c=a._pe.ensureFloat64(c);k=f(g,k);l=a._pe.ensureInt32(k);if(h=m(b,g,c,h,l))for(m=0;m<g;m++)e[m]=a._pe.UTF8ToString(k[m]);return h}function l(b,c,g,d,f){a._pe.ensureCache.prepare();var l;switch(b){case "dd":l=a._pe._pe_dd_to_geog;break;case "ddm":l=a._pe._pe_ddm_to_geog;break;case "dms":l=a._pe._pe_dms_to_geog}b=0;c&&(b=a._pe.getPointer(c));c=d.map(function(b){return a._pe.ensureString(b)});d=a._pe.ensureInt32(c);
c=a._pe.ensureFloat64(Array(2*g));(l=l(b,g,d,c))&&p(f,g,c);return l}b.geog_to_dms=function(a,b,g,d,f){return c("dms",a,b,g,d,f)};b.dms_to_geog=function(a,b,c,g){return l("dms",a,b,c,g)};b.geog_to_ddm=function(a,b,g,d,f){return c("ddm",a,b,g,d,f)};b.ddm_to_geog=function(a,b,c,g){return l("ddm",a,b,c,g)};b.geog_to_dd=function(a,b,g,d,f){return c("dd",a,b,g,d,f)};b.dd_to_geog=function(a,b,c,g){return l("dd",a,b,c,g)}})(a.PeNotationDms||(a.PeNotationDms={}));var r;(function(b){b.init=function(){b.PE_MGRS_STYLE_NEW=
a._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;b.PE_MGRS_STYLE_OLD=a._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;b.PE_MGRS_STYLE_AUTO=a._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;b.PE_MGRS_180_ZONE_1_PLUS=a._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;b.PE_MGRS_ADD_SPACES=a._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};b.geog_to_mgrs_extended=function(b,c,l,h,m,e,k){a._pe.ensureCache.prepare();var g=0;b&&(g=a._pe.getPointer(b));b=d(l);l=a._pe.ensureFloat64(b);b=f(c,n.PE_MGRS_MAX);
var p=a._pe.ensureInt32(b);if(h=a._pe._pe_geog_to_mgrs_extended(g,c,l,h,m,e,p))for(m=0;m<c;m++)k[m]=a._pe.UTF8ToString(b[m]);return h};b.mgrs_to_geog_extended=function(b,c,d,f,l){a._pe.ensureCache.prepare();var g=0;b&&(g=a._pe.getPointer(b));b=d.map(function(b){return a._pe.ensureString(b)});d=a._pe.ensureInt32(b);b=a._pe.ensureFloat64(Array(2*c));(f=a._pe._pe_mgrs_to_geog_extended(g,c,d,f,b))&&p(l,c,b);return f}})(r=a.PeNotationMgrs||(a.PeNotationMgrs={}));(function(b){b.geog_to_usng=function(b,
c,l,h,m,e,k){a._pe.ensureCache.prepare();var g=0;b&&(g=a._pe.getPointer(b));b=d(l);l=a._pe.ensureFloat64(b);b=f(c,n.PE_MGRS_MAX);var p=a._pe.ensureInt32(b);if(h=a._pe._pe_geog_to_usng(g,c,l,h,m,e,p))for(m=0;m<c;m++)k[m]=a._pe.UTF8ToString(b[m]);return h};b.usng_to_geog=function(b,c,d,f){a._pe.ensureCache.prepare();var g=0;b&&(g=a._pe.getPointer(b));b=d.map(function(b){return a._pe.ensureString(b)});d=a._pe.ensureInt32(b);b=a._pe.ensureFloat64(Array(2*c));(g=a._pe._pe_usng_to_geog(g,c,d,b))&&p(f,c,
b);return g}})(a.PeNotationUsng||(a.PeNotationUsng={}));var E;(function(b){b.init=function(){b.PE_UTM_OPTS_NONE=a._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;b.PE_UTM_OPTS_ADD_SPACES=a._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;b.PE_UTM_OPTS_NS=a._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};b.geog_to_utm=function(b,c,l,h,m){a._pe.ensureCache.prepare();var g=0;b&&(g=a._pe.getPointer(b));b=d(l);l=a._pe.ensureFloat64(b);b=f(c,n.PE_UTM_MAX);var e=a._pe.ensureInt32(b);if(h=a._pe._pe_geog_to_utm(g,
c,l,h,e))for(g=0;g<c;g++)m[g]=a._pe.UTF8ToString(b[g]);return h};b.utm_to_geog=function(b,c,d,f,l){a._pe.ensureCache.prepare();var g=0;b&&(g=a._pe.getPointer(b));b=d.map(function(b){return a._pe.ensureString(b)});d=a._pe.ensureInt32(b);b=a._pe.ensureFloat64(Array(2*c));(f=a._pe._pe_utm_to_geog(g,c,d,f,b))&&p(l,c,b);return f}})(E=a.PeNotationUtm||(a.PeNotationUtm={}));var u;(function(b){var c=new Map;b.init=function(){b.PE_PCSINFO_OPTION_NONE=a._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;b.PE_PCSINFO_OPTION_DOMAIN=
a._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;b.PE_POLE_OUTSIDE_BOUNDARY=a._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;b.PE_POLE_POINT=a._pe.PePCSInfo.prototype.PE_POLE_POINT};b.generate=function(g,d){void 0===d&&(d=b.PE_PCSINFO_OPTION_DOMAIN);var f,h;c.has(g)&&(h=c.get(g),h[d]&&(f=h[d]));f||(f=a._pe.PePCSInfo.prototype.generate(g,d),h||(h=[],c.set(g,h)),h[d]=f);return f}})(u=a.PePCSInfo||(a.PePCSInfo={}));(function(b){b.version_string=function(){return a._pe.PeVersion.prototype.version_string()}})(a.PeVersion||
(a.PeVersion={}));a._init=b})},"esri/geometry/support/GeographicTransformation":function(){define(["require","exports","./GeographicTransformationStep"],function(v,a,e){return function(){function a(a){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(a&&a.steps){var c=0;for(a=a.steps;c<a.length;c++){var b=a[c];b instanceof e?this.steps.push(b):this.steps.push(new e({wkid:b.wkid,wkt:b.wkt,isInverse:b.isInverse}))}}}a.cacheKey=function(a,c){return[void 0!==a.wkid&&null!==
a.wkid?a.wkid.toString():"-1",void 0!==a.wkt&&null!==a.wkt?a.wkt.toString():"",void 0!==c.wkid&&null!==c.wkid?c.wkid.toString():"-1",void 0!==c.wkt&&null!==c.wkt?c.wkt.toString():""].join()};a.fromGE=function(m){var c=new a,b="",h=0;for(m=m.steps;h<m.length;h++){var f=e.fromGE(m[h]);c.steps.push(f);b+=f.uid.toString()+","}c._cached_projection={};c._gtlistentry=null;c._chain=b;return c};a.prototype.getInverse=function(){var e=new a;e.steps=[];for(var c=this.steps.length-1;0<=c;c--)e.steps.push(this.steps[c].getInverse());
return e};a.prototype.getGTListEntry=function(){for(var a="",c=0,b=this.steps;c<b.length;c++)a+=b[c].uid.toString()+",";a!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=a);return this._gtlistentry};a.prototype.assignCachedGe=function(e,c,b){this._cached_projection[a.cacheKey(e,c)]=b};a.prototype.getCachedGeTransformation=function(e,c){for(var b="",h=0,f=this.steps;h<f.length;h++)b+=f[h].uid.toString()+",";b!==this._chain&&(this._gtlistentry=null,this._cached_projection=
{},this._chain=b);e=this._cached_projection[a.cacheKey(e,c)];return void 0===e?null:e};return a}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["require","exports"],function(v,a){var e=0;return function(){function a(a){void 0===a&&(a=null);this.uid=e++;a?(this._wkt=void 0!==a.wkt?a.wkt:null,this._wkid=void 0!==a.wkid?a.wkid:-1,this._isInverse=void 0!==a.isInverse?!0===a.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}a.fromGE=function(e){var c=new a;c._wkt=
e.wkt;c._wkid=e.wkid;c._isInverse=e.isInverse;return c};Object.defineProperty(a.prototype,"wkt",{get:function(){return this._wkt},set:function(a){this._wkt=a;this.uid=e++},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"wkid",{get:function(){return this._wkid},set:function(a){this._wkid=a;this.uid=e++},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isInverse",{get:function(){return this._isInverse},set:function(a){this._isInverse=a;this.uid=e++},enumerable:!0,
configurable:!0});a.prototype.getInverse=function(){var e=new a;e._wkt=this.wkt;e._wkid=this._wkid;e._isInverse=!this.isInverse;return e};return a}()})},"esri/views/2d/layers/LayerView2D":function(){define("require exports tslib ../../../core/Collection ../../../core/collectionUtils ../../../core/watchUtils ../../../core/accessorSupport/decorators ../engine ../../layers/support/ClipArea ../../layers/support/ClipRect ../../layers/support/Geometry ../../layers/support/Path".split(" "),function(v,a,
e,q,m,c,b,h,f,d,p,k){Object.defineProperty(a,"__esModule",{value:!0});var n=q.ofType({key:"type",base:f,typeMap:{rect:d,path:k,geometry:p}});a.LayerView2DMixin=function(a){return function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.clips=new n;b.moving=!1;b.attached=!1;b.lastUpdateId=-1;b.updateRequested=!1;return b}e.__extends(d,a);d.prototype.initialize=function(){var a=this,b;this.container||(this.container=new h.Container);this.handles.add([c.init(this,"suspended",function(b){a.container&&
(a.container.visible=!b);a.view&&!b&&a.updateRequested&&a.view.requestUpdate()},!0),c.init(this,["layer.opacity","container"],function(){var b,c;a.container&&(a.container.opacity=null!==(c=null===(b=a.layer)||void 0===b?void 0:b.opacity)&&void 0!==c?c:1)},!0),c.init(this,["layer.blendMode"],function(b){a.container&&(a.container.blendMode=b)},!0),this.clips.on("change",function(){a.container.clips=a.clips;a.notifyChange("clips")})]);this.container.clips=this.clips;(null===(b=this.view)||void 0===b?
0:b.whenLayerView)?this.view.whenLayerView(this.layer).then(function(b){b!==a||a.attached||a.destroyed||(a.attach(),a.requestUpdate(),a.attached=!0)},function(){}):this.when().then(function(){a.attached||a.destroyed||(a.attach(),a.requestUpdate(),a.attached=!0)},function(){})};d.prototype.destroy=function(){this.attached&&(this.detach(),this.attached=!1);this.handles.remove("initialize");this.updateRequested=!1;this.view=this.layer=null};Object.defineProperty(d.prototype,"updating",{get:function(){return!this.attached||
!this.suspended&&(this.updateRequested||this.isUpdating())},enumerable:!0,configurable:!0});d.prototype.isVisibleAtScale=function(a){var b=!0,c=this.layer,d=c.minScale,c=c.maxScale;if(null!=d&&null!=c){var b=!d,f=!c;!b&&a<=d&&(b=!0);!f&&a>=c&&(f=!0);b=b&&f}return b};d.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())};d.prototype.processUpdate=function(a){this.isFulfilled()&&!this.isResolved()?this.updateRequested=!1:(this._set("updateParameters",
a),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(a)))};d.prototype.isUpdating=function(){return!1};d.prototype.isRendering=function(){return!1};d.prototype.canResume=function(){return a.prototype.canResume.call(this)?this.isVisibleAtScale(this.view.scale):!1};e.__decorate([b.property({type:n,set:function(a){a=m.referenceSetter(a,this._get("clips"),n);this._set("clips",a)}})],d.prototype,"clips",void 0);e.__decorate([b.property()],d.prototype,"moving",void 0);e.__decorate([b.property()],
d.prototype,"attached",void 0);e.__decorate([b.property()],d.prototype,"container",void 0);e.__decorate([b.property({dependsOn:["view.scale","layer.minScale","layer.maxScale"]})],d.prototype,"suspended",void 0);e.__decorate([b.property({readOnly:!0})],d.prototype,"updateParameters",void 0);e.__decorate([b.property()],d.prototype,"updateRequested",void 0);e.__decorate([b.property({dependsOn:["attached","updateRequested","suspended"]})],d.prototype,"updating",null);e.__decorate([b.property()],d.prototype,
"view",void 0);return d=e.__decorate([b.subclass("esri.views.2d.layers.LayerView2D")],d)}(a)}})},"esri/views/layers/support/ClipArea":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(v,a,e,q,m){return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}e.__extends(b,a);return b=e.__decorate([m.subclass("esri.views.layers.support.ClipArea")],b)}(q.JSONSupport)})},"esri/views/layers/support/ClipRect":function(){define(["require",
"exports","tslib","../../../core/accessorSupport/decorators","./ClipArea"],function(v,a,e,q,m){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.type="rect";b.left=null;b.right=null;b.top=null;b.bottom=null;return b}e.__extends(b,a);c=b;b.prototype.clone=function(){return new c({left:this.left,right:this.right,top:this.top,bottom:this.bottom})};Object.defineProperty(b.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0});
var c;e.__decorate([q.property({type:[Number,String],json:{write:!0}})],b.prototype,"left",void 0);e.__decorate([q.property({type:[Number,String],json:{write:!0}})],b.prototype,"right",void 0);e.__decorate([q.property({type:[Number,String],json:{write:!0}})],b.prototype,"top",void 0);e.__decorate([q.property({type:[Number,String],json:{write:!0}})],b.prototype,"bottom",void 0);e.__decorate([q.property({readOnly:!0,dependsOn:["left","right","top","bottom"]})],b.prototype,"version",null);return b=c=
e.__decorate([q.subclass("esri.views.layers.support.ClipRect")],b)}(m)})},"esri/views/layers/support/Geometry":function(){define("require exports tslib ../../../geometry ../../../core/accessorSupport/decorators ../../../geometry/Geometry ../../../geometry/support/jsonUtils ./ClipArea".split(" "),function(v,a,e,q,m,c,b,h){var f={base:c,key:"type",typeMap:{extent:q.Extent,polygon:q.Polygon}};return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.type="geometry";b.geometry=null;
return b}e.__extends(c,a);d=c;Object.defineProperty(c.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new d({geometry:this.geometry.clone()})};var d;e.__decorate([m.property({types:f,json:{read:b.fromJSON,write:!0}})],c.prototype,"geometry",void 0);e.__decorate([m.property({readOnly:!0,dependsOn:["geometry"]})],c.prototype,"version",null);return c=d=e.__decorate([m.subclass("esri.views.layers.support.Geometry")],
c)}(h)})},"esri/views/layers/support/Path":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./ClipArea"],function(v,a,e,q,m){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.type="path";b.path=[];return b}e.__extends(b,a);Object.defineProperty(b.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0});e.__decorate([q.property({type:[[[Number]]],json:{write:!0}})],b.prototype,"path",
void 0);e.__decorate([q.property({readOnly:!0,dependsOn:["path"]})],b.prototype,"version",null);return b=e.__decorate([q.subclass("esri.views.layers.support.Path")],b)}(m)})},"esri/views/layers/ImageryTileLayerView":function(){define("require exports tslib ../../Graphic ../../core/Error ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators ../../layers/graphics/data/projectionSupport ../../layers/support/rasterFunctions/rasterProjectionHelper ./support/popupUtils".split(" "),
function(v,a,e,q,m,c,b,h,f,d,p){Object.defineProperty(a,"__esModule",{value:!0});a.ImageryTileLayerView=function(a){return function(a){function k(){var b=null!==a&&a.apply(this,arguments)||this;b.layer=null;b.view=null;b.fullExtent=null;b.tileInfo=null;b._rasterFieldPrefix="Raster.";b.datumTransformation=null;return b}e.__extends(k,a);Object.defineProperty(k.prototype,"hasTilingEffects",{get:function(){return this.layer.renderer&&"dynamicRangeAdjustment"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment},
enumerable:!0,configurable:!0});k.prototype.fetchPopupFeatures=function(a,d){var f,h;return e.__awaiter(this,void 0,void 0,function(){var g,l,k,r,n,t,u,E,v,w,y,H,A;return e.__generator(this,function(e){switch(e.label){case 0:g=this.layer;if(!a)return[2,b.reject(new m("imageryTileLayerView:fetchPopupFeatures","Nothing to fetch without area",{layer:g}))];l=g.popupEnabled;k=p.getFetchPopupTemplate(g,d);if(!l||!c.isSome(k))throw new m("imageryTileLayerView:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",
{popupEnabled:l,popupTemplate:k});r=[];return[4,g.identify(a)];case 1:if(n=e.sent().value){t=n.join(", ");u={ObjectId:0};u["Raster.ServicePixelValue"]=this._formatAttributeValue(t,"Raster.ServicePixelValue");if((E=null===(h=null===(f=g.rasterInfo)||void 0===f?void 0:f.attributeTable)||void 0===h?void 0:h.features)&&0<E.length&&(v=E.filter(function(a){return String(a.attributes.value||a.attributes.Value||a.attributes.VALUE)===t}),0<v.length&&(w=v[0])))for(y in w.attributes)w.attributes.hasOwnProperty(y)&&
(H=this._rasterFieldPrefix+y,u[H]=this._formatAttributeValue(w.attributes[y],H));A=new q(this.fullExtent.clone(),null,u);A.layer=g;A.sourceLayer=A.layer;r.push(A)}return[2,r]}})})};k.prototype.updateFullExtent=function(){var a=this.layer.tileInfo,c;a&&a.spatialReference||(c=new m("layerview:tiling-information-missing","The layer doesn't provide tiling information",{layer:this.layer}));a=this.view.spatialReference;f.doesBrowserSupportProjection(a,this.layer.spatialReference)?(a=d.projectExtent(this.layer.fullExtent,
a,this.datumTransformation),null==a&&(c=new m("layerview:projection-not-supported","The layer extent cannot be projected to the view's spatial reference",{layer:this.layer})),this._set("fullExtent",a)):c=new m("layerview:projection-not-supported","The layer requires projection engine, which is not supported in current browser",{layer:this.layer});return c?b.reject(c):b.resolve()};k.prototype._formatAttributeValue=function(a,b){if("string"===typeof a&&(b=(b=this._getFieldInfo(this.layer.popupTemplate&&
this.layer.popupTemplate.fieldInfos,b))&&b.format)){var c=void 0,d=void 0;return-1<a.trim().indexOf(",")?(c=",",this._formatDelimitedString(a,c,c+" ",b)):-1<a.trim().indexOf(" ")?(c=d=" ",this._formatDelimitedString(a,c,d,b)):this._formatNumberFromString(a,b)}return a};k.prototype._getFieldInfo=function(a,b){if(a&&a.length&&b){var c=b.toLowerCase(),d=void 0;a.some(function(a){return!a.fieldName||a.fieldName.toLowerCase()!==c&&a.fieldName.toLowerCase()!==c.replace(/ /g,"_")?!1:(d=a,!0)});return d}};
k.prototype._formatDelimitedString=function(a,b,c,d){var g=this;return a&&b&&c&&d?a.trim().split(b).map(function(a){return g._formatNumberFromString(a,d)}).join(c):a};k.prototype._formatNumberFromString=function(a,b){if(!a||!b)return a;var c=Number(a);return isNaN(c)?a:b.format(c)};e.__decorate([h.property()],k.prototype,"layer",void 0);e.__decorate([h.property()],k.prototype,"view",void 0);e.__decorate([h.property()],k.prototype,"fullExtent",void 0);e.__decorate([h.property()],k.prototype,"tileInfo",
void 0);e.__decorate([h.property()],k.prototype,"_rasterFieldPrefix",void 0);e.__decorate([h.property({readOnly:!0,dependsOn:["layer.renderer"]})],k.prototype,"hasTilingEffects",null);return k=e.__decorate([h.subclass("esri.views.layers.ImageryTileLayerView")],k)}(a)}})},"esri/layers/graphics/data/projectionSupport":function(){define("require exports tslib ../../../core/Error ../../../core/promiseUtils ../../../geometry/projection ../../../geometry/geometryAdapters/json ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),
function(v,a,e,q,m,c,b,h,f){function d(a,b){var c;if(!b)return null;if("x"in b){var d={x:0,y:0};a=a(b.x,b.y,t);d.x=a[0];d.y=a[1];null!=b.z&&(d.z=b.z);null!=b.m&&(d.m=b.m);return d}if("xmin"in b)return d={xmin:0,ymin:0,xmax:0,ymax:0},c=a(b.xmin,b.ymin,t),d.xmin=c[0],d.ymin=c[1],a=a(b.xmax,b.ymax,t),d.xmax=a[0],d.ymax=a[1],b.hasZ&&(d.zmin=b.zmin,d.zmax=b.zmax,d.hasZ=!0),b.hasM&&(d.mmin=b.mmin,d.mmax=b.mmax,d.hasM=!0),d;if("rings"in b)return{rings:p(b.rings,a),hasM:b.hasM,hasZ:b.hasZ};if("paths"in b)return{paths:p(b.paths,
a),hasM:b.hasM,hasZ:b.hasZ};if("points"in b)return{points:k(b.points,a),hasM:b.hasM,hasZ:b.hasZ}}function p(a,b){for(var c=[],d=0;d<a.length;d++)c.push(k(a[d],b));return c}function k(a,b){for(var c=[],d=0;d<a.length;d++){var f=a[d],g=b(f[0],f[1],[0,0]);c.push(g);2<f.length&&g.push(f[2]);3<f.length&&g.push(f[3])}return c}function n(a,b){return!h.isValid(a)||!h.isValid(b)||h.equals(a,b)||f.canProject(a,b)?!1:!0}Object.defineProperty(a,"__esModule",{value:!0});var t=[0,0];a.doesBrowserSupportProjection=
function(a,b){return n(a,b)?c.isSupported():!0};a.checkProjectionSupport=function(a,b){return e.__awaiter(this,void 0,void 0,function(){var d,f,g;return e.__generator(this,function(h){if(!b)return[2];if(Array.isArray(a)){d=0;for(f=a;d<f.length;d++)if(g=f[d],n(g.geometry&&g.geometry.spatialReference,b)){if(c.isSupported())return[2,c.load()];throw new q("feature-store:unsupported-query","projection not supported",{inSpatialReference:a,outSpatialReference:b});}return[2]}if(!n(a,b))return[2];if(c.isSupported())return[2,
c.load()];throw new q("feature-store:unsupported-query","projection not supported",{inSpatialReference:a,outSpatialReference:b});})})};var r=d.bind(null,f.lngLatToXY),E=d.bind(null,f.xyToLngLat);a.project=function(a,d,e){if(!a)return a;e||(e=d,d=a.spatialReference);return h.isValid(d)&&h.isValid(e)&&!h.equals(d,e)?f.canProject(d,e)?h.isWebMercator(e)?r(a):E(a):c.projectMany(b.jsonAdapter,[a],d,e,null)[0]:a};var u=new (function(){function a(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}
a.prototype.push=function(a,b,c){return e.__awaiter(this,void 0,void 0,function(){var d,f=this;return e.__generator(this,function(g){a&&a.length&&b&&c&&!h.equals(b,c)||m.resolve(a);d={geometries:a,inSpatialReference:b,outSpatialReference:c,resolve:null};this._jobs.push(d);return[2,m.create(function(a){d.resolve=a;null===f._timer&&(f._timer=setTimeout(f._process,10))})]})})};a.prototype._process=function(){this._timer=null;var a=this._jobs.shift();if(a){var d=a.geometries,e=a.inSpatialReference,k=
a.outSpatialReference,a=a.resolve;f.canProject(e,k)?h.isWebMercator(k)?a(d.map(r)):a(d.map(E)):a(c.projectMany(b.jsonAdapter,d,e,k,null));0<this._jobs.length&&(this._timer=setTimeout(this._process,10))}};return a}());a.projectMany=function(a,b,c){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(d){return[2,u.push(a,b,c)]})})}})},"esri/geometry/geometryAdapters/json":function(){define(["require","exports"],function(v,a){Object.defineProperty(a,"__esModule",{value:!0});
a.jsonAdapter={convertToGEGeometry:function(a,b){return null==b?null:a.convertJSONToGeometry(b)},exportPoint:function(a,b,c){c=new e(a.getPointX(b),a.getPointY(b),c);var d=a.hasZ(b),f=a.hasM(b);d&&(c.z=a.getPointZ(b));f&&(c.m=a.getPointM(b));return c},exportPolygon:function(a,b,c){return new q(a.exportPaths(b),c,a.hasZ(b),a.hasM(b))},exportPolyline:function(a,b,c){return new m(a.exportPaths(b),c,a.hasZ(b),a.hasM(b))},exportMultipoint:function(a,b,d){return new c(a.exportPoints(b),d,a.hasZ(b),a.hasM(b))},
exportExtent:function(a,c,d){var f=a.hasZ(c),e=a.hasM(c);d=new b(a.getXMin(c),a.getYMin(c),a.getXMax(c),a.getYMax(c),d);f&&(f=a.getZExtent(c),d.zmin=f.vmin,d.zmax=f.vmax);e&&(a=a.getMExtent(c),d.mmin=a.vmin,d.mmax=a.vmax);return d}};var e=function(){return function(a,b,c){this.x=a;this.y=b;this.spatialReference=c;this.m=this.z=void 0}}(),q=function(){return function(a,b,c,e){this.rings=a;this.spatialReference=b;this.hasM=this.hasZ=void 0;c&&(this.hasZ=c);e&&(this.hasM=e)}}(),m=function(){return function(a,
b,c,e){this.paths=a;this.spatialReference=b;this.hasM=this.hasZ=void 0;c&&(this.hasZ=c);e&&(this.hasM=e)}}(),c=function(){return function(a,b,c,e){this.points=a;this.spatialReference=b;this.hasM=this.hasZ=void 0;c&&(this.hasZ=c);e&&(this.hasM=e)}}(),b=function(){return function(a,b,c,e,k){this.xmin=a;this.ymin=b;this.xmax=c;this.ymax=e;this.spatialReference=k;this.mmax=this.mmin=this.zmax=this.zmin=void 0}}()})},"esri/views/layers/support/popupUtils":function(){define("require exports tslib @dojo/framework/shim/array ../../../core/maybe ../../../layers/support/fieldUtils".split(" "),
function(v,a,e,q,m,c){Object.defineProperty(a,"__esModule",{value:!0});a.getRequiredFields=function(a,h){void 0===h&&(h=a.popupTemplate);return e.__awaiter(this,void 0,void 0,function(){var b,d,p,k,n,t,r,v,u;return e.__generator(this,function(f){switch(f.label){case 0:return m.isSome(h)?[4,h.getRequiredFields(a.fields)]:[2,[]];case 1:return b=f.sent(),d=h.lastEditInfoEnabled,p=a.objectIdField,k=a.typeIdField,n=a.globalIdField,t=a.relationships,q.includes(b,"*")?[2,["*"]]:d?[4,c.getFeatureEditFields(a)]:
[3,3];case 2:return v=f.sent(),[3,4];case 3:v=[],f.label=4;case 4:return r=v,u=c.fixFields(a.fields,e.__spreadArrays(b,r)),k&&u.push(k),u&&p&&c.hasField(a.fields,p)&&-1===u.indexOf(p)&&u.push(p),u&&n&&c.hasField(a.fields,n)&&-1===u.indexOf(n)&&u.push(n),t&&t.forEach(function(b){b=b.keyField;u&&b&&c.hasField(a.fields,b)&&-1===u.indexOf(b)&&u.push(b)}),[2,u]}})})};a.getFetchPopupTemplate=function(a,c){return a.popupTemplate?a.popupTemplate:m.isSome(c)&&c.defaultPopupTemplateEnabled&&m.isSome(a.defaultPopupTemplate)?
a.defaultPopupTemplate:null}})},"esri/views/support/drapedUtils":function(){define("require exports ../../geometry ../../core/maybe ../../core/unitUtils ../../renderers/support/clickToleranceUtils".split(" "),function(v,a,e,q,m,c){function b(a,b,c,k){void 0===k&&(k=new e.Extent);var d;if("2d"===c.type)d=b*c.resolution;else if("3d"===c.type){var f=c.basemapTerrain,h=f.overlayManager,h=h?h.overlayPixelSizeInMapUnits(a):1;d=f&&!f.spatialReference.equals(c.spatialReference)?m.getMetersPerUnitForSR(f.spatialReference)/
m.getMetersPerUnitForSR(c.spatialReference):b*h}b=a.x-d;f=a.y-d;h=a.x+d;a=a.y+d;c=c.spatialReference;k.xmin=Math.min(b,h);k.ymin=Math.min(f,a);k.xmax=Math.max(b,h);k.ymax=Math.max(f,a);k.spatialReference=c;return k}Object.defineProperty(a,"__esModule",{value:!0});a.createQueryGeometry=b;a.intersectsDrapedGeometry=function(a,d,e){a=e.toMap(a);if(q.isNone(a))return null;var f=c.calculateTolerance();return b(a,f,e,h).intersects(d)?a:null};var h=new e.Extent})},"esri/renderers/support/clickToleranceUtils":function(){define(["require",
"exports"],function(v,a){function e(a,b){return b?"xoffset"in b&&b.xoffset?Math.max(a,Math.abs(b.xoffset)):"yoffset"in b&&b.yoffset?Math.max(a,Math.abs(b.yoffset||0)):a:a}function q(a,b){if("number"===typeof a)return a;if(a&&a.stops&&a.stops.length){a=a.stops;for(var c=b=0,f=0;f<a.length;f++){var d=a[f].size;"number"===typeof d&&(b+=d,c++)}return b/c}return b}function m(a,b){if(!b)return a;b=b.filter(function(a){return"size"===a.type}).map(function(b){var c=b.minSize;return(q(b.maxSize,a)+q(c,a))/
2});var c=0,f=b.length;if(0===f)return a;for(var d=0;d<f;d++)c+=b[d];return Math.max(Math.floor(c/f),a)}Object.defineProperty(a,"__esModule",{value:!0});a.calculateTolerance=function(a){var b=a&&a.renderer;a="touch"===(a&&a.event&&a.event.pointerType)?9:6;if(!b)return a;a="visualVariables"in b?m(a,b.visualVariables):a;if("simple"===b.type)return e(a,b.symbol);if("unique-value"===b.type){var c=a;b.uniqueValueInfos.forEach(function(a){c=e(c,a.symbol)});return c}if("class-breaks"===b.type){var f=a;b.classBreakInfos.forEach(function(a){f=
e(f,a.symbol)});return f}return a}})},"*noref":1}});
define("require exports tslib ../../../geometry ../../../Graphic ../../../core/has ../../../core/Logger ../../../core/maybe ../../../core/promiseUtils ../../../core/screenUtils ../../../core/watchUtils ../../../core/accessorSupport/decorators ../../../layers/support/PixelBlock ../../../layers/support/TileInfo ../../../layers/support/rasterDatasets/RawBlockCache ../../../layers/support/rasterFunctions/pixelUtils ../../../layers/support/rasterFunctions/rasterProjectionHelper ../engine ./LayerView2D ../tiling/TileInfoView ../tiling/TileQueue ../tiling/TileStrategy ../../layers/ImageryTileLayerView ../../layers/LayerView ../../layers/RefreshableLayerView ../../support/drapedUtils".split(" "),function(v,
a,e,q,m,c,b,h,f,d,p,k,n,t,r,E,u,l,g,C,D,I,J,G,z,x){var F=b.getLogger("esri.views.2d.layers.ImageryTileLayerView2D"),w=[0,0];return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._tileStrategy=null;b._tileInfoView=null;b._fetchQueue=null;b._blockCacheRegistryUrl=null;b._blockCacheRegistryId=null;b._bitmapView=null;b._emptyTilePixelBlock=null;b._previousSrcResolution=null;b._needBlockCacheUpdate=!1;b._globalSymbolizerParams=null;b._symbolizerParams=null;b._abortController=
null;b._globalUpdateRequested=!1;b.useWebGLForProcessing=null;b.datumTransformation=null;b.layer=null;b._redrawDebounced=f.debounce(function(a){return b._redrawImage(a)},2E3);return b}e.__extends(b,a);b.prototype.initialize=function(){var a=this.updateFullExtent();this.addResolvingPromise(a)};Object.defineProperty(b.prototype,"useProgressiveUpdate",{get:function(){return null==this._get("useProgressiveUpdate")?!0:this._get("useProgressiveUpdate")},set:function(a){var b=this;this._tileStrategy&&this.useProgressiveUpdate!==
a&&(this._tileStrategy.destroy(),this._bitmapView.removeAllChildren(),this._tileStrategy=new I({cachePolicy:a?"keep":"purge",resampling:!1,acquireTile:function(a){return b.acquireTile(a)},releaseTile:function(a){return b.releaseTile(a)},cacheSize:a?40:0,tileInfoView:this._tileInfoView}),this._set("useProgressiveUpdate",a),this.requestUpdate())},enumerable:!0,configurable:!0});b.prototype.hitTest=function(a,b){if(this.suspended)return f.resolve(null);a=this.view.toMap(d.createScreenPoint(a,b));return f.resolve(new m({attributes:{},
geometry:a}))};b.prototype.update=function(a){this._fetchQueue.pause();this._fetchQueue.state=a.state;this._tileStrategy.update(a);this._fetchQueue.resume();var b=!this.useProgressiveUpdate||this._needBlockCacheUpdate;if(this.layer.raster&&b){b=a.state;a=b.extent;var b=b.resolution,c=this._previousViewResolution===b?this._previousSrcResolution:u.projectResolution(new q.Point({x:b,y:b,spatialReference:this.view.spatialReference}),this.layer.spatialReference,this.fullExtent,this.datumTransformation);
a=a.toJSON?a:q.Extent.fromJSON(a);r.update(this._blockCacheRegistryUrl,this._blockCacheRegistryId,a,b,c,this.layer.raster.ioConfig.sampling);this._previousViewResolution!==b&&(this._previousViewResolution=b,null!=this._symbolizerParams&&this._updateSymbolizerParams());this._previousSrcResolution=c;this._needBlockCacheUpdate=!1}this.notifyChange("updating")};b.prototype.attach=function(){var a=this;this.layer.increaseRasterJobHandlerUsage();null==this.useWebGLForProcessing&&(this.useWebGLForProcessing=
this.layer.symbolizer.canRenderInWebGL);c("esri-webgl-texture-float")&&c("esri-webgl-color-buffer-float")||(this.useWebGLForProcessing=!1);this.layer.raster&&(this.layer.raster.ioConfig.allowPartialFill=!0);var b=this._createTileInfo();this._set("tileInfo",b);this._tileInfoView=new C(b,this.fullExtent);this._fetchQueue=new D({tileInfoView:this._tileInfoView,concurrency:10,process:function(b,c){return a.fetchTile(b,c)}});this._tileStrategy=new I({cachePolicy:this.useProgressiveUpdate?"keep":"purge",
resampling:!1,acquireTile:function(b){return a.acquireTile(b)},releaseTile:function(b){return a.releaseTile(b)},cacheSize:this.useProgressiveUpdate?40:0,tileInfoView:this._tileInfoView});this._bitmapView=new l.RasterTileContainer(this._tileInfoView);this.container.addChild(this._bitmapView);this.handles.add([p.watch(this,["layer.interpolation","layer.bandIds","layer.renderer"],function(){return a._redrawDebounced().catch(function(a){f.isAbortError(a)||F.error(a)})}),p.watch(this,["layer.multidimensionalDefinition"],
this.refreshDebounced)],"attach");this._updateBlockCacheRegistry()};b.prototype.detach=function(){this.handles.remove("attach");this.layer.decreaseRasterJobHandlerUsage();this._tileStrategy.destroy();this._fetchQueue.clear();this.container.removeAllChildren();this._fetchQueue=this._tileStrategy=this._tileInfoView=null;r.unregister(this._blockCacheRegistryUrl,this._blockCacheRegistryId)};b.prototype.moveStart=function(){this.requestUpdate()};b.prototype.viewChange=function(){this.requestUpdate()};
b.prototype.moveEnd=function(){var a=this;if(this.hasTilingEffects||!this.useProgressiveUpdate)this._abortController&&this._abortController.abort(),this._abortController=f.createAbortController(),0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then(function(){a._globalUpdateRequested=!1;a.requestUpdate()});this.requestUpdate()};b.prototype.createFetchPopupFeaturesQueryGeometry=function(a,b){return x.createQueryGeometry(a,b,this.view)};b.prototype.doRefresh=function(){return e.__awaiter(this,
void 0,void 0,function(){var a=this;return e.__generator(this,function(b){if(this.updateRequested||this.suspended)return[2];this._updateSymbolizerParams();this._updateBlockCacheRegistry();this._fetchQueue.reset();this._tileStrategy.tiles.forEach(function(b){return a._enqueueTileFetch(b)});this.notifyChange("updating");return[2]})})};b.prototype.isUpdating=function(){return 0<this._fetchQueue.length||this._globalUpdateRequested};b.prototype.acquireTile=function(a){var b;a=this._bitmapView.createTile(a);
var c=a.bitmap;b=this._tileInfoView.getTileCoords(w,a.key);c.x=b[0];c.y=b[1];c.resolution=this._tileInfoView.getTileResolution(a.key);b=this._tileInfoView.tileInfo.size;c.width=b[0];c.height=b[1];this._enqueueTileFetch(a);this.requestUpdate();this._needBlockCacheUpdate=!0;this._globalUpdateRequested=this.hasTilingEffects||!this.useProgressiveUpdate;return a};b.prototype.releaseTile=function(a){var b=this;this._fetchQueue.abort(a.key.id);this._bitmapView.removeChild(a);a.once("detach",function(){a.destroy();
b.requestUpdate()});this.requestUpdate()};b.prototype.fetchTile=function(a,b){b=!h.isNone(b)&&b.signal;b={tileInfo:this.tileInfo,signal:h.unwrap(b),registryId:this._blockCacheRegistryId,requestRawData:this.useWebGLForProcessing,srcResolution:this._previousSrcResolution,datumTransformation:this.datumTransformation};return this.layer.fetchTile(a.level,a.row,a.col,b)};b.prototype._createTileInfo=function(){var a=this.view.spatialReference,b=new q.Point({x:this.fullExtent.xmin,y:this.fullExtent.ymax,
spatialReference:a}),a=t.create({spatialReference:a,size:512});if(0===a.origin.x||a.origin.x>b.x)a.origin=b;return a};b.prototype._enqueueTileFetch=function(a,b){return e.__awaiter(this,void 0,void 0,function(){var b,c,d,g,h,k,l,m,n=this;return e.__generator(this,function(e){switch(e.label){case 0:if(this._fetchQueue.has(a.key.id))return[2];e.label=1;case 1:return e.trys.push([1,13,,14]),[4,this._fetchQueue.push(a.key)];case 2:b=e.sent();c=this.layer.bandIds;d=!this.useProgressiveUpdate||this.hasTilingEffects&&
!this._globalSymbolizerParams;if(!this._globalUpdateRequested||this.moving||0!==this._fetchQueue.length)return[3,7];d=!1;e.label=3;case 3:return e.trys.push([3,5,,6]),[4,this._redrawImage(this._abortController&&this._abortController.signal)];case 4:return e.sent(),[3,6];case 5:return g=e.sent(),f.isAbortError(g)&&F.error(g),[3,6];case 6:this._globalUpdateRequested=!1,e.label=7;case 7:this.useWebGLForProcessing&&!this.hasTilingEffects&&null==this._symbolizerParams&&this._updateSymbolizerParams();if(!b||
!b.pixelBlock)return[3,11];if(this.useWebGLForProcessing)return[3,9];h={extent:b.extent,pixelBlock:b.pixelBlock};return[4,this.layer.applyRenderer(h,this.hasTilingEffects&&this._globalSymbolizerParams&&"stretch"===this._globalSymbolizerParams.type?this._globalSymbolizerParams:null)];case 8:return k=e.sent(),a.bitmap.rawPixelData=h,a.bitmap.source=k,[3,10];case 9:a.bitmap.source=b.pixelBlock,e.label=10;case 10:return a.bitmap.symbolizerParameters=this.useWebGLForProcessing?this._globalSymbolizerParams||
this._symbolizerParams:null,!a.bitmap.transformGrid&&this.useWebGLForProcessing&&(a.bitmap.transformGrid=b.transformGrid),[3,12];case 11:l=this._createEmptyTilePixelBlock(),a.bitmap.source=l,a.bitmap.symbolizerParameters=this.useWebGLForProcessing?this._symbolizerParams:null,a.bitmap.transformGrid=null,e.label=12;case 12:return a.bitmap.bandIds=c,a.bitmap.width=this._tileInfoView.tileInfo.size[0],a.bitmap.height=this._tileInfoView.tileInfo.size[1],a.bitmap.interpolation=this._getLayerInterpolation(),
a.bitmap.suspended=d,a.bitmap.invalidateTexture(),a.once("attach",function(){return n.requestUpdate()}),this._bitmapView.addChild(a),[3,14];case 13:return m=e.sent(),f.isAbortError(m)||F.error(m),[3,14];case 14:return this.requestUpdate(),[2]}})})};b.prototype._redrawImage=function(a){return e.__awaiter(this,void 0,void 0,function(){var b,c,d=this;return e.__generator(this,function(g){switch(g.label){case 0:return this.layer.updateRenderer(),this.hasTilingEffects?[4,this._updateGlobalSymbolizerParams(a)]:
[3,2];case 1:return g.sent(),[3,3];case 2:this._updateSymbolizerParams(),this._globalSymbolizerParams=null,g.label=3;case 3:return b=this.layer.bandIds,c=this._bitmapView.children.map(function(a){return e.__awaiter(d,void 0,void 0,function(){var c;return e.__generator(this,function(d){switch(d.label){case 0:if(this.useWebGLForProcessing)return[3,2];c=a.bitmap;return[4,this.layer.applyRenderer(a.bitmap.rawPixelData,this.hasTilingEffects&&this._globalSymbolizerParams&&"stretch"===this._globalSymbolizerParams.type?
this._globalSymbolizerParams:null)];case 1:c.source=d.sent(),d.label=2;case 2:return a.bitmap.symbolizerParameters=this.useWebGLForProcessing?this._globalSymbolizerParams||this._symbolizerParams:null,a.bitmap.bandIds=b,a.bitmap.interpolation=this._getLayerInterpolation(),a.bitmap.suspended=!1,[2]}})})}),[4,f.eachAlways(c)];case 4:return g.sent(),this.container.requestRender(),[2]}})})};b.prototype._createEmptyTilePixelBlock=function(){if(!this._emptyTilePixelBlock){var a=this._tileInfoView.tileInfo.size[0],
b=this._tileInfoView.tileInfo.size[1];this._emptyTilePixelBlock=new n({width:a,height:b,pixels:[new Uint8Array(a*b)],mask:new Uint8Array(a*b),pixelType:"u8"})}return this._emptyTilePixelBlock};b.prototype._updateGlobalSymbolizerParams=function(a){return e.__awaiter(this,void 0,void 0,function(){var b,c,d;return e.__generator(this,function(e){switch(e.label){case 0:return b={srcResolution:this._previousSrcResolution,registryId:this._blockCacheRegistryId,signal:a},[4,this.layer.fetchPixels(this.view.extent,
this.view.width,this.view.height,b)];case 1:c=e.sent();if(!c||!c.pixelBlock)return[2];d=this.layer.symbolizer.generateWebGLParameters({pixelBlock:E.extractBands(c.pixelBlock,this.layer.bandIds),isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousViewResolution,y:this._previousViewResolution},bandIds:this.layer.bandIds});!this.useWebGLForProcessing&&d&&"stretch"===d.type&&this.layer.renderer&&"raster-stretch"===this.layer.renderer.type&&(d.factor=d.factor.map(function(a){return 255*
a}),d.outMin=Math.round(255*d.outMin),d.outMax=Math.round(255*d.outMax));this._globalSymbolizerParams=d;return[2]}})})};b.prototype._updateSymbolizerParams=function(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousViewResolution,y:this._previousViewResolution},bandIds:this.layer.bandIds})};b.prototype._updateBlockCacheRegistry=function(){var a=this.layer,b=a.url,c=a.rasterInfo,d=a.multidimensionalDefinition,
a=a.raster,b=d&&c&&c.multidimensionalInfo?b+"?sliceId\x3d"+a.getSliceIndex(d):b;b!==this._blockCacheRegistryUrl&&(null==this._blockCacheRegistryUrl&&r.unregister(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=r.register(b,this.layer.raster.rasterInfo),this._blockCacheRegistryUrl=b)};b.prototype._getLayerInterpolation=function(){var a=this.layer.renderer.type;return"raster-colormap"===a||"unique-value"===a||"class-breaks"===a?"nearest":this.layer.interpolation};
e.__decorate([k.property()],b.prototype,"useProgressiveUpdate",null);return b=e.__decorate([k.subclass("esri.views.2d.layers.ImageryTileLayerView2D")],b)}(J.ImageryTileLayerView(z.RefreshableLayerView(g.LayerView2DMixin(G))))});