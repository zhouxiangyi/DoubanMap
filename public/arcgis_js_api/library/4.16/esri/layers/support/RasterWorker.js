// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),function(a,f,d,n,k,m,h,e,c,b,g,p){Object.defineProperty(f,"__esModule",{value:!0});f.Extent=k;f.BaseGeometry=m;f.Multipoint=h;f.Point=e;f.Polygon=c;f.Polyline=b;f.SpatialReference=g;f.isGeometry=function(b){return b instanceof
m};f.fromJSON=p.fromJSON;f.typeKebabDictionary=d.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});f.isFeatureGeometryType=function(b){return"point"===b||"multipoint"===b||"polyline"===b||"polygon"===b};f.featureGeometryTypeKebabDictionary=d.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});
f.geometryTypes={base:m,key:"type",typeMap:{extent:k,multipoint:h,point:e,polyline:b,polygon:c}};f.ensureType=n.ensureOneOfType(f.geometryTypes)})},"esri/geometry/Extent":function(){define("require exports tslib ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,f,d,n,k,m,h,e,c,b,g,p,r){function q(b,c,g){return null==c?g:null==
g?c:b(c,g)}a=function(l){function a(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=l.apply(this,b)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}d.__extends(a,l);h=a;a.prototype.normalizeCtorArgs=function(b,g,e,a,l){return!b||"esri.geometry.SpatialReference"!==b.declaredClass&&null==b.wkid?"object"===typeof b?(b.spatialReference=null==b.spatialReference?c.WGS84:b.spatialReference,b):{xmin:b,ymin:g,xmax:e,ymax:a,
spatialReference:null==l?c.WGS84:l}:{spatialReference:b,xmin:0,ymin:0,xmax:0,ymax:0}};a.fromBounds=function(b,c){return new h({xmin:b[0],ymin:b[1],xmax:b[2],ymax:b[3],spatialReference:c})};Object.defineProperty(a.prototype,"center",{get:function(){var b=new e({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(b.z=.5*(this.zmin+this.zmax));this.hasM&&(b.m=.5*(this.mmin+this.mmax));return b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});a.prototype.centerAt=function(b){var c=this.center;return null!=b.z&&this.hasZ?this.offset(b.x-c.x,b.y-c.y,b.z-c.z):this.offset(b.x-c.x,b.y-c.y)};a.prototype.clone=function(){var b=new h;b.xmin=this.xmin;b.ymin=this.ymin;b.xmax=this.xmax;b.ymax=this.ymax;b.spatialReference=this.spatialReference;null!=this.zmin&&(b.zmin=this.zmin,b.zmax=this.zmax);null!=this.mmin&&(b.mmin=this.mmin,b.mmax=this.mmax);return b};
a.prototype.contains=function(c){if(!c)return!1;var g=this.spatialReference,e=c.spatialReference;g&&e&&!g.equals(e)&&r.canProject(g,e)&&(c=g.isWebMercator?r.geographicToWebMercator(c):r.webMercatorToGeographic(c,!0));return"point"===c.type?b.extentContainsPoint(this,c):"extent"===c.type?b.extentContainsExtent(this,c):!1};a.prototype.equals=function(b){if(!b)return!1;var c=this.spatialReference,g=b.spatialReference;c&&g&&!c.equals(g)&&r.canProject(c,g)&&(b=c.isWebMercator?r.geographicToWebMercator(b):
r.webMercatorToGeographic(b,!0));return this.xmin===b.xmin&&this.ymin===b.ymin&&this.zmin===b.zmin&&this.mmin===b.mmin&&this.xmax===b.xmax&&this.ymax===b.ymax&&this.zmax===b.zmax&&this.mmax===b.mmax};a.prototype.expand=function(b){b=.5*(1-b);var c=this.width*b,g=this.height*b;this.xmin+=c;this.ymin+=g;this.xmax-=c;this.ymax-=g;this.hasZ&&(c=(this.zmax-this.zmin)*b,this.zmin+=c,this.zmax-=c);this.hasM&&(b*=this.mmax-this.mmin,this.mmin+=b,this.mmax-=b);return this};a.prototype.intersects=function(b){if(n.isNone(b))return!1;
var c=this.spatialReference,e=b.spatialReference;c&&e&&!c.equals(e)&&r.canProject(c,e)&&(b=c.isWebMercator?r.geographicToWebMercator(b):r.webMercatorToGeographic(b,!0));c=g.getExtentIntersector(b.type);return"mesh"!==b.type?c(this,b):c(this,b.extent)};a.prototype.normalize=function(){var b=this._normalize(!1,!0);return Array.isArray(b)?b:[b]};a.prototype.offset=function(b,c,g){this.xmin+=b;this.ymin+=c;this.xmax+=b;this.ymax+=c;null!=g&&(this.zmin+=g,this.zmax+=g);return this};a.prototype.shiftCentralMeridian=
function(){return this._normalize(!0)};a.prototype.union=function(b){this.xmin=Math.min(this.xmin,b.xmin);this.ymin=Math.min(this.ymin,b.ymin);this.xmax=Math.max(this.xmax,b.xmax);this.ymax=Math.max(this.ymax,b.ymax);if(this.hasZ||b.hasZ)this.zmin=q(Math.min,this.zmin,b.zmin),this.zmax=q(Math.max,this.zmax,b.zmax);if(this.hasM||b.hasM)this.mmin=q(Math.min,this.mmin,b.mmin),this.mmax=q(Math.max,this.mmax,b.mmax);return this};a.prototype.intersection=function(b){if(!this.intersects(b))return null;this.xmin=
Math.max(this.xmin,b.xmin);this.ymin=Math.max(this.ymin,b.ymin);this.xmax=Math.min(this.xmax,b.xmax);this.ymax=Math.min(this.ymax,b.ymax);if(this.hasZ||b.hasZ)this.zmin=q(Math.max,this.zmin,b.zmin),this.zmax=q(Math.min,this.zmax,b.zmax);if(this.hasM||b.hasM)this.mmin=q(Math.max,this.mmin,b.mmin),this.mmax=q(Math.min,this.mmax,b.mmax);return this};a.prototype.toJSON=function(b){return this.write(null,b)};a.prototype._shiftCM=function(b){void 0===b&&(b=p.getInfo(this.spatialReference));if(!b||!this.spatialReference)return this;
var g=this.spatialReference,e=this._getCM(b);if(e){var a=g.isWebMercator?r.webMercatorToGeographic(e):e;this.xmin-=e.x;this.xmax-=e.x;g.isWebMercator||(a.x=this._normalizeX(a.x,b).x);this.spatialReference=new c(k.replace(g.isWGS84?b.altTemplate:b.wkTemplate,{Central_Meridian:a.x}))}return this};a.prototype._getCM=function(b){var c=null,g=b.valid;b=g[0];var g=g[1],e=this.xmin,a=this.xmax;e>=b&&e<=g&&a>=b&&a<=g||(c=this.center);return c};a.prototype._normalize=function(b,c,g){var e=this.spatialReference;
if(!e)return this;g=g||p.getInfo(e);if(!g)return this;var a=this._getParts(g).map(function(b){return b.extent});if(2>a.length)return a[0]||this;if(2<a.length)return b?this._shiftCM(g):this.set({xmin:g.valid[0],xmax:g.valid[1]});if(b)return this._shiftCM(g);if(c)return a;var l=!0,d=!0;a.forEach(function(b){b.hasZ||(l=!1);b.hasM||(d=!1)});return{rings:a.map(function(b){var c=[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]];if(l)for(var g=(b.zmax-b.zmin)/2,e=0;e<c.length;e++)c[e].push(g);
if(d)for(b=(b.mmax-b.mmin)/2,e=0;e<c.length;e++)c[e].push(b);return c}),hasZ:l,hasM:d,spatialReference:e}};a.prototype._getParts=function(b){var c=this.cache._parts;if(!c){var c=[],g=this.ymin,e=this.ymax,a=this.spatialReference,l=this.width,d=this.xmin,q=this.xmax,r=void 0;b=b||p.getInfo(a);var t=b.valid,f=t[0],k=t[1],r=this._normalizeX(this.xmin,b),v=r.x,t=r.frameId,r=this._normalizeX(this.xmax,b),A=r.x;b=r.frameId;r=v===A&&0<l;if(l>2*k){l=new h(d<q?v:A,g,k,e,a);d=new h(f,g,d<q?A:v,e,a);q=new h(0,
g,k,e,a);g=new h(f,g,0,e,a);e=[];a=[];l.contains(q)&&e.push(t);l.contains(g)&&a.push(t);d.contains(q)&&e.push(b);d.contains(g)&&a.push(b);for(f=t+1;f<b;f++)e.push(f),a.push(f);c.push({extent:l,frameIds:[t]},{extent:d,frameIds:[b]},{extent:q,frameIds:e},{extent:g,frameIds:a})}else v>A||r?c.push({extent:new h(v,g,k,e,a),frameIds:[t]},{extent:new h(f,g,A,e,a),frameIds:[b]}):c.push({extent:new h(v,g,A,e,a),frameIds:[t]});this.cache._parts=c}b=this.hasZ;g=this.hasM;if(b||g)for(t={},b&&(t.zmin=this.zmin,
t.zmax=this.zmax),g&&(t.mmin=this.mmin,t.mmax=this.mmax),b=0;b<c.length;b++)c[b].extent.set(t);return c};a.prototype._normalizeX=function(b,c){var g=c.valid;c=g[0];var e=g[1],g=2*e,a=0;b>e?(c=Math.ceil(Math.abs(b-e)/g),b-=c*g,a=c):b<c&&(c=Math.ceil(Math.abs(b-c)/g),b+=c*g,a=-c);return{x:b,frameId:a}};var h;d.__decorate([m.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],a.prototype,"cache",void 0);d.__decorate([m.property({readOnly:!0,dependsOn:["cache"]})],
a.prototype,"center",null);d.__decorate([m.property({readOnly:!0,dependsOn:["cache"]})],a.prototype,"extent",null);d.__decorate([m.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],a.prototype,"hasM",null);d.__decorate([m.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],a.prototype,"hasZ",null);d.__decorate([m.property({readOnly:!0,dependsOn:["ymin","ymax"]})],a.prototype,"height",null);d.__decorate([m.property({readOnly:!0,
dependsOn:["xmin","xmax"]})],a.prototype,"width",null);d.__decorate([m.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],a.prototype,"xmin",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],a.prototype,"ymin",void 0);d.__decorate([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],a.prototype,"mmin",void 0);d.__decorate([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],a.prototype,"zmin",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],a.prototype,"xmax",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],a.prototype,"ymax",void 0);d.__decorate([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],a.prototype,"mmax",void 0);d.__decorate([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],a.prototype,"zmax",void 0);return a=h=d.__decorate([m.subclass("esri.geometry.Extent")],a)}(h);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports tslib ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,f,d,n,k,m){return function(a){function e(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.type=
null;c.extent=null;c.hasM=!1;c.hasZ=!1;c.spatialReference=m.WGS84;return c}d.__extends(e,a);Object.defineProperty(e.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});e.prototype.readSpatialReference=function(c,b){if(c instanceof m)return c;if(null!=c){var g=new m;g.read(c,b);return g}return c};e.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};e.prototype.clearCache=function(){this.notifyChange("cache")};e.prototype.getCacheValue=
function(c){return this.cache[c]};e.prototype.setCacheValue=function(c,b){this.cache[c]=b};d.__decorate([k.property()],e.prototype,"type",void 0);d.__decorate([k.property({readOnly:!0,dependsOn:["spatialReference"]})],e.prototype,"cache",null);d.__decorate([k.property({readOnly:!0,dependsOn:["spatialReference"]})],e.prototype,"extent",void 0);d.__decorate([k.property({type:Boolean,json:{write:{overridePolicy:function(c){return{enabled:c}}}}})],e.prototype,"hasM",void 0);d.__decorate([k.property({type:Boolean,
json:{write:{overridePolicy:function(c){return{enabled:c}}}}})],e.prototype,"hasZ",void 0);d.__decorate([k.property({type:m,json:{write:!0}})],e.prototype,"spatialReference",void 0);d.__decorate([k.reader("spatialReference")],e.prototype,"readSpatialReference",null);return e=d.__decorate([k.subclass("esri.geometry.Geometry")],e)}(n.JSONSupport)})},"esri/core/JSONSupport":function(){define("require exports tslib ./Accessor ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(a,f,d,n,k,m,h){Object.defineProperty(f,"__esModule",{value:!0});f.JSONSupportMixin=function(e){e=function(c){function b(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];return c.apply(this,b)||this}d.__extends(b,c);b.prototype.read=function(b,c){m.default(this,b,c)};b.prototype.write=function(b,c){return h.default(this,b||{},c)};b.prototype.toJSON=function(b){return this.write(null,b)};b.fromJSON=function(b,c){if(b){if(b.declaredClass)throw Error("JSON object is already hydrated");
var g=new this;g.read(b,c);b=g}else b=null;return b};return b=d.__decorate([k.subclass("esri.core.JSONSupport")],b)}(e);e.prototype.toJSON.isDefaultToJSON=!0;return e};f.isJSONSupport=function(e){return e&&"read"in e&&"write"in e&&"toJSON"in e};a=function(e){function c(){return null!==e&&e.apply(this,arguments)||this}d.__extends(c,e);return c=d.__decorate([k.subclass("esri.core.JSONSupport")],c)}(f.JSONSupportMixin(n));f.JSONSupport=a})},"esri/core/accessorSupport/read":function(){define("require exports tslib ./get ./utils ./extensions/serializableProperty".split(" "),
function(a,f,d,n,k,m){function h(c,b,g){void 0===g&&(g=e);if(b&&"object"===typeof b){for(var a=k.getProperties(c),d=a.metadatas,q={},l=0,t=Object.getOwnPropertyNames(b);l<t.length;l++){var h=q,f=d,x=t[l],w=b,u=g,y=m.originSpecificReadPropertyDefinition(f[x],u);y&&(!y.read||!1!==y.read.enabled&&!y.read.source)&&(h[x]=!0);for(var C=0,z=Object.getOwnPropertyNames(f);C<z.length;C++){var D=z[C],y=m.originSpecificReadPropertyDefinition(f[D],u),B;a:{B=x;var E=w;if(y&&y.read&&!1!==y.read.enabled&&y.read.source)if(y=
y.read.source,"string"===typeof y){if(y===B||-1<y.indexOf(".")&&0===y.indexOf(B)&&n.exists(y,E)){B=!0;break a}}else for(var F=0;F<y.length;F++){var H=y[F];if(H===B||-1<H.indexOf(".")&&0===H.indexOf(B)&&n.exists(H,E)){B=!0;break a}}B=!1}B&&(h[D]=!0)}}a.setDefaultOrigin(g.origin);t=0;for(h=Object.getOwnPropertyNames(q);t<h.length;t++)l=h[t],x=(f=m.originSpecificReadPropertyDefinition(d[l],g).read)&&f.source,w=void 0,w=x&&"string"===typeof x?n.valueOf(b,x):b[l],f&&f.reader&&(w=f.reader.call(c,w,b,g)),
void 0!==w&&a.set(l,w);if(!g||!g.ignoreDefaults)for(b=0,d=Object.getOwnPropertyNames(d);b<d.length;b++)l=d[b],q[l]||(t=c,h=a,f=g,x=(x=m.originSpecificPropertyDefinition(h.metadatas[l],"any",f))&&x.default,void 0!==x&&(t="function"===typeof x?x.call(t,l,f):x,void 0!==t&&h.set(l,t)));a.setDefaultOrigin("user")}}Object.defineProperty(f,"__esModule",{value:!0});var e={origin:"service"};f.read=h;f.readLoadable=function(c,b,g,a){void 0===a&&(a=e);b=d.__assign(d.__assign({},a),{messages:[]});g(b);b.messages.forEach(function(b){"warning"!==
b.type||c.loaded?a&&a.messages.push(b):c.loadWarnings.push(b)})};f.default=h})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ../promiseUtils ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,f,d,n,k,m,h,e,c){function b(b,c,g,e,a){var l={};c.write.writer.call(b,e,l,g,a);return l}function g(b,c,g,e,a,p){if(!e||!e.write)return!1;var l=b.get(g);if(!a&&e.write.overridePolicy){var q=e.write.overridePolicy.call(b,l,
g,p);void 0!==q&&(a=q)}a||(a=e.write);if(!a||!1===a.enabled)return!1;if((null===l&&!a.allowNull||void 0===l)&&a.isRequired)return(c=new n("web-document-write:property-required","Missing value for required property '"+g+"' on '"+b.declaredClass+"'",{propertyName:g,target:b}),p)&&p.messages?p.messages.push(c):c&&!p&&r.error(c.name,c.message),!1;if(void 0===l||null===l&&!a.allowNull)return!1;q=e.default;void 0===q?l=!1:null!=e.defaultEquals?l=e.defaultEquals(l):"function"===typeof q?Array.isArray(l)?
(b=q.call(b,g,p),l=d.equals(b,l)):l=!1:l=q===l;return l?!1:void 0!==e.default?!0:!a.ignoreOrigin&&p&&p.origin&&c.store.originOf(g)<h.nameToId(p.origin)?!1:!0}function p(a,l,p){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return e.merge(l,a.toJSON());var d=e.getProperties(a),q=d.metadatas,r=function(r){var t=c.originSpecificWritePropertyDefinition(q[r],p);if(!g(a,d,r,t,null,p))return"continue";var f=a.get(r),k=b(a,t,"string"===typeof t.write.target?t.write.target:r,f,p);
0<Object.keys(k).length&&(l=e.merge(l,k),p&&p.resources&&p.resources.pendingOperations&&p.resources.pendingOperations.length&&m.all(p.resources.pendingOperations).then(function(){return e.merge(l,k)}),p&&p.writtenProperties&&p.writtenProperties.push({target:a,propName:r,oldOrigin:h.idToReadableName(d.store.originOf(r)),newOrigin:p.origin}))},t;for(t in q)r(t);return l}Object.defineProperty(f,"__esModule",{value:!0});var r=k.getLogger("esri.core.accessorSupport.write");f.willPropertyWrite=function(b,
a,p,d){var l=e.getProperties(b),q=c.originSpecificWritePropertyDefinition(l.metadatas[a],d);return q?g(b,l,a,q,p,d):!1};f.write=p;f.default=p})},"esri/geometry/SpatialReference":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,f,d,n,k,m,h){a=function(e){function c(b){b=e.call(this,b)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;b.imageCoordinateSystem=null;return b}d.__extends(c,e);
b=c;c.fromJSON=function(c){if(!c)return null;if(c.wkid){if(102100===c.wkid)return b.WebMercator;if(4326===c.wkid)return b.WGS84}var e=new b;e.read(c);return e};c.prototype.normalizeCtorArgs=function(b){var c;return b&&"object"===typeof b?b:(c={},c["string"===typeof b?"wkt":"wkid"]=b,c)};Object.defineProperty(c.prototype,"isWGS84",{get:function(){return h.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isWebMercator",{get:function(){return h.isWebMercator(this)},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"isGeographic",{get:function(){return h.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isWrappable",{get:function(){return h.isWrappable(this)},enumerable:!0,configurable:!0});c.prototype.writeWkt=function(b,c){this.wkid||(c.wkt=b)};c.prototype.clone=function(){if(this===b.WGS84)return b.WGS84;if(this===b.WebMercator)return b.WebMercator;var c=new b;null!=this.wkid?(c.wkid=this.wkid,null!=this.latestWkid&&
(c.latestWkid=this.latestWkid),null!=this.vcsWkid&&(c.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(c.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(c.wkt=this.wkt);this.imageCoordinateSystem&&(c.imageCoordinateSystem=k.clone(this.imageCoordinateSystem));return c};c.prototype.equals=function(b){if(null==b)return!1;if(this.imageCoordinateSystem||b.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==b.imageCoordinateSystem)return!1;var c=b.imageCoordinateSystem,e=c.id,c=c.referenceServiceName,
g=b.imageCoordinateSystem.geodataXform,a=this.imageCoordinateSystem;return null==e||g?JSON.stringify(a)===JSON.stringify(b.imageCoordinateSystem):c?a.id===e&&a.referenceServiceName===c:a.id===e}return h.equals(this,b)};c.prototype.toJSON=function(b){return this.write(null,b)};var b;c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;d.__decorate([m.property({dependsOn:["wkid"],readOnly:!0})],c.prototype,"isWGS84",null);d.__decorate([m.property({dependsOn:["wkid"],readOnly:!0})],c.prototype,"isWebMercator",
null);d.__decorate([m.property({dependsOn:["wkid","wkt"],readOnly:!0})],c.prototype,"isGeographic",null);d.__decorate([m.property({dependsOn:["wkid"],readOnly:!0})],c.prototype,"isWrappable",null);d.__decorate([m.property({type:Number,json:{write:!0}})],c.prototype,"latestWkid",void 0);d.__decorate([m.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],c.prototype,"wkid",void 0);d.__decorate([m.property({type:String,
json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],c.prototype,"wkt",void 0);d.__decorate([m.writer("wkt"),m.writer("web-scene","wkt")],c.prototype,"writeWkt",null);d.__decorate([m.property({type:Number,json:{write:!0}})],c.prototype,"vcsWkid",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);d.__decorate([m.property()],c.prototype,"imageCoordinateSystem",void 0);return c=b=d.__decorate([m.subclass("esri.geometry.SpatialReference")],
c)}(n.JSONSupport);a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});a.WGS84=new a(h.WGS84);a.WebMercator=new a(h.WebMercator);Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require",
"exports","../../core/string","./WKIDUnitConversion"],function(a,f,d,n){function k(b){return h(b)&&b.wkid?g[b.wkid]:null}function m(b){return h(b)&&!0===e[b.wkid]}function h(b){return null!=b&&(null!=b.wkid&&2E3<=b.wkid||null!=b.wkt)}Object.defineProperty(f,"__esModule",{value:!0});var e={102113:!0,102100:!0,3857:!0,3785:!0},c={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var b=[-2.0037508342787E7,2.0037508342787E7],g={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:b,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:b,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:b,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:b,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};f.equals=function(b,c){return b&&c?b===c?!0:null!=b.wkid||null!=c.wkid?b.wkid===c.wkid||m(b)&&m(c)||null!=c.latestWkid&&b.wkid===c.latestWkid||null!=b.latestWkid&&c.wkid===b.latestWkid:b.wkt&&c.wkt?b.wkt.toUpperCase()===c.wkt.toUpperCase():!1:!1};f.getInfo=k;f.isGeographic=function(b){return h(b)?b.wkid?null==n[b.wkid]:b.wkt?!!/^\s*GEOGCS/i.test(b.wkt):!1:!1};f.isWGS84=function(b){return h(b)&&4326===b.wkid};f.isWebMercator=m;f.isWrappable=function(b){return h(b)&&
!0===c[b.wkid]};f.isValid=h;f.WGS84={wkid:4326,wkt:d.replace(k({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};f.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(a)})(function(){var a,f={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,
20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,
2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,
3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,
3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,
3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,
5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,
6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,
6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,
6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,
6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,
7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,
7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,
8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,
8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,
9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,
27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,
65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,
103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,
103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,
103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,
103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)f[a]=0;for(a=2056;2065>=a;a++)f[a]=0;for(a=2067;2135>=a;a++)f[a]=0;for(a=2137;2154>=a;a++)f[a]=0;for(a=2161;2170>=a;a++)f[a]=0;for(a=2172;2193>=a;a++)f[a]=0;for(a=2195;2198>=a;a++)f[a]=0;for(a=2200;2203>=a;a++)f[a]=0;for(a=2205;2217>=a;a++)f[a]=0;for(a=2222;2224>=
a;a++)f[a]=1;for(a=2225;2250>=a;a++)f[a]=2;for(a=2251;2253>=a;a++)f[a]=1;for(a=2257;2264>=a;a++)f[a]=2;for(a=2274;2279>=a;a++)f[a]=2;for(a=2280;2282>=a;a++)f[a]=1;for(a=2283;2289>=a;a++)f[a]=2;for(a=2290;2292>=a;a++)f[a]=0;for(a=2308;2313>=a;a++)f[a]=0;for(a=2315;2491>=a;a++)f[a]=0;for(a=2494;2866>=a;a++)f[a]=0;for(a=2867;2869>=a;a++)f[a]=1;for(a=2870;2888>=a;a++)f[a]=2;for(a=2891;2895>=a;a++)f[a]=2;for(a=2896;2898>=a;a++)f[a]=1;for(a=2902;2908>=a;a++)f[a]=2;for(a=2915;2920>=a;a++)f[a]=2;for(a=2921;2923>=
a;a++)f[a]=1;for(a=2924;2930>=a;a++)f[a]=2;for(a=2931;2962>=a;a++)f[a]=0;for(a=2964;2968>=a;a++)f[a]=2;for(a=2969;2973>=a;a++)f[a]=0;for(a=2975;2991>=a;a++)f[a]=0;for(a=2995;3051>=a;a++)f[a]=0;for(a=3054;3079>=a;a++)f[a]=0;for(a=3081;3088>=a;a++)f[a]=0;for(a=3092;3101>=a;a++)f[a]=0;for(a=3106;3138>=a;a++)f[a]=0;for(a=3146;3151>=a;a++)f[a]=0;for(a=3153;3166>=a;a++)f[a]=0;for(a=3168;3172>=a;a++)f[a]=0;for(a=3174;3203>=a;a++)f[a]=0;for(a=3294;3358>=a;a++)f[a]=0;for(a=3367;3403>=a;a++)f[a]=0;for(a=3408;3416>=
a;a++)f[a]=0;for(a=3417;3438>=a;a++)f[a]=2;for(a=3441;3446>=a;a++)f[a]=2;for(a=3447;3450>=a;a++)f[a]=0;for(a=3451;3459>=a;a++)f[a]=2;for(a=3460;3478>=a;a++)f[a]=0;for(a=3554;3559>=a;a++)f[a]=0;for(a=3560;3570>=a;a++)f[a]=2;for(a=3571;3581>=a;a++)f[a]=0;for(a=3594;3597>=a;a++)f[a]=0;for(a=3601;3604>=a;a++)f[a]=0;for(a=3637;3639>=a;a++)f[a]=0;for(a=3665;3667>=a;a++)f[a]=0;for(a=3693;3695>=a;a++)f[a]=0;for(a=3701;3727>=a;a++)f[a]=0;for(a=3728;3739>=a;a++)f[a]=2;for(a=3740;3751>=a;a++)f[a]=0;for(a=3753;3760>=
a;a++)f[a]=2;for(a=3761;3773>=a;a++)f[a]=0;for(a=3775;3777>=a;a++)f[a]=0;for(a=3779;3781>=a;a++)f[a]=0;for(a=3783;3785>=a;a++)f[a]=0;for(a=3788;3791>=a;a++)f[a]=0;for(a=3797;3802>=a;a++)f[a]=0;for(a=3814;3816>=a;a++)f[a]=0;for(a=3825;3829>=a;a++)f[a]=0;for(a=3832;3841>=a;a++)f[a]=0;for(a=3844;3852>=a;a++)f[a]=0;for(a=3873;3885>=a;a++)f[a]=0;for(a=3890;3893>=a;a++)f[a]=0;for(a=3907;3912>=a;a++)f[a]=0;for(a=3942;3950>=a;a++)f[a]=0;for(a=3968;3970>=a;a++)f[a]=0;for(a=3973;3976>=a;a++)f[a]=0;for(a=3986;3989>=
a;a++)f[a]=0;for(a=3994;3997>=a;a++)f[a]=0;for(a=4048;4051>=a;a++)f[a]=0;for(a=4056;4063>=a;a++)f[a]=0;for(a=4093;4096>=a;a++)f[a]=0;for(a=4390;4398>=a;a++)f[a]=0;for(a=4399;4413>=a;a++)f[a]=2;for(a=4418;4433>=a;a++)f[a]=2;for(a=4455;4457>=a;a++)f[a]=2;for(a=4484;4489>=a;a++)f[a]=0;for(a=4491;4554>=a;a++)f[a]=0;for(a=4568;4589>=a;a++)f[a]=0;for(a=4652;4656>=a;a++)f[a]=0;for(a=4766;4800>=a;a++)f[a]=0;for(a=5014;5016>=a;a++)f[a]=0;for(a=5069;5072>=a;a++)f[a]=0;for(a=5105;5130>=a;a++)f[a]=0;for(a=5173;5188>=
a;a++)f[a]=0;for(a=5253;5259>=a;a++)f[a]=0;for(a=5269;5275>=a;a++)f[a]=0;for(a=5292;5311>=a;a++)f[a]=0;for(a=5329;5331>=a;a++)f[a]=0;for(a=5343;5349>=a;a++)f[a]=0;for(a=5355;5357>=a;a++)f[a]=0;for(a=5387;5389>=a;a++)f[a]=0;for(a=5459;5463>=a;a++)f[a]=0;for(a=5479;5482>=a;a++)f[a]=0;for(a=5518;5520>=a;a++)f[a]=0;for(a=5530;5539>=a;a++)f[a]=0;for(a=5550;5552>=a;a++)f[a]=0;for(a=5562;5583>=a;a++)f[a]=0;for(a=5623;5625>=a;a++)f[a]=2;for(a=5631;5639>=a;a++)f[a]=0;for(a=5649;5653>=a;a++)f[a]=0;for(a=5663;5680>=
a;a++)f[a]=0;for(a=5682;5685>=a;a++)f[a]=0;for(a=5875;5877>=a;a++)f[a]=0;for(a=5896;5899>=a;a++)f[a]=0;for(a=5921;5940>=a;a++)f[a]=0;for(a=6050;6125>=a;a++)f[a]=0;for(a=6244;6275>=a;a++)f[a]=0;for(a=6328;6348>=a;a++)f[a]=0;for(a=6350;6356>=a;a++)f[a]=0;for(a=6366;6372>=a;a++)f[a]=0;for(a=6381;6387>=a;a++)f[a]=0;for(a=6393;6404>=a;a++)f[a]=0;for(a=6480;6483>=a;a++)f[a]=0;for(a=6511;6514>=a;a++)f[a]=0;for(a=6579;6581>=a;a++)f[a]=0;for(a=6619;6624>=a;a++)f[a]=0;for(a=6625;6627>=a;a++)f[a]=2;for(a=6628;6632>=
a;a++)f[a]=0;for(a=6634;6637>=a;a++)f[a]=0;for(a=6669;6692>=a;a++)f[a]=0;for(a=6707;6709>=a;a++)f[a]=0;for(a=6720;6723>=a;a++)f[a]=0;for(a=6732;6738>=a;a++)f[a]=0;for(a=6931;6933>=a;a++)f[a]=0;for(a=6956;6959>=a;a++)f[a]=0;for(a=7005;7007>=a;a++)f[a]=0;for(a=7057;7070>=a;a++)f[a]=2;for(a=7074;7082>=a;a++)f[a]=0;for(a=7109;7118>=a;a++)f[a]=0;for(a=7119;7127>=a;a++)f[a]=1;for(a=7374;7376>=a;a++)f[a]=0;for(a=7528;7586>=a;a++)f[a]=0;for(a=7587;7645>=a;a++)f[a]=2;for(a=7692;7696>=a;a++)f[a]=0;for(a=7755;7787>=
a;a++)f[a]=0;for(a=7791;7795>=a;a++)f[a]=0;for(a=7799;7801>=a;a++)f[a]=0;for(a=7803;7805>=a;a++)f[a]=0;for(a=7825;7831>=a;a++)f[a]=0;for(a=7845;7859>=a;a++)f[a]=0;for(a=8013;8032>=a;a++)f[a]=0;for(a=8065;8068>=a;a++)f[a]=1;for(a=8518;8529>=a;a++)f[a]=2;for(a=8533;8536>=a;a++)f[a]=2;for(a=8538;8540>=a;a++)f[a]=2;for(a=8677;8679>=a;a++)f[a]=0;for(a=8836;8840>=a;a++)f[a]=0;for(a=8857;8859>=a;a++)f[a]=0;for(a=8908;8910>=a;a++)f[a]=0;for(a=9154;9159>=a;a++)f[a]=0;for(a=9205;9218>=a;a++)f[a]=0;for(a=9271;9273>=
a;a++)f[a]=0;for(a=20002;20032>=a;a++)f[a]=0;for(a=20062;20092>=a;a++)f[a]=0;for(a=20135;20138>=a;a++)f[a]=0;for(a=20248;20258>=a;a++)f[a]=0;for(a=20348;20358>=a;a++)f[a]=0;for(a=20436;20440>=a;a++)f[a]=0;for(a=20822;20824>=a;a++)f[a]=0;for(a=20934;20936>=a;a++)f[a]=0;for(a=21035;21037>=a;a++)f[a]=0;for(a=21095;21097>=a;a++)f[a]=0;for(a=21148;21150>=a;a++)f[a]=0;for(a=21413;21423>=a;a++)f[a]=0;for(a=21453;21463>=a;a++)f[a]=0;for(a=21473;21483>=a;a++)f[a]=0;for(a=21780;21782>=a;a++)f[a]=0;for(a=21891;21894>=
a;a++)f[a]=0;for(a=21896;21899>=a;a++)f[a]=0;for(a=22171;22177>=a;a++)f[a]=0;for(a=22181;22187>=a;a++)f[a]=0;for(a=22191;22197>=a;a++)f[a]=0;for(a=22234;22236>=a;a++)f[a]=0;for(a=22521;22525>=a;a++)f[a]=0;for(a=22991;22994>=a;a++)f[a]=0;for(a=23028;23038>=a;a++)f[a]=0;for(a=23830;23853>=a;a++)f[a]=0;for(a=23866;23872>=a;a++)f[a]=0;for(a=23877;23884>=a;a++)f[a]=0;for(a=23886;23894>=a;a++)f[a]=0;for(a=23946;23948>=a;a++)f[a]=0;for(a=24311;24313>=a;a++)f[a]=0;for(a=24342;24347>=a;a++)f[a]=0;for(a=24370;24374>=
a;a++)f[a]=10;for(a=24375;24381>=a;a++)f[a]=0;for(a=24718;24721>=a;a++)f[a]=0;for(a=24817;24821>=a;a++)f[a]=0;for(a=24877;24882>=a;a++)f[a]=0;for(a=24891;24893>=a;a++)f[a]=0;for(a=25391;25395>=a;a++)f[a]=0;for(a=25828;25838>=a;a++)f[a]=0;for(a=26191;26195>=a;a++)f[a]=0;for(a=26391;26393>=a;a++)f[a]=0;for(a=26701;26722>=a;a++)f[a]=0;for(a=26729;26799>=a;a++)f[a]=2;for(a=26801;26803>=a;a++)f[a]=2;for(a=26811;26813>=a;a++)f[a]=2;for(a=26847;26870>=a;a++)f[a]=2;for(a=26891;26899>=a;a++)f[a]=0;for(a=26901;26923>=
a;a++)f[a]=0;for(a=26929;26946>=a;a++)f[a]=0;for(a=26948;26998>=a;a++)f[a]=0;for(a=27037;27040>=a;a++)f[a]=0;for(a=27205;27232>=a;a++)f[a]=0;for(a=27258;27260>=a;a++)f[a]=0;for(a=27391;27398>=a;a++)f[a]=0;for(a=27561;27564>=a;a++)f[a]=0;for(a=27571;27574>=a;a++)f[a]=0;for(a=27581;27584>=a;a++)f[a]=0;for(a=27591;27594>=a;a++)f[a]=0;for(a=28191;28193>=a;a++)f[a]=0;for(a=28348;28358>=a;a++)f[a]=0;for(a=28402;28432>=a;a++)f[a]=0;for(a=28462;28492>=a;a++)f[a]=0;for(a=29118;29122>=a;a++)f[a]=0;for(a=29168;29172>=
a;a++)f[a]=0;for(a=29177;29185>=a;a++)f[a]=0;for(a=29187;29195>=a;a++)f[a]=0;for(a=29900;29903>=a;a++)f[a]=0;for(a=30161;30179>=a;a++)f[a]=0;for(a=30491;30494>=a;a++)f[a]=0;for(a=30729;30732>=a;a++)f[a]=0;for(a=31251;31259>=a;a++)f[a]=0;for(a=31265;31268>=a;a++)f[a]=0;for(a=31275;31279>=a;a++)f[a]=0;for(a=31281;31297>=a;a++)f[a]=0;for(a=31461;31469>=a;a++)f[a]=0;for(a=31491;31495>=a;a++)f[a]=0;for(a=31917;31922>=a;a++)f[a]=0;for(a=31965;32E3>=a;a++)f[a]=0;for(a=32001;32003>=a;a++)f[a]=2;for(a=32005;32031>=
a;a++)f[a]=2;for(a=32033;32060>=a;a++)f[a]=2;for(a=32064;32067>=a;a++)f[a]=2;for(a=32074;32077>=a;a++)f[a]=2;for(a=32081;32086>=a;a++)f[a]=0;for(a=32107;32130>=a;a++)f[a]=0;for(a=32133;32158>=a;a++)f[a]=0;for(a=32164;32167>=a;a++)f[a]=2;for(a=32180;32199>=a;a++)f[a]=0;for(a=32201;32260>=a;a++)f[a]=0;for(a=32301;32360>=a;a++)f[a]=0;for(a=32601;32662>=a;a++)f[a]=0;for(a=32664;32667>=a;a++)f[a]=2;for(a=32701;32761>=a;a++)f[a]=0;for(a=53001;53004>=a;a++)f[a]=0;for(a=53008;53019>=a;a++)f[a]=0;for(a=53021;53032>=
a;a++)f[a]=0;for(a=53034;53037>=a;a++)f[a]=0;for(a=53042;53046>=a;a++)f[a]=0;for(a=53074;53080>=a;a++)f[a]=0;for(a=54001;54004>=a;a++)f[a]=0;for(a=54008;54019>=a;a++)f[a]=0;for(a=54021;54032>=a;a++)f[a]=0;for(a=54034;54037>=a;a++)f[a]=0;for(a=54042;54046>=a;a++)f[a]=0;for(a=54048;54053>=a;a++)f[a]=0;for(a=54074;54080>=a;a++)f[a]=0;for(a=54098;54101>=a;a++)f[a]=0;for(a=102001;102040>=a;a++)f[a]=0;for(a=102042;102063>=a;a++)f[a]=0;for(a=102065;102067>=a;a++)f[a]=0;for(a=102070;102117>=a;a++)f[a]=0;
for(a=102122;102216>=a;a++)f[a]=0;for(a=102221;102377>=a;a++)f[a]=0;for(a=102382;102388>=a;a++)f[a]=0;for(a=102389;102398>=a;a++)f[a]=2;for(a=102399;102444>=a;a++)f[a]=0;for(a=102445;102447>=a;a++)f[a]=2;for(a=102448;102458>=a;a++)f[a]=0;for(a=102459;102468>=a;a++)f[a]=2;for(a=102469;102499>=a;a++)f[a]=0;for(a=102500;102519>=a;a++)f[a]=1;for(a=102520;102524>=a;a++)f[a]=0;for(a=102525;102529>=a;a++)f[a]=2;for(a=102530;102588>=a;a++)f[a]=0;for(a=102590;102598>=a;a++)f[a]=0;for(a=102601;102603>=a;a++)f[a]=
0;for(a=102605;102628>=a;a++)f[a]=0;for(a=102629;102646>=a;a++)f[a]=2;for(a=102648;102700>=a;a++)f[a]=2;for(a=102701;102703>=a;a++)f[a]=0;for(a=102707;102730>=a;a++)f[a]=2;for(a=102733;102758>=a;a++)f[a]=2;for(a=102767;102900>=a;a++)f[a]=0;for(a=102965;102969>=a;a++)f[a]=0;for(a=102971;102973>=a;a++)f[a]=0;for(a=102975;102989>=a;a++)f[a]=0;for(a=102990;102992>=a;a++)f[a]=1;for(a=102997;103002>=a;a++)f[a]=0;for(a=103003;103008>=a;a++)f[a]=2;for(a=103009;103011>=a;a++)f[a]=0;for(a=103012;103014>=a;a++)f[a]=
2;for(a=103019;103021>=a;a++)f[a]=0;for(a=103022;103024>=a;a++)f[a]=2;for(a=103029;103031>=a;a++)f[a]=0;for(a=103032;103034>=a;a++)f[a]=2;for(a=103065;103068>=a;a++)f[a]=0;for(a=103074;103076>=a;a++)f[a]=0;for(a=103077;103079>=a;a++)f[a]=1;for(a=103080;103082>=a;a++)f[a]=0;for(a=103083;103085>=a;a++)f[a]=2;for(a=103090;103093>=a;a++)f[a]=0;for(a=103097;103099>=a;a++)f[a]=0;for(a=103100;103102>=a;a++)f[a]=2;for(a=103107;103109>=a;a++)f[a]=0;for(a=103110;103112>=a;a++)f[a]=2;for(a=103113;103116>=a;a++)f[a]=
0;for(a=103117;103120>=a;a++)f[a]=2;for(a=103153;103157>=a;a++)f[a]=0;for(a=103158;103162>=a;a++)f[a]=2;for(a=103163;103165>=a;a++)f[a]=0;for(a=103166;103168>=a;a++)f[a]=1;for(a=103169;103171>=a;a++)f[a]=2;for(a=103186;103188>=a;a++)f[a]=0;for(a=103189;103191>=a;a++)f[a]=2;for(a=103192;103195>=a;a++)f[a]=0;for(a=103196;103199>=a;a++)f[a]=2;for(a=103200;103224>=a;a++)f[a]=0;for(a=103225;103227>=a;a++)f[a]=1;for(a=103232;103237>=a;a++)f[a]=0;for(a=103238;103243>=a;a++)f[a]=2;for(a=103244;103246>=a;a++)f[a]=
0;for(a=103247;103249>=a;a++)f[a]=2;for(a=103254;103256>=a;a++)f[a]=0;for(a=103257;103259>=a;a++)f[a]=2;for(a=103264;103266>=a;a++)f[a]=0;for(a=103267;103269>=a;a++)f[a]=2;for(a=103300;103375>=a;a++)f[a]=0;for(a=103381;103383>=a;a++)f[a]=0;for(a=103384;103386>=a;a++)f[a]=1;for(a=103387;103389>=a;a++)f[a]=0;for(a=103390;103392>=a;a++)f[a]=2;for(a=103397;103399>=a;a++)f[a]=0;for(a=103400;103471>=a;a++)f[a]=2;for(a=103476;103478>=a;a++)f[a]=0;for(a=103479;103481>=a;a++)f[a]=2;for(a=103486;103488>=a;a++)f[a]=
0;for(a=103489;103491>=a;a++)f[a]=2;for(a=103492;103495>=a;a++)f[a]=0;for(a=103496;103499>=a;a++)f[a]=2;for(a=103528;103543>=a;a++)f[a]=0;for(a=103544;103548>=a;a++)f[a]=2;for(a=103549;103551>=a;a++)f[a]=0;for(a=103552;103554>=a;a++)f[a]=1;for(a=103555;103557>=a;a++)f[a]=2;for(a=103558;103560>=a;a++)f[a]=0;for(a=103571;103573>=a;a++)f[a]=0;for(a=103574;103576>=a;a++)f[a]=2;for(a=103577;103580>=a;a++)f[a]=0;for(a=103581;103583>=a;a++)f[a]=2;for(a=103595;103598>=a;a++)f[a]=0;for(a=103600;103694>=a;a++)f[a]=
0;for(a=103696;103699>=a;a++)f[a]=0;for(a=103700;103793>=a;a++)f[a]=2;for(a=103794;103871>=a;a++)f[a]=0;for(a=103900;103971>=a;a++)f[a]=2;return f})},"esri/geometry/Point":function(){define("require exports tslib ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,f,d,n,k,m,h,e,c,b,g){function p(b){return b&&("esri.geometry.SpatialReference"===
b.declaredClass||null!=b.wkid)}var r=[0,0],q=n.getLogger("esri.geometry.Point");a=function(a){function l(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}d.__extends(l,a);h=l;l.copy=function(b,c){c._set("x",b._get("x"));c._set("y",b._get("y"));c._set("z",b._get("z"));c._set("m",b._get("m"));b=b._get("spatialReference");c._set("spatialReference",Object.isFrozen(b)?b:b.clone())};l.distance=function(b,c){var e=
b.x-c.x,g=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return Math.sqrt(e*e+g*g+b*b)};l.prototype.normalizeCtorArgs=function(b,c,a,l,d){var t;if(Array.isArray(b))t=b,d=c,b=t[0],c=t[1],a=t[2],l=t[3];else if(b&&"object"===typeof b){if(t=b,b=null!=t.x?t.x:t.longitude,c=null!=t.y?t.y:t.latitude,a=null!=t.z?t.z:t.altitude,l=t.m,(d=t.spatialReference)&&"esri.geometry.SpatialReference"!==d.declaredClass&&(d=new e(d)),null!=t.longitude||null!=t.latitude)null==t.longitude?q.warn(".longitude\x3d","Latitude was defined without longitude"):
null==t.latitude?q.warn(".latitude\x3d","Longitude was defined without latitude"):!t.declaredClass&&d&&d.isWebMercator&&(c=g.lngLatToXY(t.longitude,t.latitude,r),b=c[0],c=c[1])}else p(a)?(d=a,a=null):p(l)&&(d=l,l=null);b={x:b,y:c};null==b.x&&null!=b.y?q.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==b.y&&null!=b.x&&q.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=d&&(b.spatialReference=d);null!=a&&(b.z=a);null!=l&&(b.m=l);return b};Object.defineProperty(l.prototype,
"hasM",{get:function(){return void 0!==this.m},set:function(b){b!==this.hasM&&(this._set("m",b?0:void 0),this._set("hasM",b))},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(b){b!==this.hasZ&&(this._set("z",b?0:void 0),this._set("hasZ",b))},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"latitude",{get:function(){var b=this._get("spatialReference");if(b){if(b.isWebMercator)return g.xyToLngLat(this.x,
this.y,r)[1];if(b.isGeographic)return this._get("y")}return null},set:function(b){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("y",g.lngLatToXY(this.x,b,r)[1]):c.isGeographic&&this._set("y",b),this._set("latitude",b))},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"longitude",{get:function(){var b=this._get("spatialReference");if(b){if(b.isWebMercator)return g.xyToLngLat(this._get("x"),this._get("y"),r)[0];if(b.isGeographic)return this._get("x")}return null},
set:function(b){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("x",g.lngLatToXY(b,this._get("y"),r)[0]):c.isGeographic&&this._set("x",b),this._set("longitude",b))},enumerable:!0,configurable:!0});l.prototype.writeX=function(b,c,e){c[e]=isNaN(b)?"NaN":b};l.prototype.readX=function(b){return"string"===typeof b?NaN:b};l.prototype.clone=function(){var b=new h;b.x=this.x;b.y=this.y;b.z=this.z;b.m=this.m;b.spatialReference=this.spatialReference;return b};l.prototype.copy=function(b){h.copy(b,
this);return this};l.prototype.equals=function(b){var c;if(!b)return!1;var e=this.x,a=this.y,l=this.z,p=this.m,d=this.spatialReference,q=b.z,r=b.m,t=b.x;c=b.y;b=b.spatialReference;if(!d.equals(b))if(d.isWebMercator&&b.isWGS84)c=g.lngLatToXY(t,c),t=c[0],c=c[1],b=d;else if(d.isWGS84&&b.isWebMercator)c=g.xyToLngLat(t,c),t=c[0],c=c[1],b=d;else return!1;return e===t&&a===c&&l===q&&p===r&&d.wkid===b.wkid};l.prototype.offset=function(b,e,g){return c.offsetPoint(this,b,e,g)};l.prototype.normalize=function(){if(!this.spatialReference)return this;
var c=b.getInfo(this.spatialReference);if(!c)return this;var e=this.x,g=c.valid,c=g[0],a=g[1],g=2*a;e>a?(c=Math.ceil(Math.abs(e-a)/g),e-=c*g):e<c&&(c=Math.ceil(Math.abs(e-c)/g),e+=c*g);this._set("x",e);return this};l.prototype.distance=function(b){return h.distance(this,b)};l.prototype.toArray=function(){var b=this.hasZ,c=this.hasM;return b&&c?[this.x,this.y,this.z,this.m]:b?[this.x,this.y,this.z]:c?[this.x,this.y,this.m]:[this.x,this.y]};l.prototype.toJSON=function(b){return this.write(null,b)};
var h;d.__decorate([k.property({dependsOn:["x","y","z","m","spatialReference"]})],l.prototype,"cache",void 0);d.__decorate([k.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],l.prototype,"hasM",null);d.__decorate([k.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],l.prototype,"hasZ",null);d.__decorate([k.property({type:Number,dependsOn:["y"]})],l.prototype,"latitude",null);d.__decorate([k.property({type:Number,
dependsOn:["x"]})],l.prototype,"longitude",null);d.__decorate([k.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),k.cast(function(b){return isNaN(b)?b:m.ensureNumber(b)})],l.prototype,"x",void 0);d.__decorate([k.writer("x")],l.prototype,"writeX",null);d.__decorate([k.reader("x")],l.prototype,"readX",null);d.__decorate([k.property({type:Number,json:{write:!0}})],l.prototype,"y",void 0);d.__decorate([k.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
l.prototype,"z",void 0);d.__decorate([k.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],l.prototype,"m",void 0);return l=h=d.__decorate([k.subclass("esri.geometry.Point")],l)}(h);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/offset":function(){define(["require","exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});f.offsetPoint=function(a,f,k,m){a.x+=f;a.y+=k;null!=m&&null!=a.z&&(a.z+=m);return a};f.offsetCoordsX=
function(a,f){a[0]+=f;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(a,f,d,n,k,m){function h(b,c,e,g,a){var l;if("x"in b&&"x"in a)c=c(b.x,b.y,r,g),a.x=c[0],a.y=c[1];else if("xmin"in b&&"xmin"in a)l=c(b.xmin,b.ymin,r,g),a.xmin=l[0],a.ymin=l[1],c=c(b.xmax,b.ymax,r,g),a.xmax=c[0],a.ymax=c[1];else if("paths"in b&&"paths"in a||"rings"in b&&"rings"in a){l=
"paths"in b?b.paths:b.rings;var p=[],d=void 0;for(b=0;b<l.length;b++){var t=l[b],d=[];p.push(d);for(var q=0;q<t.length;q++)d.push(c(t[q][0],t[q][1],[0,0],g)),2<t[q].length&&d[q].push(t[q][2]),3<t[q].length&&d[q].push(t[q][3])}"paths"in a?a.paths=p:a.rings=p}else if("points"in b&&"points"in a){l=b.points;p=[];for(b=0;b<l.length;b++)p[b]=c(l[b][0],l[b][1],[0,0],g),2<l[b].length&&p[b].push(l[b][2]),3<l[b].length&&p[b].push(l[b][3]);a.points=p}else if("type"in b&&"mesh"===b.type&&"type"in a&&"mesh"===
a.type&&(l=b.vertexAttributes&&b.vertexAttributes.position,p=a.vertexAttributes&&a.vertexAttributes.position,l))for(d=[0,0],b=0;b<l.length;b+=3)c(l[b],l[b+1],d,g),p[b]=d[0],p[b+1]=d[1];a.spatialReference=e;return a}function e(b,c){b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return b&&c?m.equals(c,b)?!0:m.isWebMercator(c)&&m.isWGS84(b)||m.isWebMercator(b)&&m.isWGS84(c):!1}function c(b,c,e){void 0===e&&(e=[0,0]);89.99999<c?c=89.99999:-89.99999>
c&&(c=-89.99999);c*=.017453292519943;e[0]=.017453292519943*b*g;e[1]=p*Math.log((1+Math.sin(c))/(1-Math.sin(c)));return e}function b(b,c,e,a){void 0===e&&(e=[0,0]);void 0===a&&(a=!1);b=b/g*57.29577951308232;e[0]=a?b:b-360*Math.floor((b+180)/360);e[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*c/g)));return e}Object.defineProperty(f,"__esModule",{value:!0});var g=n.wgs84Radius,p=g/2,r=[0,0];f.canProject=e;f.project=function(g,a){var l=g&&g.spatialReference;a=a&&(null!=a.wkid||null!=a.wkt?
a:a.spatialReference);return e(l,a)?m.equals(l,a)?d.clone(g):m.isWebMercator(a)?h(g,c,k.WebMercator,!1,d.clone(g)):m.isWGS84(a)?h(g,b,k.WGS84,!1,d.clone(g)):null:null};f.lngLatToXY=c;f.xyToLngLat=b;f.geographicToWebMercator=function(b,e,g){void 0===e&&(e=!1);void 0===g&&(g=d.clone(b));return h(b,c,k.WebMercator,e,g)};f.webMercatorToGeographic=function(c,e,g){void 0===e&&(e=!1);void 0===g&&(g=d.clone(c));return h(c,b,k.WGS84,e,g)}})},"esri/core/wgs84Constants":function(){define(["require","exports"],
function(a,f){Object.defineProperty(f,"__esModule",{value:!0});f.wgs84Radius=6378137;f.wgs84InverseFlattening=298.257223563;f.wgs84Flattening=1/f.wgs84InverseFlattening;f.wgs84PolarRadius=f.wgs84Radius*(1-f.wgs84Flattening);f.wgs84Eccentricity=.0818191908426215})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,f){function d(e,c){return n(e,c[0],c[1])}function n(e,c,b,g){return c>=e.xmin&&c<=e.xmax&&b>=e.ymin&&b<=e.ymax?null!=g&&e.hasZ?g>=e.zmin&&g<=e.zmax:!0:!1}
function k(e,c){if(e=e.rings)if(Array.isArray(e[0][0])){for(var b=!1,g=0,a=e.length;g<a;g++)b=m(b,e[g],c);c=b}else c=m(!1,e,c);else c=!1;return c}function m(e,c,b){var g=b[0];b=b[1];for(var a=0,d=0,q=c.length;d<q;d++){a++;a===q&&(a=0);var l=c[d],t=l[0],l=l[1],h=c[a],f=h[0],h=h[1];(l<b&&h>=b||h<b&&l>=b)&&t+(b-l)/(h-l)*(f-t)<g&&(e=!e)}return e}Object.defineProperty(f,"__esModule",{value:!0});var h=[0,0];f.extentContainsPoint=function(e,c){return n(e,c.x,c.y,c.z)};f.extentContainsMultipoint=function(e,
c){if(!c.points||c.points.length)return!1;var b=0;for(c=c.points;b<c.length;b++)if(!d(e,c[b]))return!1;return!0};f.extentContainsExtent=function(e,c){var b=c.xmin,g=c.ymin,a=c.zmin,d=c.xmax,q=c.ymax,l=c.zmax;return e.hasZ&&c.hasZ?n(e,b,g,a)&&n(e,b,q,a)&&n(e,d,q,a)&&n(e,d,g,a)&&n(e,b,g,l)&&n(e,b,q,l)&&n(e,d,q,l)&&n(e,d,g,l):n(e,b,g)&&n(e,b,q)&&n(e,d,q)&&n(e,d,g)};f.extentContainsCoords2D=d;f.extentContainsCoords3D=function(e,c){return n(e,c[0],c[1],c[2])};f.polygonContainsPoint=function(e,c){h[1]=
c.y;h[0]=c.x;return k(e,h)};f.polygonContainsCoords=k})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(a,f,d){function n(b,c){return d.extentContainsPoint(b,c)}function k(b,c){var e=b.hasZ&&c.hasZ,g;if(b.xmin<=c.xmin){if(g=c.xmin,b.xmax<g)return!1}else if(g=b.xmin,c.xmax<g)return!1;if(b.ymin<=c.ymin){if(g=c.ymin,b.ymax<g)return!1}else if(g=b.ymin,c.ymax<g)return!1;if(e&&c.hasZ)if(b.zmin<=c.zmin){if(e=c.zmin,b.zmax<e)return!1}else if(e=b.zmin,c.zmax<
e)return!1;return!0}function m(b,c){var e=c.hasZ?d.extentContainsCoords3D:d.extentContainsCoords2D,g=0;for(c=c.points;g<c.length;g++)if(e(b,c[g]))return!0;return!1}function h(b,e){g[0]=b.xmin;g[1]=b.ymax;p[0]=b.xmax;p[1]=b.ymax;r[0]=b.xmin;r[1]=b.ymin;q[0]=b.xmax;q[1]=b.ymin;for(var a=0,h=l;a<h.length;a++)if(d.polygonContainsCoords(e,h[a]))return!0;a=0;for(e=e.rings;a<e.length;a++)if(h=e[a],h.length){var f=h[0];if(d.extentContainsCoords2D(b,f))return!0;for(var k=1;k<h.length;k++){var v=h[k];if(d.extentContainsCoords2D(b,
v)||c(f,v,t))return!0;f=v}}return!1}function e(b,e){g[0]=b.xmin;g[1]=b.ymax;p[0]=b.xmax;p[1]=b.ymax;r[0]=b.xmin;r[1]=b.ymin;q[0]=b.xmax;q[1]=b.ymin;e=e.paths;for(var a=0;a<e.length;a++){var l=e[a];if(e.length){var h=l[0];if(d.extentContainsCoords2D(b,h))return!0;for(var f=1;f<l.length;f++){var k=l[f];if(d.extentContainsCoords2D(b,k)||c(h,k,t))return!0;h=k}}}return!1}function c(c,e,g){for(var a=0;a<g.length;a++)if(b(c,e,g[a][0],g[a][1]))return!0;return!1}function b(b,c,e,g,a){var l=b[0];b=b[1];var p=
c[0];c=c[1];var d=e[0],r=e[1];e=g[0]-d;var d=l-d,t=p-l;g=g[1]-r;var r=b-r,q=c-b,h=g*t-e*q;if(0===h)return!1;e=(e*r-g*d)/h;d=(t*r-q*d)/h;return 0<=e&&1>=e&&0<=d&&1>=d?(a&&(a[0]=l+e*(p-l),a[1]=b+e*(c-b)),!0):!1}Object.defineProperty(f,"__esModule",{value:!0});f.extentIntersectsPoint=n;f.extentIntersectsExtent=k;f.extentIntersectsMultipoint=m;var g=[0,0],p=[0,0],r=[0,0],q=[0,0],l=[g,p,r,q],t=[[r,g],[g,p],[p,q],[q,r]];f.extentIntersectsPolygon=h;f.extentIntersectsPolyline=e;var v=[0,0];f.isSelfIntersecting=
function(c){for(var e=0;e<c.length;e++){for(var g=c[e],a=0;a<g.length-1;a++)for(var l=g[a],p=g[a+1],d=e+1;d<c.length;d++)for(var r=0;r<c[d].length-1;r++){var t=c[d][r],q=c[d][r+1],h=b(l,p,t,q,v);if(h&&!(v[0]===l[0]&&v[1]===l[1]||v[0]===t[0]&&v[1]===t[1]||v[0]===p[0]&&v[1]===p[1]||v[0]===q[0]&&v[1]===q[1]))return!0}r=g.length;if(!(4>=r))for(a=0;a<r-3;a++){var f=r-1;0===a&&(f=r-2);l=g[a];p=g[a+1];for(d=a+2;d<f;d++)if(t=g[d],q=g[d+1],(h=b(l,p,t,q,v))&&!(v[0]===l[0]&&v[1]===l[1]||v[0]===t[0]&&v[1]===
t[1]||v[0]===p[0]&&v[1]===p[1]||v[0]===q[0]&&v[1]===q[1]))return!0}}return!1};f.segmentIntersects=b;f.getExtentIntersector=function(b){switch(b){case "esriGeometryEnvelope":case "extent":return k;case "esriGeometryMultipoint":case "multipoint":return m;case "esriGeometryPoint":case "point":return n;case "esriGeometryPolygon":case "polygon":return h;case "esriGeometryPolyline":case "polyline":return e;case "mesh":return k}}})},"esri/geometry/Multipoint":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,f,d,n,k,m,h,e,c){function b(b){return function(c,e){return null==c?e:null==e?c:b(c,e)}}a=function(g){function a(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=g.apply(this,b)||this;b.points=[];b.type="multipoint";return b}d.__extends(a,g);r=a;a.prototype.normalizeCtorArgs=function(b,c){if(!b&&!c)return null;var e={};Array.isArray(b)?(e.points=b,e.spatialReference=c):!b||"esri.geometry.SpatialReference"!==b.declaredClass&&null==b.wkid?(b.points&&(e.points=b.points),b.spatialReference&&
(e.spatialReference=b.spatialReference),b.hasZ&&(e.hasZ=b.hasZ),b.hasM&&(e.hasM=b.hasM)):e.spatialReference=b;if(b=e.points&&e.points[0])void 0===e.hasZ&&void 0===e.hasM?(e.hasZ=2<b.length,e.hasM=!1):void 0===e.hasZ?e.hasZ=3<b.length:void 0===e.hasM&&(e.hasM=3<b.length);return e};Object.defineProperty(a.prototype,"extent",{get:function(){var c=this.points;if(!c.length)return null;for(var e=new m,g=this.hasZ,a=this.hasM,p=g?3:2,d=c[0],r=b(Math.min),h=b(Math.max),f=d[0],k=d[1],n=d[0],d=d[1],D,B,E,F,
H=0,G=c.length;H<G;H++){var L=c[H],K=L[0],J=L[1],f=r(f,K),k=r(k,J),n=h(n,K),d=h(d,J);g&&2<L.length&&(K=L[2],D=r(D,K),E=h(E,K));a&&L.length>p&&(L=L[p],B=r(B,L),F=h(F,L))}e.xmin=f;e.ymin=k;e.xmax=n;e.ymax=d;e.spatialReference=this.spatialReference;g?(e.zmin=D,e.zmax=E):(e.zmin=null,e.zmax=null);a?(e.mmin=B,e.mmax=F):(e.mmin=null,e.mmax=null);return e},enumerable:!0,configurable:!0});a.prototype.writePoints=function(b,c){c.points=n.clone(this.points)};a.prototype.addPoint=function(b){this.clearCache();
c.updateSupportFromPoint(this,b);Array.isArray(b)?this.points.push(b):this.points.push(b.toArray());return this};a.prototype.clone=function(){var b={points:n.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(b.hasZ=!0);this.hasM&&(b.hasM=!0);return new r(b)};a.prototype.getPoint=function(b){if(!this._validateInputs(b))return null;b=this.points[b];var c={x:b[0],y:b[1],spatialReference:this.spatialReference},g=2;this.hasZ&&(c.z=b[2],g=3);this.hasM&&(c.m=b[g]);return new e(c)};a.prototype.removePoint=
function(b){if(!this._validateInputs(b))return null;this.clearCache();return new e(this.points.splice(b,1)[0],this.spatialReference)};a.prototype.setPoint=function(b,e){if(!this._validateInputs(b))return this;this.clearCache();c.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.points[b]=e;return this};a.prototype.toJSON=function(b){return this.write(null,b)};a.prototype._validateInputs=function(b){return null!=b&&0<=b&&b<this.points.length};var r;d.__decorate([k.property({dependsOn:["points",
"hasZ","hasM","spatialReference"]})],a.prototype,"cache",void 0);d.__decorate([k.property({dependsOn:["cache"]})],a.prototype,"extent",null);d.__decorate([k.property({type:[[Number]],json:{write:{isRequired:!0}}})],a.prototype,"points",void 0);d.__decorate([k.writer("points")],a.prototype,"writePoints",null);return a=r=d.__decorate([k.subclass("esri.geometry.Multipoint")],a)}(h);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],
function(a,f){Object.defineProperty(f,"__esModule",{value:!0});f.updateSupportFromPoint=function(a,f,k){void 0===k&&(k=!1);var d=a.hasM,h=a.hasZ;Array.isArray(f)?4!==f.length||d||h?3===f.length&&k&&!d?(h=!0,d=!1):3===f.length&&d&&h&&(h=d=!1):h=d=!0:(h=!h&&f.hasZ&&(!d||f.hasM),d=!d&&f.hasM&&(!h||f.hasZ));a.hasZ=h;a.hasM=d}})},"esri/geometry/Polygon":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t){a=function(a){function h(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.rings=[];b.type="polygon";return b}d.__extends(h,a);f=h;h.fromExtent=function(b){var c=b.clone().normalize();b=b.spatialReference;var e=!1,g=!1;c.map(function(b){b.hasZ&&(e=!0);b.hasM&&(g=!0)});c={rings:c.map(function(b){var c=[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]];if(e&&b.hasZ)for(var a=b.zmin+.5*(b.zmax-
b.zmin),l=0;l<c.length;l++)c[l].push(a);if(g&&b.hasM)for(b=b.mmin+.5*(b.mmax-b.mmin),l=0;l<c.length;l++)c[l].push(b);return c}),spatialReference:b};e&&(c.hasZ=!0);g&&(c.hasM=!0);return new f(c)};h.prototype.normalizeCtorArgs=function(b,e){var g=null,a,l,p=null;b&&!Array.isArray(b)?(g=b.rings?b.rings:null,e||(b.spatialReference?e=b.spatialReference:b.rings||(e=b)),a=b.hasZ,l=b.hasM):g=b;g=g||[];e=e||c.WGS84;g.length&&g[0]&&null!=g[0][0]&&"number"===typeof g[0][0]&&(g=[g]);if(p=g[0]&&g[0][0])void 0===
a&&void 0===l?(a=2<p.length,l=!1):void 0===a?a=!l&&3<p.length:void 0===l&&(l=!a&&3<p.length);return{rings:g,spatialReference:e,hasZ:a,hasM:l}};Object.defineProperty(h.prototype,"centroid",{get:function(){var c=b.polygonCentroid(this);if(!c||isNaN(c[0])||isNaN(c[1])||this.hasZ&&isNaN(c[2]))return null;var g=new e;g.x=c[0];g.y=c[1];g.spatialReference=this.spatialReference;this.hasZ&&(g.z=c[2]);return g},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"extent",{get:function(){var b=
this.spatialReference,c=r.getPolygonExtent(this);if(!c)return null;c=new m(c);c.spatialReference=b;return c},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"isSelfIntersecting",{get:function(){return q.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});h.prototype.writePaths=function(b,c){c.rings=n.clone(this.rings)};h.prototype.addRing=function(b){if(b){this.clearCache();var c=this.rings,e=c.length;if(Array.isArray(b[0]))c[e]=b.concat();else{for(var g=[],a=0,l=b.length;a<
l;a++)g[a]=b[a].toArray();c[e]=g}return this}};h.prototype.clone=function(){var b=new f;b.spatialReference=this.spatialReference;b.rings=n.clone(this.rings);b.hasZ=this.hasZ;b.hasM=this.hasM;return b};h.prototype.contains=function(b){if(!b)return!1;l.canProject(b,this.spatialReference)&&(b=l.project(b,this.spatialReference));return g.polygonContainsPoint(this,b)};h.prototype.isClockwise=function(b){var c=this;b=Array.isArray(b[0])?b:b.map(function(b){return c.hasZ?c.hasM?[b.x,b.y,b.z,b.m]:[b.x,b.y,
b.z]:[b.x,b.y]});return p.isClockwise(b,this.hasM,this.hasZ)};h.prototype.getPoint=function(b,c){if(!this._validateInputs(b,c))return null;b=this.rings[b][c];c=this.hasZ;var g=this.hasM;return c&&!g?new e(b[0],b[1],b[2],void 0,this.spatialReference):g&&!c?new e(b[0],b[1],void 0,b[2],this.spatialReference):c&&g?new e(b[0],b[1],b[2],b[3],this.spatialReference):new e(b[0],b[1],this.spatialReference)};h.prototype.insertPoint=function(b,c,e){if(!this._validateInputs(b,c,!0))return this;this.clearCache();
t.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.rings[b].splice(c,0,e);return this};h.prototype.removePoint=function(b,c){if(!this._validateInputs(b,c))return null;this.clearCache();return new e(this.rings[b].splice(c,1)[0],this.spatialReference)};h.prototype.removeRing=function(b){if(!this._validateInputs(b,null))return null;this.clearCache();b=this.rings.splice(b,1)[0];var c=this.spatialReference;return b.map(function(b){return new e(b,c)})};h.prototype.setPoint=function(b,
c,e){if(!this._validateInputs(b,c))return this;this.clearCache();t.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.rings[b][c]=e;return this};h.prototype._validateInputs=function(b,c,e){void 0===e&&(e=!1);return null==b||0>b||b>=this.rings.length||null!=c&&(b=this.rings[b],e&&(0>c||c>b.length)||!e&&(0>c||c>=b.length))?!1:!0};h.prototype.toJSON=function(b){return this.write(null,b)};var f;d.__decorate([k.property({dependsOn:["hasM","hasZ","rings"]})],h.prototype,"cache",void 0);
d.__decorate([k.property({readOnly:!0,dependsOn:["cache"]})],h.prototype,"centroid",null);d.__decorate([k.property({dependsOn:["cache"],readOnly:!0})],h.prototype,"extent",null);d.__decorate([k.property({dependsOn:["cache"],readOnly:!0})],h.prototype,"isSelfIntersecting",null);d.__decorate([k.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],h.prototype,"rings",void 0);d.__decorate([k.writer("rings")],h.prototype,"writePaths",null);return h=f=d.__decorate([k.subclass("esri.geometry.Polygon")],
h)}(h);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports","./coordsUtils"],function(a,f,d){function n(a,e){if(!a||!a.length)return null;for(var c=[],b=[],g=e?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],p=0,d=a.length;p<d;p++){var h=k(a[p],e,g);h&&b.push(h)}b.sort(function(b,c){var g=b[2]-c[2];0===g&&e&&(g=b[4]-c[4]);return g});b.length&&(p=6*b[0][2],c[0]=b[0][0]/p,c[1]=b[0][1]/
p,e&&(p=6*b[0][4],c[2]=0!==p?b[0][3]/p:0),c[0]<g[0]||c[0]>g[1]||c[1]<g[2]||c[1]>g[3]||e&&(c[2]<g[4]||c[2]>g[5]))&&(c.length=0);if(!c.length)if(a=a[0]&&a[0].length?m(a[0],e):null)c[0]=a[0],c[1]=a[1],e&&2<a.length&&(c[2]=a[2]);else return null;return c}function k(a,e,c){for(var b=0,g=0,p=0,d=0,h=0,l=0;l<a.length;l++){var t=a[l],f=t[0],k=t[1],n=t[2],m=a[(l+1)%a.length],u=m[0],y=m[1],C=m[2],z=f*y-u*k,d=d+z,b=b+(f+u)*z,g=g+(k+y)*z;e&&2<t.length&&2<m.length&&(z=f*C-u*n,p+=(n+C)*z,h+=z);f<c[0]&&(c[0]=f);
f>c[1]&&(c[1]=f);k<c[2]&&(c[2]=k);k>c[3]&&(c[3]=k);e&&(n<c[4]&&(c[4]=n),n>c[5]&&(c[5]=n))}0<d&&(d*=-1);0<h&&(h*=-1);if(!d)return null;a=[b,g,.5*d];e&&(a[3]=p,a[4]=.5*h);return a}function m(a,e){for(var c=e?[0,0,0]:[0,0],b=e?[0,0,0]:[0,0],g=0,p=0,r=0,h=0,l=0,t=a.length;l<t-1;l++){var f=a[l],k=a[l+1];if(f&&k){c[0]=f[0];c[1]=f[1];b[0]=k[0];b[1]=k[1];e&&2<f.length&&2<k.length&&(c[2]=f[2],b[2]=k[2]);var n=d.getLength(c,b);n&&(g+=n,f=d.getMidpoint(f,k),p+=n*f[0],r+=n*f[1],e&&2<f.length&&(h+=n*f[2]))}}return 0<
g?e?[p/g,r/g,h/g]:[p/g,r/g]:a.length?a[0]:null}Object.defineProperty(f,"__esModule",{value:!0});f.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};f.polygonCentroid=function(a){return a?n(a.rings,a.hasZ):null};f.ringsCentroid=n;f.lineCentroid=m})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(a,f,d){function n(e,c){var b=c[0]-e[0],g=c[1]-e[1];return 2<
e.length&&2<c.length?(e=e[2]-c[2],Math.sqrt(b*b+g*g+e*e)):Math.sqrt(b*b+g*g)}function k(e,c,b){var g=e[0]+b*(c[0]-e[0]),a=e[1]+b*(c[1]-e[1]);return 2<e.length&&2<c.length?[g,a,e[2]+b*(c[2]-e[2])]:[g,a]}function m(e,c,b){for(var g=e.length,a=0,d=0,q=0,l=0;l<g;l++){var t=e[l],h=e[(l+1)%g],f=2,a=a+(t[0]*h[1]-h[0]*t[1]);2<t.length&&2<h.length&&b&&(d+=t[0]*h[2]-h[0]*t[2],f=3);t.length>f&&h.length>f&&c&&(q+=t[0]*h[f]-h[0]*t[f])}return 0>=a&&0>=d&&0>=q}function h(e,c){if(c=d.getInfo(c)){var b=c.valid[0],
g=c.valid[1],a=g-b;c=function(c){var e=Infinity,d=-Infinity;c.forEach(function(c){for(var l=c[0];l<b;)l+=a;for(;l>g;)l-=a;e=Math.min(e,l);d=Math.max(d,l);c[0]=l});var p=d-e;a-p<p&&c.forEach(function(b){0>b[0]&&(b[0]+=a)})};for(var r=0;r<e.length;r++)c(e[r])}}Object.defineProperty(f,"__esModule",{value:!0});f.geometryToCoordinates=function(e){if(!e)return null;if(Array.isArray(e))return e;var c=e.hasZ,b=e.hasM;if("point"===e.type)return b&&c?[e.x,e.y,e.z,e.m]:c?[e.x,e.y,e.z]:b?[e.x,e.y,e.m]:[e.x,e.y];
if("polygon"===e.type)return e.rings.slice(0);if("polyline"===e.type)return e.paths.slice(0);if("multipoint"===e.type)return e.points.slice(0);if("extent"===e.type){e=e.clone().normalize();if(!e)return null;var g=!1,a=!1;e.forEach(function(b){b.hasZ&&(g=!0);b.hasM&&(a=!0)});return e.map(function(b){var c=[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]];if(g&&b.hasZ)for(var e=.5*(b.zmax-b.zmin),d=0;d<c.length;d++)c[d].push(e);if(a&&b.hasM)for(b=.5*(b.mmax-b.mmin),d=
0;d<c.length;d++)c[d].push(b);return c})}return null};f.getLength=n;f.getMidpoint=function(e,c){return k(e,c,.5)};f.getPathLength=function(e){for(var c=e.length,b=0,g=0;g<c-1;++g)b+=n(e[g],e[g+1]);return b};f.getPointOnPath=function(e,c){if(0>=c)return e[0];for(var b=e.length,g=0,a=0;a<b-1;++a){var d=n(e[a],e[a+1]);if(c-g<d)return k(e[a],e[a+1],(c-g)/d);g+=d}return e[b-1]};f.isClockwise=m;f.closeRingsAndFixWinding=function(e){if("rings"in e){for(var c=0,b=e.rings;c<b.length;c++){var g=b[c];3>g.length||
g[0][0]===g[g.length-1][0]&&g[0][1]===g[g.length-1][1]||g.push([g[0][0],g[0][1]])}if(0<e.rings.length&&!m(e.rings[0],e.hasM,e.hasZ))for(c=0;c<e.rings.length;++c)e.rings[c]=e.rings[c].reverse()}};f.closeRings=function(e){if("rings"in e){var c=0;for(e=e.rings;c<e.length;c++){var b=e[c];3>b.length||b[0][0]===b[b.length-1][0]&&b[0][1]===b[b.length-1][1]||b.push([b[0][0],b[0][1]])}}};f.getRingArea=function(e){for(var c=e.length,b=0,g=0;g<c;g++)var a=e[g],d=e[(g+1)%c],b=b+(a[0]*d[1]-d[0]*a[1]);return b};
f.unnormalizeGeometryOnDatelineCrossing=function(e){if("polygon"!==e.type&&"polyline"!==e.type)return e;h("polygon"===e.type?e.rings:e.paths,e.spatialReference);return e};f.unnormalizeVerticesOnDatelineCrossing=h;f.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(e,c,b,g){var a=Infinity,d=-Infinity;e.forEach(function(e){for(var l=e.pos[0];l<c;)l+=g;for(;l>b;)l-=g;a=Math.min(a,l);d=Math.max(d,l);e.unnormalizedPos[0]=l;e.unnormalizedPos[1]=e.pos[1];2<e.pos.length&&(e.unnormalizedPos[2]=
e.pos[2]);3<e.pos.length&&(e.unnormalizedPos[3]=e.pos[3])});var h=d-a;g-h<h&&e.forEach(function(b){0>b.unnormalizedPos[0]&&(b.unnormalizedPos[0]+=g)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports","./boundsUtils"],function(a,f,d){function n(b,c,e){void 0===c&&(c=!1);void 0===e&&(e=!1);return c?e?{xmin:b[0],ymin:b[1],zmin:b[2],mmin:b[3],xmax:b[4],ymax:b[5],zmax:b[6],mmax:b[7]}:{xmin:b[0],ymin:b[1],zmin:b[2],xmax:b[3],ymax:b[4],zmax:b[5]}:e?{xmin:b[0],ymin:b[1],mmin:b[2],
xmax:b[3],ymax:b[4],mmax:b[5]}:{xmin:b[0],ymin:b[1],xmax:b[2],ymax:b[3]}}function k(b){var e=b.hasZ,a=b.hasM;return n(d.getPointsBounds(c,b.points,e,a),e,a)}function m(b){var c=b.x,e=b.y,a=b.z;b=b.m;var d=null!=b;return null!=a?d?{xmin:c,ymin:e,zmin:a,mmin:b,xmax:c,ymax:e,zmax:a,mmax:b}:{xmin:c,ymin:e,zmin:a,xmax:c,ymax:e,zmax:a}:d?{xmin:c,ymin:e,mmin:b,xmax:c,ymax:e,mmax:b}:{xmin:c,ymin:e,xmax:c,ymax:e}}function h(b){var e=b.hasZ,a=b.hasM;return(b=d.getRingsOrPathsBounds(c,b.rings,e,a))?n(b,e,a):
null}function e(b){var e=b.hasZ,a=b.hasM;return(b=d.getRingsOrPathsBounds(c,b.paths,e,a))?n(b,e,a):null}Object.defineProperty(f,"__esModule",{value:!0});var c=[];f.getGeometryExtent=function(b){return b?void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax?b:void 0!==b.x&&void 0!==b.y?m(b):void 0!==b.rings?h(b):void 0!==b.paths?e(b):void 0!==b.points?k(b):null:null};f.getMultipointExtent=k;f.getPointExtent=m;f.getPolygonExtent=h;f.getPolylineExtent=e})},"esri/geometry/support/boundsUtils":function(){define(["require",
"exports"],function(a,f){function d(b){return void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax}function n(b){return function(c,e){return null==c?e:null==e?c:b(c,e)}}function k(b,a,d,r){var g=d?3:2;if(!a.length||!a[0].length)return null;for(var l=a[0][0],p=l[0],l=l[1],h=a[0][0],f=h[0],h=h[1],k=void 0,n=void 0,m=void 0,y=void 0,C=0;C<a.length;C++)for(var z=a[C],D=0;D<z.length;D++){var B=z[D],E=B[0],F=B[1],p=e(p,E),l=e(l,F),f=c(f,E),h=c(h,F);d&&2<B.length&&(E=B[2],k=e(k,E),n=c(n,E));
r&&B.length>g&&(y=B[g],m=e(k,y),y=c(n,y))}if(d){if(r)return b[0]=p,b[1]=l,b[2]=k,b[3]=m,b[4]=f,b[5]=h,b[6]=n,b[7]=y,b.length=8,b;b[0]=p;b[1]=l;b[2]=k;b[3]=f;b[4]=h;b[5]=n;b.length=6;return b}if(r)return b[0]=p,b[1]=l,b[2]=m,b[3]=f,b[4]=h,b[5]=y,b.length=6,b;b[0]=p;b[1]=l;b[2]=f;b[3]=h;b.length=4;return b}function m(b,c,e,a,d,l){e=c.xmin;a=c.xmax;var g=c.ymin,p=c.ymax,r=c.zmin,h=c.zmax,q=c.mmin;c=c.mmax;if(d){r=r||0;h=h||0;if(l)return b[0]=e,b[1]=g,b[2]=r,b[3]=q||0,b[4]=a,b[5]=p,b[6]=h,b[7]=c||0,b;
b[0]=e;b[1]=g;b[2]=r;b[3]=a;b[4]=p;b[5]=h;return b}if(l)return b[0]=e,b[1]=g,b[2]=q||0,b[3]=a,b[4]=p,b[5]=c||0,b;b[0]=e;b[1]=g;b[2]=a;b[3]=p;return b}function h(b,a,d,r,h,l){var g=d?3:2;r=r&&l;d=d&&h;if(!a.length||!a[0].length)return null;for(var p=a[0],q=p[0],p=p[1],f=a[0],k=f[0],f=f[1],n=void 0,m=void 0,C=void 0,z=void 0,D=0;D<a.length;D++){var B=a[D],E=B[0],F=B[1],q=e(q,E),p=e(p,F),k=c(k,E),f=c(f,F);d&&2<B.length&&(E=B[2],n=e(n,E),m=c(m,E));r&&B.length>g&&(z=B[g],C=e(n,z),z=c(m,z))}if(h){n=n||
0;m=m||0;if(l)return b[0]=q,b[1]=p,b[2]=n,b[3]=C||0,b[4]=k,b[5]=f,b[6]=m,b[7]=z||0,b;b[0]=q;b[1]=p;b[2]=n;b[3]=k;b[4]=f;b[5]=m;return b}if(l)return b[0]=q,b[1]=p,b[2]=C||0,b[3]=k,b[4]=f,b[5]=z||0,b;b[0]=q;b[1]=p;b[2]=k;b[3]=f;return b}Object.defineProperty(f,"__esModule",{value:!0});var e=n(Math.min),c=n(Math.max);f.getBoundsXY=function(b,c){if(void 0!==c.paths)return k(b,c.paths,!1,!1);if(void 0!==c.rings)return k(b,c.rings,!1,!1);if(void 0!==c.points)return h(b,c.points,!1,!1,!1,!1);if(d(c))return m(b,
c);void 0!==c.x&&void 0!==c.y&&(b[0]=c.x,b[1]=c.y,b[2]=c.x,b[3]=c.y);return b};f.getBoundsXYZ=function(b,c){if(void 0!==c.paths)return k(b,c.paths,!0,!1);if(void 0!==c.rings)return k(b,c.rings,!0,!1);if(void 0!==c.points)return h(b,c.points,!0,!1,!0,!1);if(d(c))return m(b,c,!0,!1,!0,!1);void 0!==c.x&&void 0!==c.y&&(b[0]=c.x,b[1]=c.y,b[2]=c.z,b[3]=c.x,b[4]=c.y,b[5]=c.z);return b};f.getRingsOrPathsBounds=k;f.getExtentBounds=m;f.getPointsBounds=h;f.getPointsBoundsWidth=function(b){if(!b.length||!b[0].length)return null;
for(var a=b[0][0],d=b[0][0],r=0;r<b.length;r++)var h=b[r][0],a=e(a,h),d=c(d,h);return d-a};f.getPointsBoundsCenterX=function(b){if(!b.length||!b[0].length)return null;for(var a=b[0][0],d=b[0][0],r=0;r<b.length;r++)var h=b[r][0],a=e(a,h),d=c(d,h);return a+.5*(d-a)}})},"esri/geometry/Polyline":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,f,d,n,k,m,
h,e,c,b,g){a=function(a){function p(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.paths=[];b.type="polyline";return b}d.__extends(p,a);h=p;p.prototype.normalizeCtorArgs=function(b,e){var a=null,g,l,d=null;b&&!Array.isArray(b)?(a=b.paths?b.paths:null,e||(b.spatialReference?e=b.spatialReference:b.paths||(e=b)),g=b.hasZ,l=b.hasM):a=b;a=a||[];e=e||c.WGS84;a.length&&a[0]&&null!=a[0][0]&&"number"===typeof a[0][0]&&(a=[a]);if(d=a[0]&&a[0][0])void 0===g&&void 0===l?
(g=2<d.length,l=!1):void 0===g?g=!l&&3<d.length:void 0===l&&(l=!g&&3<d.length);return{paths:a,spatialReference:e,hasZ:g,hasM:l}};Object.defineProperty(p.prototype,"extent",{get:function(){var c=this.spatialReference,e=b.getPolylineExtent(this);if(!e)return null;e=new m(e);e.spatialReference=c;return e},enumerable:!0,configurable:!0});p.prototype.writePaths=function(b,c){c.paths=n.clone(this.paths)};p.prototype.addPath=function(b){if(b){this.clearCache();var c=this.paths,e=c.length;if(Array.isArray(b[0]))c[e]=
b.concat();else{for(var a=[],g=0,l=b.length;g<l;g++)a[g]=b[g].toArray();c[e]=a}return this}};p.prototype.clone=function(){var b=new h;b.spatialReference=this.spatialReference;b.paths=n.clone(this.paths);b.hasZ=this.hasZ;b.hasM=this.hasM;return b};p.prototype.getPoint=function(b,c){if(!this._validateInputs(b,c))return null;b=this.paths[b][c];c=this.hasZ;var a=this.hasM;return c&&!a?new e(b[0],b[1],b[2],void 0,this.spatialReference):a&&!c?new e(b[0],b[1],void 0,b[2],this.spatialReference):c&&a?new e(b[0],
b[1],b[2],b[3],this.spatialReference):new e(b[0],b[1],this.spatialReference)};p.prototype.insertPoint=function(b,c,e){if(!this._validateInputs(b,c,!0))return this;this.clearCache();g.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.paths[b].splice(c,0,e);return this};p.prototype.removePath=function(b){if(!this._validateInputs(b,null))return null;this.clearCache();b=this.paths.splice(b,1)[0];var c=this.spatialReference;return b.map(function(b){return new e(b,c)})};p.prototype.removePoint=
function(b,c){if(!this._validateInputs(b,c))return null;this.clearCache();return new e(this.paths[b].splice(c,1)[0],this.spatialReference)};p.prototype.setPoint=function(b,c,e){if(!this._validateInputs(b,c))return this;this.clearCache();g.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.paths[b][c]=e;return this};p.prototype._validateInputs=function(b,c,e){void 0===e&&(e=!1);return null==b||0>b||b>=this.paths.length||null!=c&&(b=this.paths[b],e&&(0>c||c>b.length)||!e&&(0>c||c>=
b.length))?!1:!0};p.prototype.toJSON=function(b){return this.write(null,b)};var h;d.__decorate([k.property({dependsOn:["hasM","hasZ","paths"]})],p.prototype,"cache",void 0);d.__decorate([k.property({dependsOn:["cache"],readOnly:!0})],p.prototype,"extent",null);d.__decorate([k.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],p.prototype,"paths",void 0);d.__decorate([k.writer("paths")],p.prototype,"writePaths",null);return p=h=d.__decorate([k.subclass("esri.geometry.Polyline")],p)}(h);a.prototype.toJSON.isDefaultToJSON=
!0;return a})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,f,d,n,k,m,h,e){function c(b){return void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax}function b(b){return void 0!==b.points}function g(b){return void 0!==b.x&&void 0!==b.y}function p(b){return void 0!==b.paths}function r(b){return void 0!==b.rings}function q(a){return a?a instanceof n?a:g(a)?m.fromJSON(a):p(a)?
e.fromJSON(a):r(a)?h.fromJSON(a):b(a)?k.fromJSON(a):c(a)?d.fromJSON(a):null:null}Object.defineProperty(f,"__esModule",{value:!0});f.fromJson=function(b){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(v){console.warn(v.stack)}return q(b)};f.isExtent=c;f.isMultipoint=b;f.isPoint=g;f.isPolyline=p;f.isPolygon=r;f.isMesh=function(b){return void 0!==b.vertexAttributes};f.fromJSON=q;f.getJsonType=function(e){return e?g(e)?"esriGeometryPoint":p(e)?"esriGeometryPolyline":r(e)?"esriGeometryPolygon":
c(e)?"esriGeometryEnvelope":b(e)?"esriGeometryMultipoint":null:null};var l={esriGeometryPoint:m,esriGeometryPolyline:e,esriGeometryPolygon:h,esriGeometryEnvelope:d,esriGeometryMultipoint:k};f.getGeometryType=function(b){return b&&l[b]||null}})},"esri/layers/support/PixelBlock":function(){define("require exports tslib ../../core/compilerUtils ../../core/Error ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators".split(" "),function(a,f,d,n,
k,m,h,e,c,b){var g=e.getLogger("esri.layers.support.PixelBlock");return function(e){function a(b){b=e.call(this,b)||this;b.width=null;b.height=null;b.pixelType="f32";b.validPixelCount=null;b.mask=null;b.maskIsAlpha=!1;b.pixels=null;b.statistics=null;return b}d.__extends(a,e);p=a;a.createEmptyBand=function(b,c){return new (p.getPixelArrayConstructor(b))(c)};a.getPixelArrayConstructor=function(b){var c;switch(b){case "u1":case "u2":case "u4":case "u8":c=Uint8Array;break;case "u16":c=Uint16Array;break;
case "u32":c=Uint32Array;break;case "s8":c=Int8Array;break;case "s16":c=Int16Array;break;case "s32":c=Int32Array;break;case "u32":c=Uint32Array;break;case "f32":c=Float32Array;break;case "f64":c=Float64Array;break;case "c64":case "c128":case "unknown":c=Float32Array;break;default:n.neverReached(b)}return c};a.prototype.castPixelType=function(b){if(!b)return"f32";b=b.toLowerCase();-1<["u1","u2","u4"].indexOf(b)?b="u8":-1==="unknown u8 s8 u16 s16 u32 s32 f32 f64".split(" ").indexOf(b)&&(b="f32");return b};
a.prototype.getPlaneCount=function(){return this.pixels&&this.pixels.length};a.prototype.addData=function(b){if(!b.pixels||b.pixels.length!==this.width*this.height)throw new k("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]);this.statistics||(this.statistics=[]);this.pixels.push(b.pixels);this.statistics.push(b.statistics||{minValue:null,maxValue:null})};a.prototype.getAsRGBA=function(){var b=
new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case "s8":case "s16":case "u16":case "s32":case "u32":case "f32":case "f64":this._fillFromNon8Bit(b);break;default:this._fillFrom8Bit(b)}return new Uint8ClampedArray(b)};a.prototype.getAsRGBAFloat=function(){var b=new Float32Array(this.width*this.height*4);this._fillFrom32Bit(b);return b};a.prototype.updateStatistics=function(){var b=this;this.statistics=this.pixels.map(function(c){return b._calculateBandStatistics(c,b.mask)});var c=
this.mask,e=0;if(c)for(var a=0;a<c.length;a++)c[a]&&e++;else e=this.width*this.height;this.validPixelCount=e};a.prototype.clamp=function(b){if(b&&"f64"!==b&&"f32"!==b){var c;switch(b){case "u8":c=[0,255];break;case "u16":c=[0,65535];break;case "u32":c=[0,4294967295];break;case "s8":c=[-128,127];break;case "s16":c=[-32768,32767];break;case "s32":c=[-2147483648,2147483647];break;default:c=[-3.4*1E39,3.4*1E39]}var e=c[0];c=c[1];for(var a=this.pixels,g=this.width*this.height,d=a.length,l,h,r,q=[],f=0;f<
d;f++){r=p.createEmptyBand(b,g);l=a[f];for(var k=0;k<g;k++)h=l[k],r[k]=h>c?c:h<e?e:h;q.push(r)}this.pixels=q;this.pixelType=b}};a.prototype.extractBands=function(b){var e=this;if(c.isNone(b)||0===b.length||null==this.pixels||0===this.pixels.length)return this;var a=this.pixels.length,g=b.some(function(b){return b>=e.pixels.length}),a=a===b.length&&!b.some(function(b,c){return b!==c});return g||a?this:new p({pixelType:this.pixelType,width:this.width,height:this.height,mask:this.mask,validPixelCount:this.validPixelCount,
maskIsAlpha:this.maskIsAlpha,pixels:b.map(function(b){return e.pixels[b]}),statistics:this.statistics&&b.map(function(b){return e.statistics[b]})})};a.prototype.clone=function(){var b=new p({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});this.mask&&(b.mask=this.mask instanceof Uint8Array?new Uint8Array(this.mask):this.mask.slice(0));var c,e=p.getPixelArrayConstructor(this.pixelType);if(this.pixels&&0<this.pixels.length){b.pixels=
[];var a=this.pixels[0].slice;for(c=0;c<this.pixels.length;c++)b.pixels[c]=a?this.pixels[c].slice(0,this.pixels[c].length):new e(this.pixels[c])}if(this.statistics)for(b.statistics=[],c=0;c<this.statistics.length;c++)b.statistics[c]=h.clone(this.statistics[c]);return b};a.prototype._fillFrom8Bit=function(b){var c=this.mask,e=this.maskIsAlpha,a=this.pixels;if(b&&a&&a.length){var d,p,l;d=p=l=a[0];3<=a.length?(p=a[1],l=a[2]):2===a.length&&(p=a[1]);b=new Uint32Array(b);a=this.width*this.height;if(d.length!==
a)g.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");else if(c&&c.length===a)if(e)for(e=0;e<a;e++)c[e]&&(b[e]=c[e]<<24|l[e]<<16|p[e]<<8|d[e]);else for(e=0;e<a;e++)c[e]&&(b[e]=-16777216|l[e]<<16|p[e]<<8|d[e]);else for(e=0;e<a;e++)b[e]=-16777216|l[e]<<16|p[e]<<8|d[e]}else g.error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")};a.prototype._fillFromNon8Bit=function(b){var c=this.pixels,e=this.mask,a=this.statistics;if(b&&c&&c.length){var d=this.pixelType,
p=1,l=0,p=1;a&&0<a.length?(l=a.map(function(b){return b.minValue}).reduce(function(b,c){return Math.min(b,c)}),p=a.map(function(b){return b.maxValue-b.minValue}).reduce(function(b,c){return Math.max(b,c)}),p=255/p):(p=255,"s8"===d?(l=-128,p=127):"u16"===d?p=65535:"s16"===d?(l=-32768,p=32767):"u32"===d?p=4294967295:"s32"===d?(l=-2147483648,p=2147483647):"f32"===d?(l=-3.4*1E39,p=3.4*1E39):"f64"===d&&(l=-Number.MAX_VALUE,p=Number.MAX_VALUE),p=255/(p-l));b=new Uint32Array(b);var d=this.width*this.height,
h,r,a=h=r=c[0];if(a.length!==d)return g.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(2<=c.length)if(h=c[1],3<=c.length&&(r=c[2]),e&&e.length===d)for(c=0;c<d;c++)e[c]&&(b[c]=-16777216|(r[c]-l)*p<<16|(h[c]-l)*p<<8|(a[c]-l)*p);else for(c=0;c<d;c++)b[c]=-16777216|(r[c]-l)*p<<16|(h[c]-l)*p<<8|(a[c]-l)*p;else if(e&&e.length===d)for(c=0;c<d;c++)h=(a[c]-l)*p,e[c]&&(b[c]=-16777216|h<<16|h<<8|h);else for(c=0;c<d;c++)h=(a[c]-l)*p,b[c]=-16777216|h<<16|h<<8|h}else g.error("getAsRGBA()",
"Unable to convert to RGBA. The input pixel block is empty.")};a.prototype._fillFrom32Bit=function(b){var c=this.pixels,e=this.mask;if(!b||!c||!c.length)return g.error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");var a,d,p;a=d=p=c[0];3<=c.length?(d=c[1],p=c[2]):2===c.length&&(d=c[1]);var l=this.width*this.height;if(a.length!==l)return g.error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");var h=0;if(e&&e.length===l)for(c=0;c<l;c++)b[h++]=
a[c],b[h++]=d[c],b[h++]=p[c],b[h++]=e[c]&1;else for(c=0;c<l;c++)b[h++]=a[c],b[h++]=d[c],b[h++]=p[c],b[h++]=1};a.prototype._calculateBandStatistics=function(b,c){var e=Infinity,a=-Infinity,g=b.length,d,p=0;if(c)for(d=0;d<g;d++)c[d]&&(p=b[d],e=p<e?p:e,a=p>a?p:a);else for(d=0;d<g;d++)p=b[d],e=p<e?p:e,a=p>a?p:a;return{minValue:e,maxValue:a}};var p;d.__decorate([b.property({json:{write:!0}})],a.prototype,"width",void 0);d.__decorate([b.property({json:{write:!0}})],a.prototype,"height",void 0);d.__decorate([b.property({json:{write:!0}})],
a.prototype,"pixelType",void 0);d.__decorate([b.cast("pixelType")],a.prototype,"castPixelType",null);d.__decorate([b.property({json:{write:!0}})],a.prototype,"validPixelCount",void 0);d.__decorate([b.property({json:{write:!0}})],a.prototype,"mask",void 0);d.__decorate([b.property({json:{write:!0}})],a.prototype,"maskIsAlpha",void 0);d.__decorate([b.property({json:{write:!0}})],a.prototype,"pixels",void 0);d.__decorate([b.property({json:{write:!0}})],a.prototype,"statistics",void 0);return a=p=d.__decorate([b.subclass("esri.layers.support.PixelBlock")],
a)}(m.JSONSupport)})},"esri/layers/support/rasterFormats/RasterCodec":function(){define("require exports tslib ../../../core/Error ../PixelBlock ./ImageCanvasDecoder ./JpgPlus ./Lerc2Codec ./LercCodec ./Png ./Raw ./TiffDecoder".split(" "),function(a,f,d,n,k,m,h,e,c,b,g,p){function r(b,e){if(!y)throw new n("rasterCoded:decode","lerc decoder is not supported on big endian platform");var a=e.width,g=e.height,d=e.pixelType,p=u(d),l=p.pixelTypeCtor;e=null==e.noDataValue?p.noDataValue:e.noDataValue;for(var p=
0,h,r=0,q,f=b.byteLength-10;r<f;){var t=c.decode(b,{inputOffset:r,encodedMaskData:h,returnMask:0===p?!0:!1,returnEncodedMask:0===p?!0:!1,returnFileInfo:!0,pixelType:l,noDataValue:e});if(a&&g&&(t.width!==a||t.height!==g))throw new n("rasterCoded:decode","lerc decoded result has width or height different from specified in options");r=t.fileInfo.eofOffset;0===p&&(h=t.encodedMaskData,q=new k({width:t.width,height:t.height,pixels:[],pixelType:d,mask:t.maskData,statistics:[]}));p++;q.addData({pixels:t.pixelData,
statistics:{minValue:t.minValue,maxValue:t.maxValue,noDataValue:t.noDataValue}});10<f-r&&(t=String.fromCharCode.apply(null,new Uint8Array(b,r,10)),r=-1<r+t.indexOf("CntZ")?t.indexOf("CntZ"):0)}return q}function q(b,c){if(!y)throw new n("rasterCoded:decode","lerc decoder is not supported on big endian platform");var a=0,g=0,d=0,p,l,h,r=b.byteLength-10,q=[],f=c.width;for(c=c.height;g<r;){l=e.decode(b,{inputOffset:g,maskData:p,returnFileInfo:!0});if(f&&c&&(l.width!==f||l.height!==c))throw new n("rasterCoded:decode",
"lerc2 decoded result has width or height different from what's specified in options");g=l.fileInfo.eofOffset;0===a&&(d=l.fileInfo.numValidPixel,p=l.maskData,h=new k({width:l.width,height:l.height,pixels:[],pixelType:l.fileInfo.pixelType,mask:l.maskData,statistics:[]}));l.fileInfo.mask&&0<l.fileInfo.mask.numBytes&&q.push(l.maskData);a++;h.addData({pixels:l.pixelData,statistics:{minValue:l.minValue,maxValue:l.maxValue}});10<r-g&&(l=String.fromCharCode.apply(null,new Uint8Array(b,g,10)),g+=-1<l.indexOf("Lerc")?
l.indexOf("Lerc"):0)}g=a=b=0;if(1<q.length){g=h.width*h.height;p=new Uint8Array(g);p.set(q[0]);for(b=1;b<q.length;b++)for(d=q[b],a=0;a<g;a++)p[a]&=d[a];for(a=d=0;a<g;a++)d+=p[a];h.mask=p}h.validPixelCount=d;return h}function l(b){b=p.decode(b);b=new k({width:b.width,height:b.height,pixels:b.pixels,pixelType:b.pixelType.toLowerCase(),mask:b.mask,statistics:null});b.updateStatistics();return b}function t(b){b=h.decode(b);b=new k({width:b.width,height:b.height,pixels:b.pixels,pixelType:"U8",mask:b.mask,
statistics:null});b.updateStatistics();return b}function v(c,e){c=new Uint8Array(c);var a=new b(c);c=e.width;var g=e.height;e=c*g;for(var a=a.decode(),d=0,p=0,p=new Uint8Array(e),d=0;d<e;d++)p[d]=a[4*d+3];g=new k({width:c,height:g,pixels:[],pixelType:"U8",mask:p,statistics:[]});for(d=0;3>d;d++){c=new Uint8Array(e);for(p=0;p<e;p++)c[p]=a[4*p+d];g.addData({pixels:c})}g.updateStatistics();return g}function A(b,c,e){return d.__awaiter(this,void 0,void 0,function(){var a,g,p,l;return d.__generator(this,
function(h){switch(h.label){case 0:return a=new m,g=d.__assign({applyJpegMask:!1},c),[4,a.decode(b,g,e)];case 1:return p=h.sent(),l=new k(p),l.updateStatistics(),[2,l]}})})}function x(b){if(null==b)throw new n("rasterCodec:decode","parameter encodeddata is required.");b=new Uint8Array(b,0,10);var c="";255===b[0]&&216===b[1]?c="jpg":137===b[0]&&80===b[1]&&78===b[2]&&71===b[3]?c="png":67===b[0]&&110===b[1]&&116===b[2]&&90===b[3]&&73===b[4]&&109===b[5]&&97===b[6]&&103===b[7]&&101===b[8]&&32===b[9]?c=
"lerc":76===b[0]&&101===b[1]&&114===b[2]&&99===b[3]&&50===b[4]&&32===b[5]?c="lerc2":73===b[0]&&73===b[1]&&42===b[2]&&0===b[3]||77===b[0]&&77===b[1]&&0===b[2]&&42===b[3]?c="tiff":-1<String.fromCharCode.apply(null,b).toLowerCase().indexOf("error")&&(c="error");return c}function w(b){var c=null;switch(b){case "lerc":c=r;break;case "lerc2":c=q;break;case "jpg":c=t;break;case "png":c=v;break;case "bsq":case "bip":c=function(c,e){var a=u(e.pixelType).pixelTypeCtor,d=g.decode;c=d(c,{width:e.width,height:e.height,
pixelType:a,format:b});e=new k({width:e.width,height:e.height,pixels:c.pixels,pixelType:e.pixelType,mask:c.mask,statistics:null});e.updateStatistics();return e};break;case "tiff":c=l;break;case "error":c=function(){throw new n("rasterCodec:decode","input data contains error");};break;default:c=function(){throw new n("rasterCodec:decode","unsupported raster format");}}return c}function u(b){var c=null,e=null;switch(b?b.toLowerCase():"f32"){case "u1":case "u2":case "u4":case "u8":e=Math.pow(2,8)-1;
c=Uint8Array;break;case "u16":e=e||Math.pow(2,16)-1;c=Uint16Array;break;case "u32":e=e||Math.pow(2,32)-1;c=Uint32Array;break;case "s8":e=e||0-Math.pow(2,7);c=Int8Array;break;case "s16":e=e||0-Math.pow(2,15);c=Int16Array;break;case "s32":e=e||0-Math.pow(2,31);c=Int32Array;break;default:c=Float32Array}return{pixelTypeCtor:c,noDataValue:e}}var y=function(){var b=new ArrayBuffer(4),c=new Uint8Array(b);(new Uint32Array(b))[0]=1;return 1===c[0]}();return function(){function b(){}b.getFormat=function(b){b=
x(b);"lerc2"===b?b="lerc":"error"===b&&(b="");return b};b.decode=function(b,c,e){return d.__awaiter(this,void 0,void 0,function(){var a,g,l;return d.__generator(this,function(h){switch(h.label){case 0:if(null==b)throw new n("rasterCodec:decode","missing encodeddata parameter.");if(null==c||null==c.width||null==c.height)throw new n("rasterCodec:decode","requires width and height in options parameter.");a=c.format&&c.format.toLowerCase();if("tiff"===a&&c.customOptions)return h=p.decodeTileOrStrip(b,
c.customOptions),h=new k({width:h.width,height:h.height,pixels:h.pixels,pixelType:h.pixelType.toLowerCase(),mask:h.mask,statistics:null}),h.updateStatistics(),[2,h];if(!a||"bsq"!==a&&"bip"!==a)a=x(b);return!c.useCanvas||"jpg"!==a&&"png"!==a?[3,2]:[4,A(b,c,e)];case 1:return l=h.sent(),[3,3];case 2:g=w(a);c.isPoint&&(c=d.__assign({},c),c.width++,c.height++);l=g(b,c);if(c.isPoint){var r=l,q=void 0;void 0===q&&(q=1);if(r){var f=r.pixels,t=r.width,m=r.mask;if(f&&0!==f.length){var v=f.length,z=t-1,C=r.height-
1,B=[],D,E,F,y,u,G,H=k.getPixelArrayConstructor(r.pixelType);if(0===q){for(q=0;q<v;q++){y=f[q];u=new H(z*C);for(D=0;D<C;D++)for(F=D*t,E=0;E<z;E++)u[D*z+E]=y[F+E];B.push(u)}if(m)for(G=new Uint8Array(z*C),D=0;D<C;D++)for(F=D*t,E=0;E<z;E++)G[D*z+E]=m[F+E]}else{for(q=0;q<v;q++){y=f[q];u=new H(z*C);for(D=0;D<C;D++)for(F=D*t,E=0;E<z;E++)u[D*z+E]=(y[F+E]+y[F+E+1]+y[F+t+E]+y[F+t+E+1])/4;B.push(u)}if(m)for(G=new Uint8Array(z*C),D=0;D<C;D++)for(F=D*t,E=0;E<z;E++)G[D*z+E]=Math.min.apply(null,[m[F+E],m[F+E+1],
m[F+t+E],m[F+t+E+1]])}r.width=z;r.height=C;r.mask=G;r.pixels=B}}}h.label=3;case 3:return[2,l]}})})};return b}()})},"esri/layers/support/rasterFormats/ImageCanvasDecoder":function(){define("require exports ../../../core/Error ../../../core/promiseUtils ../../../core/promiseUtils ./Zlib".split(" "),function(a,f,d,n,k,m){return function(){function a(e){e&&(this.canvas=e.canvas,this.ctx=e.ctx||e.canvas&&e.canvas.getContext("2d"))}a.getFormat=function(e){if(!e||10>e.byteLength)return"";e=new Uint8Array(e,
0,10);var c="";255===e[0]&&216===e[1]?c="jpeg":137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]&&(c="png");return c};a.prototype.decode=function(e,c,b){var g=this;if(!e||10>e.byteLength)throw new d("imagecanvasdecoder: decode","required a valid encoded data as input.");var p=a.getFormat(e);if(""===p)throw new d("imagecanvasdecoder: decode","encoded data format is not a supported format (jpeg or png).");var h=c.width,q=c.height,l=c.applyJpegMask;if(l&&(!h||!q))throw new d("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");
return n.create(function(d,r){var f=null;"jpeg"===p&&l&&(f=a.getMask(e,c));var t=new Blob([new Uint8Array(e)],{type:"image/"+p}),m=URL.createObjectURL(t),v=new Image,y;v.src=m;v.onload=function(){URL.revokeObjectURL(m);if(n.isAborted(b))r(k.createAbortError());else{h=v.width;q=v.height;if(g.canvas){if(g.canvas.width!==h||g.canvas.height!==q)g.canvas.width=h,g.canvas.height=q;g.ctx.clearRect(0,0,h,q)}else g.canvas=document.createElement("canvas"),g.canvas.width=h,g.canvas.height=q,g.ctx=g.canvas.getContext("2d");
g.ctx.drawImage(v,0,0);var e=g.ctx.getImageData(0,0,h,q);y=e.data;var a;if(c.renderOnCanvas){if(f)for(a=0;a<f.length;a++)y[4*a+3]=f[a]?255:0;g.ctx.putImageData(e,0,0);d(null)}else{var e=h*q,p=new Uint8Array(e),l=new Uint8Array(e),t=new Uint8Array(e);if(f)for(a=0;a<e;a++)p[a]=y[4*a],l[a]=y[4*a+1],t[a]=y[4*a+2];else for(f=new Uint8Array(e),a=0;a<e;a++)p[a]=y[4*a],l[a]=y[4*a+1],t[a]=y[4*a+2],f[a]=y[4*a+3];d({width:h,height:q,pixels:[p,l,t],mask:f,pixelType:"u8"})}}};v.onerror=function(){URL.revokeObjectURL(m);
r("cannot load image")}})};a.getMask=function(e,c){var b=null;try{var a=new Uint8Array(e);e=0;var d=a.length-2;for(e=Math.ceil(a.length/2);e<d&&(255!==a[e]||217!==a[e+1]);e++);e+=2;if(e<a.length-1)for(var h=(new m(a.subarray(e))).getBytes(),b=new Uint8Array(c.width*c.height),a=c=0;a<h.length;a++)for(d=7;0<=d;d--)b[c++]=h[a]>>d&1}catch(q){}return b};return a}()})},"esri/layers/support/rasterFormats/Zlib":function(){define([],function(){var a=function(){function a(){this.bufferLength=this.pos=0;this.eof=
!1;this.buffer=null}a.prototype={ensureBuffer:function(a){var d=this.buffer,f=d?d.byteLength:0;if(a<f)return d;for(var m=512;m<a;)m<<=1;a=new Uint8Array(m);for(m=0;m<f;++m)a[m]=d[m];return this.buffer=a},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var d=this.pos;if(a){this.ensureBuffer(d+a);for(a=d+a;!this.eof&&this.bufferLength<a;)this.readBlock();var f=this.bufferLength;a>f&&(a=f)}else{for(;!this.eof;)this.readBlock();
a=this.bufferLength}this.pos=a;return this.buffer.subarray(d,a)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(a,f,k){for(var d=a+f;this.bufferLength<=d&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,f,
k)},skip:function(a){a||(a=1);this.pos+=a},reset:function(){this.pos=0}};return a}();return function(){function f(c){throw Error(c);}function d(c){var b=0,e=c[b++],d=c[b++];-1!=e&&-1!=d||f("Invalid header in flate stream");8!=(e&15)&&f("Unknown compression method in flate stream");0!=((e<<8)+d)%31&&f("Bad FCHECK in flate stream");d&32&&f("FDICT bit set in flate stream");this.bytes=c;this.bytesPos=b;this.codeBuf=this.codeSize=0;a.call(this)}if(!self||!self.Uint32Array)return null;var n=new Uint32Array([16,
17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),m=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),h=[new Uint32Array([459008,524368,524304,524568,459024,524400,
524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,
524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,
524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,
524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,
524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,
524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,
524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,
524367,590079]),9],e=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];d.prototype=Object.create(a.prototype);d.prototype.getBits=function(c){for(var b=this.codeSize,e=this.codeBuf,a=this.bytes,d=this.bytesPos,h;b<c;)"undefined"==typeof(h=a[d++])&&f("Bad encoding in flate stream"),e|=h<<b,b+=8;this.codeBuf=e>>c;this.codeSize=
b-=c;this.bytesPos=d;return e&(1<<c)-1};d.prototype.getCode=function(c){var b=c[0],e=c[1];c=this.codeSize;for(var a=this.codeBuf,d=this.bytes,h=this.bytesPos;c<e;){var l;"undefined"==typeof(l=d[h++])&&f("Bad encoding in flate stream");a|=l<<c;c+=8}e=b[a&(1<<e)-1];b=e>>16;e&=65535;(0==c||c<b||0==b)&&f("Bad encoding in flate stream");this.codeBuf=a>>b;this.codeSize=c-b;this.bytesPos=h;return e};d.prototype.generateHuffmanTable=function(c){for(var b=c.length,e=0,a=0;a<b;++a)c[a]>e&&(e=c[a]);for(var d=
1<<e,h=new Uint32Array(d),l=1,f=0,k=2;l<=e;++l,f<<=1,k<<=1)for(var m=0;m<b;++m)if(c[m]==l){for(var n=0,w=f,a=0;a<l;++a)n=n<<1|w&1,w>>=1;for(a=n;a<d;a+=k)h[a]=l<<16|m;++f}return[h,e]};d.prototype.readBlock=function(){function c(b,c,e,a,g){for(b=b.getBits(e)+a;0<b--;)c[t++]=g}var b=this.getBits(3);b&1&&(this.eof=!0);b>>=1;if(0==b){var a=this.bytes,d=this.bytesPos,r;"undefined"==typeof(r=a[d++])&&f("Bad block header in flate stream");var q=r;"undefined"==typeof(r=a[d++])&&f("Bad block header in flate stream");
q|=r<<8;"undefined"==typeof(r=a[d++])&&f("Bad block header in flate stream");b=r;"undefined"==typeof(r=a[d++])&&f("Bad block header in flate stream");(b|r<<8)!=(~q&65535)&&f("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;r=this.bufferLength;b=this.ensureBuffer(r+q);this.bufferLength=q=r+q;for(var l=r;l<q;++l){if("undefined"==typeof(r=a[d++])){this.eof=!0;break}b[l]=r}this.bytesPos=d}else{if(1==b)d=h,r=e;else if(2==b){b=this.getBits(5)+257;r=this.getBits(5)+1;for(var a=
this.getBits(4)+4,d=Array(n.length),t=0;t<a;)d[n[t++]]=this.getBits(3);d=this.generateHuffmanTable(d);t=a=0;r=b+r;for(q=Array(r);t<r;)l=this.getCode(d),16==l?c(this,q,2,3,a):17==l?c(this,q,3,3,a=0):18==l?c(this,q,7,11,a=0):q[t++]=a=l;d=this.generateHuffmanTable(q.slice(0,b));r=this.generateHuffmanTable(q.slice(b,r))}else f("Unknown block type in flate stream");q=(b=this.buffer)?b.length:0;for(l=this.bufferLength;;){var v=this.getCode(d);if(256>v)l+1>=q&&(b=this.ensureBuffer(l+1),q=b.length),b[l++]=
v;else{if(256==v){this.bufferLength=l;break}var v=v-257,v=k[v],A=v>>16;0<A&&(A=this.getBits(A));a=(v&65535)+A;v=this.getCode(r);v=m[v];A=v>>16;0<A&&(A=this.getBits(A));v=(v&65535)+A;l+a>=q&&(b=this.ensureBuffer(l+a),q=b.length);for(A=0;A<a;++A,++l)b[l]=b[l-v]}}}};return d}()})},"esri/layers/support/rasterFormats/JpgPlus":function(){define(["require","exports","./Jpg","./Zlib"],function(a,f,d,n){return function(){function a(){}a.decode=function(a){var h=new Uint8Array(a),e=new d;e.parse(h);a=e.width;
var c=e.height,b=e.numComponents,g=e.eof,e=e.getData(a,c,!0),p,r=a*c,q=0,l=0,f=0;if(g<h.length-1)for(h=(new n(h.subarray(g))).getBytes(),p=new Uint8Array(r),q=g=0;q<h.length;q++)for(f=7;0<=f;f--)p[g++]=h[q]>>f&1;h=null;if(1===b)h=[e,e,e];else{h=[];for(q=0;3>q;q++)b=new Uint8Array(r),h.push(b);for(l=f=0;l<r;l++)for(q=0;3>q;q++)h[q][l]=e[f++]}return{width:a,height:c,pixels:h,mask:p}};return a}()})},"esri/layers/support/rasterFormats/Jpg":function(){define([],function(){var a=function(){function a(a){this.message=
"JPEG error: "+a}a.prototype=Error();a.prototype.name="JpegError";return a.constructor=a}();return function(){function f(){this.decodeTransform=null;this.colorTransform=-1}function d(a,c){for(var b=0,e=[],d,h,q=16;0<q&&!a[q-1];)q--;e.push({children:[],index:0});var l=e[0],f;for(d=0;d<q;d++){for(h=0;h<a[d];h++){l=e.pop();for(l.children[l.index]=c[b];0<l.index;)l=e.pop();l.index++;for(e.push(l);e.length<=d;)e.push(f={children:[],index:0}),l.children[l.index]=f.children,l=f;b++}d+1<q&&(e.push(f={children:[],
index:0}),l.children[l.index]=f.children,l=f)}return e[0].children}function n(e,c,b,g,d,r,q,l,f){function p(){if(0<H)return H--,F>>H&1;F=e[c++];if(255===F){var b=e[c++];if(b)throw new a("unexpected marker "+(F<<8|b).toString(16));}H=7;return F>>>7}function t(b){for(;;){b=b[p()];if("number"===typeof b)return b;if("object"!==typeof b)throw new a("invalid huffman sequence");}}function k(b){for(var c=0;0<b;)c=c<<1|p(),b--;return c}function n(b){if(1===b)return 1===p()?1:-1;var c=k(b);return c>=1<<b-1?
c:c+(-1<<b)+1}function u(b,c){var a=t(b.huffmanTableDC),a=0===a?0:n(a);b.blockData[c]=b.pred+=a;for(a=1;64>a;){var e=t(b.huffmanTableAC),g=e&15,e=e>>4;if(0===g){if(15>e)break;a+=16}else a+=e,b.blockData[c+h[a]]=n(g),a++}}function y(b,c){var a=t(b.huffmanTableDC),a=0===a?0:n(a)<<f;b.blockData[c]=b.pred+=a}function C(b,c){b.blockData[c]|=p()<<f}function z(b,c){if(0<G)G--;else for(var a=r;a<=q;){var e=t(b.huffmanTableAC),g=e&15,e=e>>4;if(0===g){if(15>e){G=k(e)+(1<<e)-1;break}a+=16}else a+=e,b.blockData[c+
h[a]]=n(g)*(1<<f),a++}}function D(b,c){for(var e=r,g=0,d;e<=q;){d=h[e];switch(L){case 0:g=t(b.huffmanTableAC);d=g&15;g>>=4;if(0===d)15>g?(G=k(g)+(1<<g),L=4):(g=16,L=1);else{if(1!==d)throw new a("invalid ACn encoding");K=n(d);L=g?2:3}continue;case 1:case 2:b.blockData[c+d]?b.blockData[c+d]+=p()<<f:(g--,0===g&&(L=2===L?3:0));break;case 3:b.blockData[c+d]?b.blockData[c+d]+=p()<<f:(b.blockData[c+d]=K<<f,L=0);break;case 4:b.blockData[c+d]&&(b.blockData[c+d]+=p()<<f)}e++}4===L&&(G--,0===G&&(L=0))}var B=
b.mcusPerLine,E=c,F=0,H=0,G=0,L=0,K,J=g.length,I,M,Q,O,R;l=b.progressive?0===r?0===l?y:C:0===l?z:D:u;var S=0;b=1===J?g[0].blocksPerLine*g[0].blocksPerColumn:B*b.mcusPerColumn;for(var X,T;S<b;){var N=d?Math.min(b-S,d):b;for(M=0;M<J;M++)g[M].pred=0;G=0;if(1===J)for(I=g[0],R=0;R<N;R++)l(I,64*((I.blocksPerLine+1)*(S/I.blocksPerLine|0)+S%I.blocksPerLine)),S++;else for(R=0;R<N;R++){for(M=0;M<J;M++)for(I=g[M],X=I.h,T=I.v,Q=0;Q<T;Q++)for(O=0;O<X;O++)l(I,64*((I.blocksPerLine+1)*((S/B|0)*I.v+Q)+(S%B*I.h+O)));
S++}H=0;(I=m(e,c))&&I.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+I.invalid),c=I.offset);I=I&&I.marker;if(!I||65280>=I)throw new a("marker was not found");if(65488<=I&&65495>=I)c+=2;else break}(I=m(e,c))&&I.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+I.invalid),c=I.offset);return c-E}function k(e,c){e=c.blocksPerLine;for(var b=c.blocksPerColumn,g=new Int16Array(64),d=0;d<b;d++)for(var h=0;h<e;h++){var q=64*((c.blocksPerLine+1)*d+h),l=
g,f=c.quantizationTable,k=c.blockData,n=void 0,m=void 0,w=void 0,u=void 0,y=void 0,C=void 0,z=void 0,D=void 0,B=void 0,E=D=void 0,F=z=m=C=void 0,H=void 0,B=void 0;if(!f)throw new a("missing required Quantization Table.");for(var G=0;64>G;G+=8)B=k[q+G],D=k[q+G+1],E=k[q+G+2],C=k[q+G+3],m=k[q+G+4],z=k[q+G+5],F=k[q+G+6],H=k[q+G+7],B*=f[G],0===(D|E|C|m|z|F|H)?(B=5793*B+512>>10,l[G]=B,l[G+1]=B,l[G+2]=B,l[G+3]=B,l[G+4]=B,l[G+5]=B,l[G+6]=B,l[G+7]=B):(D*=f[G+1],E*=f[G+2],C*=f[G+3],m*=f[G+4],z*=f[G+5],F*=f[G+
6],H*=f[G+7],n=5793*B+128>>8,m=5793*m+128>>8,w=E,u=F,y=2896*(D-H)+128>>8,D=2896*(D+H)+128>>8,C<<=4,z<<=4,n=n+m+1>>1,m=n-m,B=3784*w+1567*u+128>>8,w=1567*w-3784*u+128>>8,u=B,y=y+z+1>>1,z=y-z,D=D+C+1>>1,C=D-C,n=n+u+1>>1,u=n-u,m=m+w+1>>1,w=m-w,B=2276*y+3406*D+2048>>12,y=3406*y-2276*D+2048>>12,D=B,B=799*C+4017*z+2048>>12,C=4017*C-799*z+2048>>12,z=B,l[G]=n+D,l[G+7]=n-D,l[G+1]=m+z,l[G+6]=m-z,l[G+2]=w+C,l[G+5]=w-C,l[G+3]=u+y,l[G+4]=u-y);for(f=0;8>f;++f)B=l[f],D=l[f+8],E=l[f+16],C=l[f+24],m=l[f+32],z=l[f+
40],F=l[f+48],H=l[f+56],0===(D|E|C|m|z|F|H)?(B=5793*B+8192>>14,B=-2040>B?0:2024<=B?255:B+2056>>4,k[q+f]=B,k[q+f+8]=B,k[q+f+16]=B,k[q+f+24]=B,k[q+f+32]=B,k[q+f+40]=B,k[q+f+48]=B,k[q+f+56]=B):(n=5793*B+2048>>12,m=5793*m+2048>>12,w=E,u=F,y=2896*(D-H)+2048>>12,D=2896*(D+H)+2048>>12,n=(n+m+1>>1)+4112,m=n-m,B=3784*w+1567*u+2048>>12,w=1567*w-3784*u+2048>>12,u=B,y=y+z+1>>1,z=y-z,D=D+C+1>>1,C=D-C,n=n+u+1>>1,u=n-u,m=m+w+1>>1,w=m-w,B=2276*y+3406*D+2048>>12,y=3406*y-2276*D+2048>>12,D=B,B=799*C+4017*z+2048>>12,
C=4017*C-799*z+2048>>12,z=B,B=n+D,H=n-D,D=m+z,F=m-z,E=w+C,z=w-C,C=u+y,m=u-y,B=16>B?0:4080<=B?255:B>>4,D=16>D?0:4080<=D?255:D>>4,E=16>E?0:4080<=E?255:E>>4,C=16>C?0:4080<=C?255:C>>4,m=16>m?0:4080<=m?255:m>>4,z=16>z?0:4080<=z?255:z>>4,F=16>F?0:4080<=F?255:F>>4,H=16>H?0:4080<=H?255:H>>4,k[q+f]=B,k[q+f+8]=D,k[q+f+16]=E,k[q+f+24]=C,k[q+f+32]=m,k[q+f+40]=z,k[q+f+48]=F,k[q+f+56]=H)}return c.blockData}function m(a,c,b){var e=a.length-1;b=b<c?b:c;if(c>=e)return null;var d=a[c]<<8|a[c+1];if(65472<=d&&65534>=
d)return{invalid:null,marker:d,offset:c};for(c=a[b]<<8|a[b+1];!(65472<=c&&65534>=c);){if(++b>=e)return null;c=a[b]<<8|a[b+1]}return{invalid:d.toString(16),marker:c,offset:b}}if(!self||!self.Uint8ClampedArray)return null;var h=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);f.prototype={parse:function(e){function c(){var b=e[p]<<8|e[p+1];p+=2;return b}
function b(){var b=c(),b=p+b-2,a=m(e,b,p);a&&a.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+a.invalid),b=a.offset);b=e.subarray(p,b);p+=b.length;return b}function g(b){for(var c=Math.ceil(b.samplesPerLine/8/b.maxH),a=Math.ceil(b.scanLines/8/b.maxV),e=0;e<b.components.length;e++){E=b.components[e];var g=Math.ceil(Math.ceil(b.samplesPerLine/8)*E.h/b.maxH),d=Math.ceil(Math.ceil(b.scanLines/8)*E.v/b.maxV);E.blockData=new Int16Array(64*a*E.v*(c*E.h+1));E.blocksPerLine=g;E.blocksPerColumn=
d}b.mcusPerLine=c;b.mcusPerColumn=a}var p=0,r=null,q=null,l,f,v=[],A=[],x=[],w=c();if(65496!==w)throw new a("SOI not found");for(w=c();65497!==w;){var u,y;switch(w){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:u=b();65504===w&&74===u[0]&&70===u[1]&&73===u[2]&&70===u[3]&&0===u[4]&&(r={version:{major:u[5],minor:u[6]},densityUnits:u[7],xDensity:u[8]<<8|u[9],yDensity:u[10]<<
8|u[11],thumbWidth:u[12],thumbHeight:u[13],thumbData:u.subarray(14,14+3*u[12]*u[13])});65518===w&&65===u[0]&&100===u[1]&&111===u[2]&&98===u[3]&&101===u[4]&&(q={version:u[5]<<8|u[6],flags0:u[7]<<8|u[8],flags1:u[9]<<8|u[10],transformCode:u[11]});break;case 65499:for(var w=c()+p-2,C;p<w;){var z=e[p++],D=new Uint16Array(64);if(0===z>>4)for(u=0;64>u;u++)C=h[u],D[C]=e[p++];else if(1===z>>4)for(u=0;64>u;u++)C=h[u],D[C]=c();else throw new a("DQT - invalid table spec");v[z&15]=D}break;case 65472:case 65473:case 65474:if(l)throw new a("Only single frame JPEGs supported");
c();l={};l.extended=65473===w;l.progressive=65474===w;l.precision=e[p++];l.scanLines=c();l.samplesPerLine=c();l.components=[];l.componentIds={};u=e[p++];for(w=D=z=0;w<u;w++){C=e[p];y=e[p+1]>>4;var B=e[p+1]&15;z<y&&(z=y);D<B&&(D=B);y=l.components.push({h:y,v:B,quantizationId:e[p+2],quantizationTable:null});l.componentIds[C]=y-1;p+=3}l.maxH=z;l.maxV=D;g(l);break;case 65476:C=c();for(w=2;w<C;){z=e[p++];D=new Uint8Array(16);for(u=y=0;16>u;u++,p++)y+=D[u]=e[p];B=new Uint8Array(y);for(u=0;u<y;u++,p++)B[u]=
e[p];w+=17+y;(0===z>>4?x:A)[z&15]=d(D,B)}break;case 65501:c();f=c();break;case 65498:c();C=e[p++];u=[];for(var E,w=0;w<C;w++)z=l.componentIds[e[p++]],E=l.components[z],z=e[p++],E.huffmanTableDC=x[z>>4],E.huffmanTableAC=A[z&15],u.push(E);w=e[p++];C=e[p++];z=e[p++];w=n(e,p,l,u,f,w,C,z>>4,z&15);p+=w;break;case 65535:255!==e[p]&&p--;break;default:if(255===e[p-3]&&192<=e[p-2]&&254>=e[p-2])p-=3;else throw new a("unknown marker "+w.toString(16));}w=c()}this.width=l.samplesPerLine;this.height=l.scanLines;
this.jfif=r;this.eof=p;this.adobe=q;this.components=[];for(w=0;w<l.components.length;w++){E=l.components[w];if(r=v[E.quantizationId])E.quantizationTable=r;this.components.push({output:k(l,E),scaleX:E.h/l.maxH,scaleY:E.v/l.maxV,blocksPerLine:E.blocksPerLine,blocksPerColumn:E.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(a,c){var b=this.width/a,e=this.height/c,d,h,q,l,f,k,m=0,n,w=this.components.length,u=a*c*w,y=new Uint8ClampedArray(u),C=new Uint32Array(a);
for(k=0;k<w;k++){d=this.components[k];h=d.scaleX*b;q=d.scaleY*e;m=k;n=d.output;l=d.blocksPerLine+1<<3;for(f=0;f<a;f++)d=0|f*h,C[f]=(d&4294967288)<<3|d&7;for(h=0;h<c;h++)for(d=0|h*q,d=l*(d&4294967288)|(d&7)<<3,f=0;f<a;f++)y[m]=n[d+C[f]],m+=w}if(c=this.decodeTransform)for(k=0;k<u;)for(a=d=0;d<w;d++,k++,a+=2)y[k]=(y[k]*c[a]>>8)+c[a+1];return y},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0===this.colorTransform?!1:!0:1===this.colorTransform?
!0:!1},_convertYccToRgb:function(a){for(var c,b,e,d=0,h=a.length;d<h;d+=3)c=a[d],b=a[d+1],e=a[d+2],a[d]=c-179.456+1.402*e,a[d+1]=c+135.459-.344*b-.714*e,a[d+2]=c-226.816+1.772*b;return a},_convertYcckToRgb:function(a){for(var c,b,e,d,h=0,q=0,l=a.length;q<l;q+=4)c=a[q],b=a[q+1],e=a[q+2],d=a[q+3],a[h++]=-122.67195406894+b*(-6.60635669420364E-5*b+4.37130475926232E-4*e-5.4080610064599E-5*c+4.8449797120281E-4*d-.154362151871126)+e*(-9.57964378445773E-4*e+8.17076911346625E-4*c-.00477271405408747*d+1.53380253221734)+
c*(9.61250184130688E-4*c-.00266257332283933*d+.48357088451265)+d*(-3.36197177618394E-4*d+.484791561490776),a[h++]=107.268039397724+b*(2.19927104525741E-5*b-6.40992018297945E-4*e+6.59397001245577E-4*c+4.26105652938837E-4*d-.176491792462875)+e*(-7.78269941513683E-4*e+.00130872261408275*c+7.70482631801132E-4*d-.151051492775562)+c*(.00126935368114843*c-.00265090189010898*d+.25802910206845)+d*(-3.18913117588328E-4*d-.213742400323665),a[h++]=-20.810012546947+b*(-5.70115196973677E-4*b-2.63409051004589E-5*
e+.0020741088115012*c-.00288260236853442*d+.814272968359295)+e*(-1.53496057440975E-5*e-1.32689043961446E-4*c+5.60833691242812E-4*d-.195152027534049)+c*(.00174418132927582*c-.00255243321439347*d+.116935020465145)+d*(-3.43531996510555E-4*d+.24165260232407);return a},_convertYcckToCmyk:function(a){for(var c,b,e,d=0,h=a.length;d<h;d+=4)c=a[d],b=a[d+1],e=a[d+2],a[d]=434.456-c-1.402*e,a[d+1]=119.541-c+.344*b+.714*e,a[d+2]=481.816-c-1.772*b;return a},_convertCmykToRgb:function(a){for(var c,b,e,d,h=0,q=1/
255,l=0,f=a.length;l<f;l+=4)c=a[l]*q,b=a[l+1]*q,e=a[l+2]*q,d=a[l+3]*q,a[h++]=255+c*(-4.387332384609988*c+54.48615194189176*b+18.82290502165302*e+212.25662451639585*d-285.2331026137004)+b*(1.7149763477362134*b-5.6096736904047315*e-17.873870861415444*d-5.497006427196366)+e*(-2.5217340131683033*e-21.248923337353073*d+17.5119270841813)-d*(21.86122147463605*d+189.48180835922747),a[h++]=255+c*(8.841041422036149*c+60.118027045597366*b+6.871425592049007*e+31.159100130055922*d-79.2970844816548)+b*(-15.310361306967817*
b+17.575251261109482*e+131.35250912493976*d-190.9453302588951)+e*(4.444339102852739*e+9.8632861493405*d-24.86741582555878)-d*(20.737325471181034*d+187.80453709719578),a[h++]=255+c*(.8842522430003296*c+8.078677503112928*b+30.89978309703729*e-.23883238689178934*d-14.183576799673286)+b*(10.49593273432072*b+63.02378494754052*e+50.606957656360734*d-112.23884253719248)+e*(.03296041114873217*e+115.60384449646641*d-193.58209356861505)-d*(22.33816807309886*d+180.12613974708367);return a},getData:function(e,
c,b){if(4<this.numComponents)throw new a("Unsupported color mode");e=this._getLinearizedBlockData(e,c);if(1===this.numComponents&&b){b=e.length;c=new Uint8ClampedArray(3*b);for(var g=0,d=0;d<b;d++){var h=e[d];c[g++]=h;c[g++]=h;c[g++]=h}return c}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(e);if(4===this.numComponents){if(this._isColorConversionNeeded())return b?this._convertYcckToRgb(e):this._convertYcckToCmyk(e);if(b)return this._convertCmykToRgb(e)}return e}};
return f}()})},"esri/layers/support/rasterFormats/Lerc2Codec":function(){define([],function(){var a={unstuff:function(a,d,f,h,e,c,b,g){var p=(1<<f)-1,r=0,q,l=0,k,m;a[a.length-1]<<=8*(4*a.length-Math.ceil(f*h/8));if(e)for(q=0;q<h;q++)0===l&&(m=a[r++],l=32),l>=f?(k=m>>>l-f&p,l-=f):(l=f-l,k=(m&p)<<l&p,m=a[r++],l=32-l,k+=m>>>l),d[q]=e[k];else for(e=Math.ceil((g-c)/b),q=0;q<h;q++)0===l&&(m=a[r++],l=32),l>=f?(k=m>>>l-f&p,l-=f):(l=f-l,k=(m&p)<<l&p,m=a[r++],l=32-l,k+=m>>>l),d[q]=k<e?c+k*b:g},unstuffLUT:function(a,
d,f,h,e,c){var b=(1<<d)-1,g=0,p=0,r=0,q=r=0,l,k=[];a[a.length-1]<<=8*(4*a.length-Math.ceil(d*f/8));for(var m=Math.ceil((c-h)/e),p=0;p<f;p++)0===r&&(l=a[g++],r=32),r>=d?(q=l>>>r-d&b,r-=d):(r=d-r,q=(l&b)<<r&b,l=a[g++],r=32-r,q+=l>>>r),k[p]=q<m?h+q*e:c;k.unshift(h);return k},unstuff2:function(a,d,f,h,e,c,b,g){var p=(1<<f)-1,r=0,q,l=0,k=0,m,n,x;if(e)for(q=0;q<h;q++)0===l&&(n=a[r++],l=32,k=0),l>=f?(m=n>>>k&p,l-=f,k+=f):(x=f-l,m=n>>>k&p,n=a[r++],l=32-x,m|=(n&(1<<x)-1)<<f-x,k=x),d[q]=e[m];else for(e=Math.ceil((g-
c)/b),q=0;q<h;q++)0===l&&(n=a[r++],l=32,k=0),l>=f?(m=n>>>k&p,l-=f,k+=f):(x=f-l,m=n>>>k&p,n=a[r++],l=32-x,m|=(n&(1<<x)-1)<<f-x,k=x),d[q]=m<e?c+m*b:g;return d},unstuffLUT2:function(a,d,f,h,e,c){for(var b=(1<<d)-1,g=0,p=0,r=0,q=0,l=0,k=0,m,n=[],x=Math.ceil((c-h)/e),p=0;p<f;p++)0===q&&(m=a[g++],q=32,k=0),q>=d?(l=m>>>k&b,q-=d,k+=d):(r=d-q,l=m>>>k&b,m=a[g++],q=32-r,l|=(m&(1<<r)-1)<<d-r,k=r),n[p]=l<x?h+l*e:c;n.unshift(h);return n},originalUnstuff:function(a,d,f,h){var e=(1<<f)-1,c=0,b,g=0,p,r;a[a.length-
1]<<=8*(4*a.length-Math.ceil(f*h/8));for(b=0;b<h;b++)0===g&&(r=a[c++],g=32),g>=f?(p=r>>>g-f&e,g-=f):(g=f-g,p=(r&e)<<g&e,r=a[c++],g=32-g,p+=r>>>g),d[b]=p;return d},originalUnstuff2:function(a,d,f,h){var e=(1<<f)-1,c=0,b,g=0,p=0,r,q,l;for(b=0;b<h;b++)0===g&&(q=a[c++],g=32,p=0),g>=f?(r=q>>>p&e,g-=f,p+=f):(l=f-g,r=q>>>p&e,q=a[c++],g=32-l,r|=(q&(1<<l)-1)<<f-l,p=l),d[b]=r;return d}},f={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(a){for(var d=65535,f=65535,h=a.length,e=Math.floor(h/2),c=0;e;){var b=
359<=e?359:e,e=e-b;do d+=a[c++]<<8,f+=d+=a[c++];while(--b);d=(d&65535)+(d>>>16);f=(f&65535)+(f>>>16)}h&1&&(f+=d+=a[c]<<8);return((f&65535)+(f>>>16)<<16|(d&65535)+(d>>>16))>>>0},readHeaderInfo:function(a,d){var f=d.ptr,h=new Uint8Array(a,f,6),e={};e.fileIdentifierString=String.fromCharCode.apply(null,h);if(0!==e.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+e.fileIdentifierString;var f=f+6,h=new DataView(a,f,8),c=h.getInt32(0,!0);e.fileVersion=
c;f+=4;3<=c&&(e.checksum=h.getUint32(4,!0),f+=4);h=new DataView(a,f,12);e.height=h.getUint32(0,!0);e.width=h.getUint32(4,!0);f+=8;4<=c?(e.numDims=h.getUint32(8,!0),f+=4):e.numDims=1;h=new DataView(a,f,40);e.numValidPixel=h.getUint32(0,!0);e.microBlockSize=h.getInt32(4,!0);e.blobSize=h.getInt32(8,!0);e.imageType=h.getInt32(12,!0);e.maxZError=h.getFloat64(16,!0);e.zMin=h.getFloat64(24,!0);e.zMax=h.getFloat64(32,!0);f+=40;d.headerInfo=e;d.ptr=f;if(3<=c&&(a=this.computeChecksumFletcher32(new Uint8Array(a,
f-(4<=c?52:48),e.blobSize-14)),a!==e.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(a,d){var f=d.headerInfo,h=this.getDataTypeArray(f.imageType),e=f.numDims*this.getDataTypeSize(f.imageType),c=this.readSubArray(a,d.ptr,h,e);a=this.readSubArray(a,d.ptr+e,h,e);d.ptr+=2*e;e=!0;for(d=0;d<f.numDims;d++)if(c[d]!==a[d]){e=!1;break}f.minValues=c;f.maxValues=a;return e},readSubArray:function(a,d,f,h){if(f===Uint8Array)a=new Uint8Array(a,d,h);else{var e=new ArrayBuffer(h);(new Uint8Array(e)).set(new Uint8Array(a,
d,h));a=new f(e)}return a},readMask:function(a,d){var f=d.ptr,h=d.headerInfo,e=h.width*h.height,c=h.numValidPixel,b=new DataView(a,f,4),h={};h.numBytes=b.getUint32(0,!0);f+=4;if((0===c||e===c)&&0!==h.numBytes)throw"invalid mask";if(0===c)c=new Uint8Array(Math.ceil(e/8)),h.bitset=c,b=new Uint8Array(e),d.pixels.resultMask=b,f+=h.numBytes;else if(0<h.numBytes){c=new Uint8Array(Math.ceil(e/8));b=new DataView(a,f,h.numBytes);a=b.getInt16(0,!0);var g=2,p=0,r=0;do{if(0<a)for(;a--;)c[p++]=b.getUint8(g++);
else for(r=b.getUint8(g++),a=-a;a--;)c[p++]=r;a=b.getInt16(g,!0);g+=2}while(g<h.numBytes);if(-32768!==a||p<c.length)throw"Unexpected end of mask RLE encoding";b=new Uint8Array(e);for(g=g=a=0;g<e;g++)g&7?(a=c[g>>3],a<<=g&7):a=c[g>>3],a&128&&(b[g]=1);d.pixels.resultMask=b;h.bitset=c;f+=h.numBytes}d.ptr=f;d.mask=h;return!0},readDataOneSweep:function(a,d,m){var h=d.ptr,e=d.headerInfo,c=e.numDims,b=e.width*e.height,e=e.numValidPixel*f.getDataTypeSize(e.imageType)*c,g=d.pixels.resultMask;if(m===Uint8Array)a=
new Uint8Array(a,h,e);else{var p=new ArrayBuffer(e);(new Uint8Array(p)).set(new Uint8Array(a,h,e));a=new m(p)}if(a.length===b*c)d.pixels.resultPixels=a;else{d.pixels.resultPixels=new m(b*c);var r=p=m=0,q=0;if(1<c)for(r=0;r<c;r++)for(q=r*b,p=0;p<b;p++)g[p]&&(d.pixels.resultPixels[q+p]=a[m++]);else for(p=0;p<b;p++)g[p]&&(d.pixels.resultPixels[p]=a[m++])}d.ptr=h+e;return!0},readHuffmanTree:function(a,k){var m=this.HUFFMAN_LUT_BITS_MAX,h=new DataView(a,k.ptr,16);k.ptr+=16;if(2>h.getInt32(0,!0))throw"unsupported Huffman version";
var e=h.getInt32(4,!0),c=h.getInt32(8,!0),h=h.getInt32(12,!0);if(c>=h)return!1;var b=new Uint32Array(h-c);f.decodeBits(a,k,b);var g=[],p,r,q;for(p=c;p<h;p++)r=p-(p<e?0:e),g[r]={first:b[p-c],second:null};p=a.byteLength-k.ptr;b=new ArrayBuffer(4*Math.ceil(p/4));(new Uint8Array(b)).set(new Uint8Array(a,k.ptr,p));a=new Uint32Array(b);k=0;var l,b=0;l=a[0];for(p=c;p<h;p++)r=p-(p<e?0:e),q=g[r].first,0<q&&(g[r].second=l<<k>>>32-q,32-k>=q?(k+=q,32===k&&(k=0,b++,l=a[b])):(k+=q-32,b++,l=a[b],g[r].second|=l>>>
32-k));var t=l=0,n=new d;for(p=0;p<g.length;p++)void 0!==g[p]&&(l=Math.max(l,g[p].first));var t=l>=m?m:l,m=[],A,x;for(p=c;p<h;p++)if(r=p-(p<e?0:e),q=g[r].first,0<q)if(c=[q,r],q<=t)for(r=g[r].second<<t-q,A=1<<t-q,q=0;q<A;q++)m[r|q]=c;else for(r=g[r].second,A=n,--q;0<=q;q--)(x=r>>>q&1)?(A.right||(A.right=new d),A=A.right):(A.left||(A.left=new d),A=A.left),0!==q||A.val||(A.val=c[1]);return{decodeLut:m,numBitsLUTQick:t,numBitsLUT:l,tree:n,stuffedData:a,srcPtr:b,bitPos:k}},readHuffman:function(a,d,f){var h=
d.headerInfo,e=h.numDims,c=d.headerInfo.height,b=d.headerInfo.width,g=b*c,p=this.readHuffmanTree(a,d);a=p.decodeLut;var r=p.tree,q=p.stuffedData,l=p.srcPtr,k=p.bitPos,m=p.numBitsLUTQick,p=p.numBitsLUT,n=0===d.headerInfo.imageType?128:0,x,w,u=d.pixels.resultMask,y,C,z,D,B,E,F=0;0<k&&(l++,k=0);var H=q[l],G=1===d.encodeMode,L=new f(g*e),K=L,J;for(J=0;J<h.numDims;J++){1<e&&(K=new f(L.buffer,g*J,g),F=0);if(d.headerInfo.numValidPixel===b*c)for(z=B=0;z<c;z++)for(D=0;D<b;D++,B++){w=0;x=y=H<<k>>>32-m;32-k<
m&&(x=y|=q[l+1]>>>64-k-m);if(a[x])w=a[x][1],k+=a[x][0];else for(x=y=H<<k>>>32-p,32-k<p&&(x=y|=q[l+1]>>>64-k-p),x=r,E=0;E<p;E++)if(x=(C=y>>>p-E-1&1)?x.right:x.left,!x.left&&!x.right){w=x.val;k=k+E+1;break}32<=k&&(k-=32,l++,H=q[l]);w-=n;G?(w=0<D?w+F:0<z?w+K[B-b]:w+F,w&=255,F=K[B]=w):K[B]=w}else for(z=B=0;z<c;z++)for(D=0;D<b;D++,B++)if(u[B]){w=0;x=y=H<<k>>>32-m;32-k<m&&(x=y|=q[l+1]>>>64-k-m);if(a[x])w=a[x][1],k+=a[x][0];else for(x=y=H<<k>>>32-p,32-k<p&&(x=y|=q[l+1]>>>64-k-p),x=r,E=0;E<p;E++)if(x=(C=
y>>>p-E-1&1)?x.right:x.left,!x.left&&!x.right){w=x.val;k=k+E+1;break}32<=k&&(k-=32,l++,H=q[l]);w-=n;G?(w=0<D&&u[B-1]?w+F:0<z&&u[B-b]?w+K[B-b]:w+F,w&=255,F=K[B]=w):K[B]=w}d.ptr=d.ptr+4*(l+1)+(0<k?4:0)}d.pixels.resultPixels=L},decodeBits:function(d,f,m,h,e){var c=f.headerInfo,b=c.fileVersion,g=0,p=new DataView(d,f.ptr,5<=d.byteLength-f.ptr?5:d.byteLength-f.ptr),r=p.getUint8(0);g++;var q=r>>6,l=0===q?4:3-q,k=0<(r&32)?!0:!1,q=r&31,r=0;if(1===l)r=p.getUint8(g),g++;else if(2===l)r=p.getUint16(g,!0),g+=
2;else if(4===l)r=p.getUint32(g,!0),g+=4;else throw"Invalid valid pixel count type";var l=2*c.maxZError,n,A;e=1<c.numDims?c.maxValues[e]:c.zMax;if(k){f.counter.lut++;k=p.getUint8(g);g++;c=Math.ceil((k-1)*q/8);n=Math.ceil(c/4);n=new ArrayBuffer(4*n);A=new Uint8Array(n);f.ptr+=g;A.set(new Uint8Array(d,f.ptr,c));g=new Uint32Array(n);f.ptr+=c;for(p=0;k-1>>>p;)p++;c=Math.ceil(r*p/8);n=Math.ceil(c/4);n=new ArrayBuffer(4*n);A=new Uint8Array(n);A.set(new Uint8Array(d,f.ptr,c));d=new Uint32Array(n);f.ptr+=
c;f=3<=b?a.unstuffLUT2(g,q,k-1,h,l,e):a.unstuffLUT(g,q,k-1,h,l,e);3<=b?a.unstuff2(d,m,p,r,f):a.unstuff(d,m,p,r,f)}else f.counter.bitstuffer++,p=q,f.ptr+=g,0<p&&(c=Math.ceil(r*p/8),n=Math.ceil(c/4),n=new ArrayBuffer(4*n),A=new Uint8Array(n),A.set(new Uint8Array(d,f.ptr,c)),d=new Uint32Array(n),f.ptr+=c,3<=b?null==h?a.originalUnstuff2(d,m,p,r):a.unstuff2(d,m,p,r,!1,h,l,e):null==h?a.originalUnstuff(d,m,p,r):a.unstuff(d,m,p,r,!1,h,l,e))},readTiles:function(a,d,m){var h=d.headerInfo,e=h.width,c=h.height,
b=h.microBlockSize,g=h.imageType,p=f.getDataTypeSize(g),r=Math.ceil(e/b),q=Math.ceil(c/b);d.pixels.numBlocksY=q;d.pixels.numBlocksX=r;for(var l=d.pixels.ptr=0,k=0,n=0,A=0,x=0,w=0,u=0,y=0,C=0,z=0,D=0,B=0,E=0,u=E=u=0,F,H=new m(b*b),G=c%b||b,L=e%b||b,K=h.numDims,J,I=d.pixels.resultMask,M=d.pixels.resultPixels,Q=5<=h.fileVersion?14:15,O=h.zMax,n=0;n<q;n++)for(x=n!==q-1?b:G,A=0;A<r;A++)for(w=A!==r-1?b:L,D=n*e*b+A*b,B=e-w,J=0;J<K;J++){1<K?(E=M,D=n*e*b+A*b,M=new m(d.pixels.resultPixels.buffer,e*c*J*p,e*
c),O=h.maxValues[J]):E=null;u=a.byteLength-d.ptr;l=new DataView(a,d.ptr,Math.min(10,u));k={};u=0;y=l.getUint8(0);u++;F=5<=h.fileVersion?y&4:0;C=y>>6&255;z=y>>2&Q;if(z!==(A*b>>3&Q))throw"integrity issue";if(F&&0===J)throw"integrity issue";y&=3;if(3<y)throw d.ptr+=u,"Invalid block encoding ("+y+")";if(2===y){if(F)if(I)for(l=0;l<x;l++)for(k=0;k<w;k++)I[D]&&(M[D]=E[D]),D++;else for(l=0;l<x;l++)for(k=0;k<w;k++)M[D]=E[D],D++;d.counter.constant++;d.ptr+=u}else if(0===y){if(F)throw"integrity issue";d.counter.uncompressed++;
d.ptr+=u;E=x*w*p;u=a.byteLength-d.ptr;E=E<u?E:u;u=new ArrayBuffer(0===E%p?E:E+p-E%p);F=new Uint8Array(u);F.set(new Uint8Array(a,d.ptr,E));u=new m(u);E=0;if(I)for(l=0;l<x;l++){for(k=0;k<w;k++)I[D]&&(M[D]=u[E++]),D++;D+=B}else for(l=0;l<x;l++){for(k=0;k<w;k++)M[D++]=u[E++];D+=B}d.ptr+=E*p}else if(C=f.getDataTypeUsed(F&&6>g?4:g,C),z=f.getOnePixel(k,u,C,l),u+=f.getDataTypeSize(C),3===y)if(d.ptr+=u,d.counter.constantoffset++,I)for(l=0;l<x;l++){for(k=0;k<w;k++)I[D]&&(M[D]=F?Math.min(O,E[D]+z):z),D++;D+=
B}else for(l=0;l<x;l++){for(k=0;k<w;k++)M[D]=F?Math.min(O,E[D]+z):z,D++;D+=B}else if(d.ptr+=u,f.decodeBits(a,d,H,z,J),u=0,F)if(I)for(l=0;l<x;l++){for(k=0;k<w;k++)I[D]&&(M[D]=H[u++]+E[D]),D++;D+=B}else for(l=0;l<x;l++){for(k=0;k<w;k++)M[D]=H[u++]+E[D],D++;D+=B}else if(I)for(l=0;l<x;l++){for(k=0;k<w;k++)I[D]&&(M[D]=H[u++]),D++;D+=B}else for(l=0;l<x;l++){for(k=0;k<w;k++)M[D++]=H[u++];D+=B}}},formatFileInfo:function(a){return{fileIdentifierString:a.headerInfo.fileIdentifierString,fileVersion:a.headerInfo.fileVersion,
imageType:a.headerInfo.imageType,height:a.headerInfo.height,width:a.headerInfo.width,numValidPixel:a.headerInfo.numValidPixel,microBlockSize:a.headerInfo.microBlockSize,blobSize:a.headerInfo.blobSize,maxZError:a.headerInfo.maxZError,pixelType:f.getPixelType(a.headerInfo.imageType),eofOffset:a.eofOffset,mask:a.mask?{numBytes:a.mask.numBytes}:null,pixels:{numBlocksX:a.pixels.numBlocksX,numBlocksY:a.pixels.numBlocksY,maxValue:a.headerInfo.zMax,minValue:a.headerInfo.zMin,noDataValue:a.noDataValue}}},
constructConstantSurface:function(a){var d=a.headerInfo.zMax,f=a.headerInfo.numDims,h=a.headerInfo.height*a.headerInfo.width,e=0,c=0,b=0,g=a.pixels.resultMask,p=a.pixels.resultPixels;if(g)if(1<f)for(e=0;e<f;e++)for(b=e*h,d=a.headerInfo.maxValues[e],c=0;c<h;c++)g[c]&&(p[b+c]=d);else for(c=0;c<h;c++)g[c]&&(p[c]=d);else if(1<f)for(e=0;e<f;e++)for(b=e*h,d=a.headerInfo.maxValues[e],c=0;c<h;c++)p[b+c]=d;else for(c=0;c<h;c++)p[c]=d},getDataTypeArray:function(a){switch(a){case 0:a=Int8Array;break;case 1:a=
Uint8Array;break;case 2:a=Int16Array;break;case 3:a=Uint16Array;break;case 4:a=Int32Array;break;case 5:a=Uint32Array;break;case 6:a=Float32Array;break;case 7:a=Float64Array;break;default:a=Float32Array}return a},getPixelType:function(a){switch(a){case 0:a="S8";break;case 1:a="U8";break;case 2:a="S16";break;case 3:a="U16";break;case 4:a="S32";break;case 5:a="U32";break;case 6:a="F32";break;case 7:a="F64";break;default:a="F32"}return a},isValidPixelValue:function(a,d){if(null==d)return!1;switch(a){case 0:a=
-128<=d&&127>=d;break;case 1:a=0<=d&&255>=d;break;case 2:a=-32768<=d&&32767>=d;break;case 3:a=0<=d&&65536>=d;break;case 4:a=-2147483648<=d&&2147483647>=d;break;case 5:a=0<=d&&4294967296>=d;break;case 6:a=-3.4027999387901484E38<=d&&3.4027999387901484E38>=d;break;case 7:a=4.9E-324<=d&&1.7976931348623157E308>=d;break;default:a=!1}return a},getDataTypeSize:function(a){var d=0;switch(a){case 0:case 1:d=1;break;case 2:case 3:d=2;break;case 4:case 5:case 6:d=4;break;case 7:d=8;break;default:d=a}return d},
getDataTypeUsed:function(a,d){var f=a;switch(a){case 2:case 4:f=a-d;break;case 3:case 5:f=a-2*d;break;case 6:f=0===d?a:1===d?2:1;break;case 7:f=0===d?a:a-2*d+1;break;default:f=a}return f},getOnePixel:function(a,d,f,h){a=0;switch(f){case 0:a=h.getInt8(d);break;case 1:a=h.getUint8(d);break;case 2:a=h.getInt16(d,!0);break;case 3:a=h.getUint16(d,!0);break;case 4:a=h.getInt32(d,!0);break;case 5:a=h.getUInt32(d,!0);break;case 6:a=h.getFloat32(d,!0);break;case 7:a=h.getFloat64(d,!0);break;default:throw"the decoder does not understand this pixel type";
}return a}},d=function(a,d,f){this.val=a;this.left=d;this.right=f};return{decode:function(a,d){d=d||{};var k=d.noDataValue,h=0,e={};e.ptr=d.inputOffset||0;e.pixels={};if(f.readHeaderInfo(a,e)){var h=e.headerInfo,c=h.fileVersion,b=f.getDataTypeArray(h.imageType);if(5<c)throw"unsupported lerc version 2."+c;f.readMask(a,e);h.numValidPixel===h.width*h.height||e.pixels.resultMask||(e.pixels.resultMask=d.maskData);var g=h.width*h.height;e.pixels.resultPixels=new b(g*h.numDims);e.counter={onesweep:0,uncompressed:0,
lut:0,bitstuffer:0,constant:0,constantoffset:0};if(0!==h.numValidPixel)if(h.zMax===h.zMin)f.constructConstantSurface(e);else if(4<=c&&f.checkMinMaxRanges(a,e))f.constructConstantSurface(e);else{var p=new DataView(a,e.ptr,2),r=p.getUint8(0);e.ptr++;if(r)f.readDataOneSweep(a,e,b);else if(1<c&&1>=h.imageType&&1E-5>Math.abs(h.maxZError-.5)){p=p.getUint8(1);e.ptr++;e.encodeMode=p;if(2<p||4>c&&1<p)throw"Invalid Huffman flag "+p;p?f.readHuffman(a,e,b):f.readTiles(a,e,b)}else f.readTiles(a,e,b)}e.eofOffset=
e.ptr;d.inputOffset?(a=e.headerInfo.blobSize+d.inputOffset-e.ptr,1<=Math.abs(a)&&(e.eofOffset=d.inputOffset+e.headerInfo.blobSize)):(a=e.headerInfo.blobSize-e.ptr,1<=Math.abs(a)&&(e.eofOffset=e.headerInfo.blobSize));a={width:h.width,height:h.height,pixelData:e.pixels.resultPixels,minValue:h.zMin,maxValue:h.zMax,validPixelCount:h.numValidPixel,dimCount:h.numDims,dimStats:{minValues:h.minValues,maxValues:h.maxValues},maskData:e.pixels.resultMask};if(e.pixels.resultMask&&f.isValidPixelValue(h.imageType,
k)){c=e.pixels.resultMask;for(h=0;h<g;h++)c[h]||(a.pixelData[h]=k);a.noDataValue=k}e.noDataValue=k;d.returnFileInfo&&(a.fileInfo=f.formatFileInfo(e));return a}},getBandCount:function(a){for(var d=0,m=0,h={ptr:0,pixels:{}};m<a.byteLength-58;)f.readHeaderInfo(a,h),m+=h.headerInfo.blobSize,d++,h.ptr=m;return d}}})},"esri/layers/support/rasterFormats/LercCodec":function(){define(["../../../core/mathUtils"],function(a){var f={};f.defaultNoDataValue=a.clampFloat32(-Infinity);f.decode=function(n,k){var m;
k=k||{};var h=k.inputOffset||0,e=k.encodedMaskData||null===k.encodedMaskData,c={},b=new Uint8Array(n,h,10);c.fileIdentifierString=String.fromCharCode.apply(null,b);if("CntZImage"!=c.fileIdentifierString.trim())throw"Unexpected file identifier string: "+c.fileIdentifierString;h+=10;b=new DataView(n,h,24);c.fileVersion=b.getInt32(0,!0);c.imageType=b.getInt32(4,!0);c.height=b.getUint32(8,!0);c.width=b.getUint32(12,!0);c.maxZError=b.getFloat64(16,!0);h+=24;if(!e)if(b=new DataView(n,h,16),c.mask={},c.mask.numBlocksY=
b.getUint32(0,!0),c.mask.numBlocksX=b.getUint32(4,!0),c.mask.numBytes=b.getUint32(8,!0),c.mask.maxValue=b.getFloat32(12,!0),h+=16,0<c.mask.numBytes){var e=new Uint8Array(Math.ceil(c.width*c.height/8)),b=new DataView(n,h,c.mask.numBytes),g=b.getInt16(0,!0),p=2,r=0;do{if(0<g)for(;g--;)e[r++]=b.getUint8(p++);else for(var q=b.getUint8(p++),g=-g;g--;)e[r++]=q;g=b.getInt16(p,!0);p+=2}while(p<c.mask.numBytes);if(-32768!==g||r<e.length)throw"Unexpected end of mask RLE encoding";c.mask.bitset=e;h+=c.mask.numBytes}else 0===
(c.mask.numBytes|c.mask.numBlocksY|c.mask.maxValue)&&(e=new Uint8Array(Math.ceil(c.width*c.height/8)),c.mask.bitset=e);b=new DataView(n,h,16);c.pixels={};c.pixels.numBlocksY=b.getUint32(0,!0);c.pixels.numBlocksX=b.getUint32(4,!0);c.pixels.numBytes=b.getUint32(8,!0);c.pixels.maxValue=b.getFloat32(12,!0);h+=16;e=c.pixels.numBlocksX;b=c.pixels.numBlocksY;e+=0<c.width%e?1:0;g=b+(0<c.height%b?1:0);c.pixels.blocks=Array(e*g);p=1E9;for(q=r=0;q<g;q++)for(var l=0;l<e;l++){var t=0,b=new DataView(n,h,Math.min(10,
n.byteLength-h)),v={};c.pixels.blocks[r++]=v;var A=b.getUint8(0);t++;v.encoding=A&63;if(3<v.encoding)throw"Invalid block encoding ("+v.encoding+")";if(2===v.encoding)h++,p=Math.min(p,0);else{if(0!==A&&2!==A){A>>=6;v.offsetType=A;if(2===A)v.offset=b.getInt8(1),t++;else if(1===A)v.offset=b.getInt16(1,!0),t+=2;else if(0===A)v.offset=b.getFloat32(1,!0),t+=4;else throw"Invalid block offset type";p=Math.min(v.offset,p);if(1===v.encoding)if(A=b.getUint8(t),t++,v.bitsPerPixel=A&63,A>>=6,v.numValidPixelsType=
A,2===A)v.numValidPixels=b.getUint8(t),t++;else if(1===A)v.numValidPixels=b.getUint16(t,!0),t+=2;else if(0===A)v.numValidPixels=b.getUint32(t,!0),t+=4;else throw"Invalid valid pixel count type";}h+=t;if(3!=v.encoding)if(0===v.encoding){b=(c.pixels.numBytes-1)/4;if(b!==Math.floor(b))throw"uncompressed block has invalid length";t=new ArrayBuffer(4*b);A=new Uint8Array(t);A.set(new Uint8Array(n,h,4*b));t=new Float32Array(t);for(A=0;A<t.length;A++)p=Math.min(p,t[A]);v.rawData=t;h+=4*b}else 1===v.encoding&&
(b=Math.ceil(v.numValidPixels*v.bitsPerPixel/8),t=new ArrayBuffer(4*Math.ceil(b/4)),A=new Uint8Array(t),A.set(new Uint8Array(n,h,b)),v.stuffedData=new Uint32Array(t),h+=b)}}c.pixels.minValue=p;c.eofOffset=h;n=null!=k.noDataValue?a.clampFloat32(k.noDataValue):f.defaultNoDataValue;var e=k.encodedMaskData,v=k.returnMask,b=0,g=c.pixels.numBlocksX,p=c.pixels.numBlocksY,r=Math.floor(c.width/g),q=Math.floor(c.height/p),l=2*c.maxZError,e=e||(c.mask?c.mask.bitset:null),x,h=new (k.pixelType||Float32Array)(c.width*
c.height);v&&e&&(x=new Uint8Array(c.width*c.height));for(var v=new Float32Array(r*q),w,u,t=0;t<=p;t++)if(A=t!==p?q:c.height%p,0!==A)for(var y=0;y<=g;y++){var C=y!==g?r:c.width%g;if(0!==C){var z=t*c.width*q+y*r,D=c.width-C,B=c.pixels.blocks[b],E,F;if(2>B.encoding){if(0===B.encoding)E=B.rawData;else{E=B.stuffedData;F=B.bitsPerPixel;w=B.numValidPixels;u=B.offset;var H=l,G=v,L=c.pixels.maxValue,K=(1<<F)-1,J=0,I=void 0,M=0,Q=void 0,O=void 0,R=Math.ceil((L-u)/H);E[E.length-1]<<=8*(4*E.length-Math.ceil(F*
w/8));for(I=0;I<w;I++)0===M&&(O=E[J++],M=32),M>=F?(Q=O>>>M-F&K,M-=F):(M=F-M,Q=(O&K)<<M&K,O=E[J++],M=32-M,Q+=O>>>M),G[I]=Q<R?u+Q*H:L;E=v}F=0}else m=2===B.encoding?0:B.offset;var S;if(e)for(u=0;u<A;u++){z&7&&(S=e[z>>3],S<<=z&7);for(w=0;w<C;w++)z&7||(S=e[z>>3]),S&128?(x&&(x[z]=1),h[z++]=2>B.encoding?E[F++]:m):(x&&(x[z]=0),h[z++]=n),S<<=1;z+=D}else if(2>B.encoding)for(u=0;u<A;u++){for(w=0;w<C;w++)h[z++]=E[F++];z+=D}else for(u=0;u<A;u++)if(h.fill)h.fill(m,z,z+C),z+=C+D;else{for(w=0;w<C;w++)h[z++]=m;z+=
D}if(1===B.encoding&&F!==B.numValidPixels)throw"Block and Mask do not match";b++}}m=x;x={width:c.width,height:c.height,pixelData:h,minValue:c.pixels.minValue,maxValue:c.pixels.maxValue,noDataValue:n};m&&(x.maskData=m);k.returnEncodedMask&&c.mask&&(x.encodedMaskData=c.mask.bitset?c.mask.bitset:null);if(k.returnFileInfo&&(x.fileInfo=d(c),k.computeUsedBitDepths)){k=x.fileInfo;m=c.pixels.numBlocksX*c.pixels.numBlocksY;S={};for(E=0;E<m;E++)F=c.pixels.blocks[E],0===F.encoding?S.float32=!0:1===F.encoding?
S[F.bitsPerPixel]=!0:S[0]=!0;c=Object.keys(S);k.bitDepths=c}return x};var d=function(a){return{fileIdentifierString:a.fileIdentifierString,fileVersion:a.fileVersion,imageType:a.imageType,height:a.height,width:a.width,maxZError:a.maxZError,eofOffset:a.eofOffset,mask:a.mask?{numBlocksX:a.mask.numBlocksX,numBlocksY:a.mask.numBlocksY,numBytes:a.mask.numBytes,maxValue:a.mask.maxValue}:null,pixels:{numBlocksX:a.pixels.numBlocksX,numBlocksY:a.pixels.numBlocksY,numBytes:a.pixels.numBytes,maxValue:a.pixels.maxValue,
minValue:a.pixels.minValue,noDataValue:this.noDataValue}}};return f})},"esri/layers/support/rasterFormats/Png":function(){define(["./Zlib"],function(a){return function(f){function d(a){var e,c,b,d;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(b=null;;){e=this.readUInt32();d=a=void 0;d=[];for(a=0;4>a;++a)d.push(String.fromCharCode(this.data[this.pos++]));a=d.join("");switch(a){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();
this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read(e);break;case "fcTL":b&&this.animation.frames.push(b);this.pos+=4;b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};
a=this.readUInt16();e=this.readUInt16()||100;b.delay=1E3*a/e;b.disposeOp=this.data[this.pos++];b.blendOp=this.data[this.pos++];b.data=[];break;case "IDAT":case "fdAT":"fdAT"===a&&(this.pos+=4,e-=4);a=(null!=b?b.data:void 0)||this.imgData;for(d=0;0<=e?d<e:d>e;0<=e?++d:--d)a.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:this.transparency.indexed=this.read(e);e=255-this.transparency.indexed.length;if(0<e)for(a=0;0<=e?a<e:a>e;0<=e?++a:--a)this.transparency.indexed.push(255);
break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case "tEXt":d=this.read(e);e=d.indexOf(0);a=String.fromCharCode.apply(String,d.slice(0,e));this.text[a]=String.fromCharCode.apply(String,d.slice(e+1));break;case "IEND":b&&this.animation.frames.push(b);a:{switch(this.colorType){case 0:case 3:case 4:b=1;break a;case 2:case 6:b=3;break a}b=void 0}this.colors=b;this.hasAlphaChannel=4===(c=this.colorType)||6===c;c=this.colors+(this.hasAlphaChannel?
1:0);this.pixelBitlength=this.bits*c;a:{switch(this.colors){case 1:c="DeviceGray";break a;case 3:c="DeviceRGB";break a}c=void 0}this.colorSpace=c;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=e}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}var n,k,m;d.load=function(a,e,c){var b;"function"===typeof e&&(c=e);b=new XMLHttpRequest;b.open("GET",a,!0);b.responseType="arraybuffer";b.onload=function(){var a;a=new Uint8Array(b.response||b.mozResponseArrayBuffer);
a=new d(a);"function"===typeof(null!=e?e.getContext:void 0)&&a.render(e);return"function"===typeof c?c(a):void 0};return b.send(null)};d.prototype.read=function(a){var e,c;c=[];for(e=0;0<=a?e<a:e>a;0<=a?++e:--e)c.push(this.data[this.pos++]);return c};d.prototype.readUInt32=function(){var a,e,c,b;a=this.data[this.pos++]<<24;e=this.data[this.pos++]<<16;c=this.data[this.pos++]<<8;b=this.data[this.pos++];return a|e|c|b};d.prototype.readUInt16=function(){var a,e;a=this.data[this.pos++]<<8;e=this.data[this.pos++];
return a|e};d.prototype.decodePixels=function(d){var e,c,b,g,p,f,h,l,k,m,n,x,w,u,y;null==d&&(d=this.imgData);if(0===d.length)return new Uint8Array(0);d=new a(d);d=d.getBytes();l=this.pixelBitlength/8;x=l*this.width;k=new Uint8Array(x*this.height);f=d.length;for(c=m=n=0;m<f;){switch(d[m++]){case 0:for(g=e=0;e<x;g=e+=1)k[c++]=d[m++];break;case 1:for(g=w=0;w<x;g=w+=1)e=d[m++],p=g<l?0:k[c-l],k[c++]=(e+p)%256;break;case 2:for(g=p=0;p<x;g=p+=1)e=d[m++],b=(g-g%l)/l,w=n&&k[(n-1)*x+b*l+g%l],k[c++]=(w+e)%256;
break;case 3:for(g=y=0;y<x;g=y+=1)e=d[m++],b=(g-g%l)/l,p=g<l?0:k[c-l],w=n&&k[(n-1)*x+b*l+g%l],k[c++]=(e+Math.floor((p+w)/2))%256;break;case 4:for(g=y=0;y<x;g=y+=1)e=d[m++],b=(g-g%l)/l,p=g<l?0:k[c-l],0===n?w=u=0:(w=k[(n-1)*x+b*l+g%l],u=b&&k[(n-1)*x+(b-1)*l+g%l]),h=p+w-u,g=Math.abs(h-p),b=Math.abs(h-w),h=Math.abs(h-u),p=g<=b&&g<=h?p:b<=h?w:u,k[c++]=(e+p)%256;break;default:throw Error("Invalid filter algorithm: "+d[m-1]);}n++}return k};d.prototype.decodePalette=function(){var a,e,c,b,d,p,f,q,l;c=this.palette;
p=this.transparency.indexed||[];d=new Uint8Array((p.length||0)+c.length);e=f=a=b=0;for(q=c.length;f<q;e=f+=3)d[b++]=c[e],d[b++]=c[e+1],d[b++]=c[e+2],d[b++]=null!=(l=p[a++])?l:255;return d};d.prototype.copyToImageData=function(a,e){var c,b,d,p,f,h,l;b=this.colors;l=null;c=this.hasAlphaChannel;this.palette.length&&(l=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),b=4,c=!0);a=a.data||a;h=a.length;p=l||e;d=f=0;if(1===b)for(;d<h;)b=l?4*e[d/4]:f,f=p[b++],a[d++]=f,a[d++]=f,a[d++]=
f,a[d++]=c?p[b++]:this.transparency.grayscale&&this.transparency.grayscale===f?0:255,f=b;else for(;d<h;)b=l?4*e[d/4]:f,a[d++]=p[b++],a[d++]=p[b++],a[d++]=p[b++],a[d++]=c?p[b++]:this.transparency.rgb&&this.transparency.rgb[1]===p[b-3]&&this.transparency.rgb[3]===p[b-2]&&this.transparency.rgb[5]===p[b-1]?0:255,f=b};d.prototype.decode=function(){var a;a=new Uint8Array(this.width*this.height*4);this.copyToImageData(a,this.decodePixels());return a};m=(k=f.document&&f.document.createElement("canvas"))&&
k.getContext("2d");n=function(a){m.width=a.width;m.height=a.height;m.clearRect(0,0,a.width,a.height);m.putImageData(a,0,0);a=new Image;a.src=k.toDataURL();return a};d.prototype.decodeFrames=function(a){var e,c,b,d,p,f,h;if(this.animation){f=this.animation.frames;h=[];e=d=0;for(p=f.length;d<p;e=++d)e=f[e],c=a.createImageData(e.width,e.height),b=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(c,b),e.imageData=c,h.push(e.image=n(c));return h}};d.prototype.renderFrame=function(a,e){var c,
b;b=this.animation.frames;c=b[e];b=b[e-1];0===e&&a.clearRect(0,0,this.width,this.height);1===(null!=b?b.disposeOp:void 0)?a.clearRect(b.xOffset,b.yOffset,b.width,b.height):2===(null!=b?b.disposeOp:void 0)&&a.putImageData(b.imageData,b.xOffset,b.yOffset);0===c.blendOp&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height);return a.drawImage(c.image,c.xOffset,c.yOffset)};d.prototype.animate=function(a){var e,c,b,d,p,f,h=this;c=0;f=this.animation;d=f.numFrames;b=f.frames;p=f.numPlays;return(e=function(){var g,
f;g=c++%d;f=b[g];h.renderFrame(a,g);if(1<d&&c/d<p)return h.animation._timeout=setTimeout(e,f.delay)})()};d.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)};d.prototype.render=function(a){var e;a._png&&a._png.stopAnimation();a._png=this;a.width=this.width;a.height=this.height;a=a.getContext("2d");if(this.animation)return this.decodeFrames(a),this.animate(a);e=a.createImageData(this.width,this.height);this.copyToImageData(e,this.decodePixels());
return a.putImageData(e,0,0)};return d}(this)})},"esri/layers/support/rasterFormats/Raw":function(){define(["require","exports"],function(a,f){var d=function(a){var d=1;switch(a){case Uint8Array:case Int8Array:d=1;break;case Uint16Array:case Int16Array:d=2;break;case Uint32Array:case Int32Array:case Float32Array:d=4;break;case Float64Array:d=8}return d};return function(){function a(){}a.decode=function(a,f){var h=f.pixelType,e=[],c=f.width*f.height,b=Math.floor(a.byteLength/(f.width*f.height*d(f.pixelType))),
g=f.bandIds,p=f.format;f=g&&g.length||Math.floor(a.byteLength/(f.width*f.height*d(f.pixelType)));var r=a.byteLength-a.byteLength%(c*d(h)),q=new h(a,0,c*b),l,k,m,n;if("bip"===p)for(p=0;p<f;p++){m=new h(c);n=g?g[p]:p;for(l=0;l<c;l++)m[l]=q[l*b+n];e.push(m)}else if("bsq"===p)for(p=0;p<f;p++)n=g?g[p]:p,e.push(q.subarray(n*c,(n+1)*c));if(r<a.byteLength-1)if(a=a.slice(r),8*a.byteLength<c)k=null;else{a=new Uint8Array(a,0,Math.ceil(c/8));h=new Uint8Array(c);for(k=f=k=g=b=0;k<a.length-1;k++)for(g=a[k],f=7;0<=
f;f--)h[b++]=g>>f&1;for(f=7;b<c-1;)g=a[a.length-1],h[b++]=g>>f&1,f--;k=h}return{pixels:e,mask:k}};return a}()})},"esri/layers/support/rasterFormats/TiffDecoder":function(){define("require exports tslib ../rasterDatasets/byteStreamUtils ./Jpg ./TiffTags ./Zlib".split(" "),function(a,f,d,n,k,m,h){function e(b,a){var c="unknown";3===b?c="f32":1===b?1===a?c="u1":2===a?c="u2":4===a?c="u4":8>=a?c="u8":16>=a?c="u16":32>=a&&(c="u32"):2===b&&(8>=a?c="s8":16>=a?c="s16":32>=a&&(c="s32"));return c}function c(b){var a=
null;switch(b?b.toLowerCase():"f32"){case "u1":case "u2":case "u4":case "u8":a=Uint8Array;break;case "u16":a=Uint16Array;break;case "u32":a=Uint32Array;break;case "s8":a=Int8Array;break;case "s16":a=Int16Array;break;case "s32":a=Int32Array;break;default:a=Float32Array}return a}function b(b,a){return{x:a[0]*b.x+a[1]*b.y+a[2],y:a[3]*b.x+a[4]*b.y+a[5]}}function g(b,a){return(b=b.get(a))&&b.values}function p(b,a){return(b=b.get(a))&&b.values[0]}function r(b,a,c,e,d,g){void 0===e&&(e=0);void 0===d&&(d=
m.TIFF_TAGS);void 0===g&&(g=4);var l=(new DataView(b,c,2)).getUint16(0,a),p=4+2*g,f=2+l*p;if(c+f>b.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:f};var h=c+f+4<=b.byteLength?(new DataView(b,c+f,4)).getUint32(0,a):null;c+=2;for(var r=new Map,k,t,v,n,A,x,B=0;B<l;B++){k=new DataView(b,c+p*B,p);t=k.getUint16(0,a);n=k.getUint16(2,a);v=m.getTagName(t,d);if(2===g)A=k.getUint16(4,a),x=k.getUint16(6,a);else if(4===g)A=k.getUint32(4,a),x=k.getUint32(8,a);else if(8===g)if(x=A=0,a)for(var E=
0;8>E;E++)A+=k.getUint8(4+E)*Math.pow(2,8*E),x+=k.getUint8(12+E)*Math.pow(2,8*E);else for(E=0;8>E;E++)A+=k.getUint8(4+E)*Math.pow(2,8*(7-E)),x+=k.getUint8(12+E)*Math.pow(2,8*(7-E));k={id:t,type:n,valueCount:A,valueOffset:x,values:null};q(b,a,k,e);r.set(v,k)}return{success:!0,ifd:r,nextIFD:h,requiredBufferSize:f}}function q(b,a,c,e,d){void 0===e&&(e=0);if(c.values)return!0;var g=c.type,l=c.valueCount,p=c.valueOffset,f=[],h=x[g],q=8*h,r=l*h,k=l*x[g]*8;if(32<k&&r>(d?b.byteLength:b?b.byteLength-p+e:0))return c.offlineOffsetSize=
[p,r],c.values=null,!1;if(32>=k)if(a||(p>>>=32-k),1===l)f=[p];else for(b=0;b<l;b++)f.push(p<<q*b>>>32-q);else for(p-=e,d&&(p=0),q=p;q<p+r;q+=h){switch(g){case 1:l=(new DataView(b,q,1)).getUint8(0);break;case 2:l=(new DataView(b,q,1)).getUint8(0);break;case 3:l=(new DataView(b,q,2)).getUint16(0,a);break;case 4:l=(new DataView(b,q,4)).getUint32(0,a);break;case 5:l=(new DataView(b,q,4)).getUint32(0,a)/(new DataView(b,q+4,4)).getUint32(0,a);break;case 6:l=(new DataView(b,q,1)).getInt8(0);break;case 7:l=
(new DataView(b,q,1)).getUint8(0);break;case 8:l=(new DataView(b,q,2)).getInt16(0,a);break;case 9:l=(new DataView(b,q,4)).getInt32(0,a);break;case 10:l=(new DataView(b,q,4)).getInt32(0,a)/(new DataView(b,q+4,4)).getInt32(0,a);break;case 11:l=(new DataView(b,q,4)).getFloat32(0,a);break;case 12:l=(new DataView(b,q,8)).getFloat64(0,a);break;default:l=null}f.push(l)}if(2===g){g="";p=f;f=[];for(b=0;b<p.length;b++)0===p[b]&&""!==g?(f.push(g),g=""):g+=String.fromCharCode(p[b]);""===g&&0!==f.length||f.push(g)}c.values=
f;return!0}function l(a){var c=a[0],d=p(c,"TILEWIDTH"),l=p(c,"TILELENGTH"),f=p(c,"IMAGEWIDTH"),h=p(c,"IMAGELENGTH"),q=p(c,"BITSPERSAMPLE"),r=p(c,"SAMPLESPERPIXEL"),k=p(c,"SAMPLEFORMAT")||1,t=e(k,q),m=g(c,"PLANARCONFIGURATION")?2===g(c,"PLANARCONFIGURATION")[0]:!1,v=g(c,"GDAL_NODATA"),n;null!=v&&("string"===typeof v[0]?(n=v.map(function(b){return parseFloat(b)}),n.some(function(b){return isNaN(b)})&&(n=null)):"number"===typeof v[0]&&(n=v));var A=p(c,"COMPRESSION")||1;switch(A){case 1:v="NONE";break;
case 2:case 3:case 4:case 32771:v="CCITT";break;case 5:v="LZW";break;case 6:case 7:v="JPEG";break;case 32773:v="PACKBITS";break;case 8:case 32946:v="DEFLATE";break;case 34712:v="JPEG2000";break;default:v=String(A)}var x=!0,C="";1!==A&&6!==A&&8!==A&&32946!==A&&(x=!1,C+="unsupported tag compression "+A);3<k&&(x=!1,C+="unsupported tag sampleFormat "+k);0!==q%8&&(x=!1,C+="unsupported tag bitsPerSample "+q);var q=p(c,"GEOASCIIPARAMS"),w;q&&(w=(w=q.split("|").filter(function(b){return-1<b.indexOf("ESRI PE String \x3d ")})[0])?
w.replace("ESRI PE String \x3d ",""):"",w=0===w.indexOf("PROJCS")||0===w.indexOf("GEOGCS")?{wkid:null,wkt:w}:null);var q=g(c,"GEOTIEPOINTS"),k=g(c,"GEOPIXELSCALE"),A=g(c,"GEOTRANSMATRIX"),u=c.has("GEOKEYDIRECTORY")?c.get("GEOKEYDIRECTORY").data:null,c=!1;if(u){var c=2===p(u,"GTRasterTypeGeoKey"),T=p(u,"GTModelTypeGeoKey");2===T?(u=p(u,"GeographicTypeGeoKey"),1024<u&&32766>u&&(w={wkid:u})):1===T&&(u=p(u,"ProjectedCSTypeGeoKey"),1024<u&&32766>u&&(w={wkid:u}))}var N,W;k&&q&&6<=q.length?(N=[k[0],0,q[3]-
q[0]*k[0],0,-Math.abs(k[1]),q[4]-q[1]*k[1]],c&&(N[2]-=.5*N[0]+.5*N[1],N[5]-=.5*N[3]+.5*N[4])):A&&16===A.length&&(N=[A[0],A[1],A[3],A[4],A[5],A[7]]);if(N){W=[{x:0,y:h},{x:0,y:0},{x:f,y:h},{x:f,y:0}];c=void 0;k=q=Number.POSITIVE_INFINITY;u=A=Number.NEGATIVE_INFINITY;for(T=0;T<W.length;T++)c=b(W[T],N),q=c.x>q?q:c.x,A=c.x<A?A:c.x,k=c.y>k?k:c.y,u=c.y<u?u:c.y;W={xmin:q,xmax:A,ymin:k,ymax:u,spatialReference:w}}N=a.filter(function(b){return 1===p(b,"NEWSUBFILETYPE")});var P,U,V,Y;0<N.length&&(P=Math.round(Math.log(f/
p(N[0],"IMAGEWIDTH"))/Math.LN2),U=Math.round(Math.log(f/p(N[N.length-1],"IMAGEWIDTH"))/Math.LN2),V=p(N[N.length-1],"TILEWIDTH"),Y=p(N[N.length-1],"TILEHEIGHT"));V=0<U?V||d:null;Y=0<U?Y||l:null;var Z;d&&(Z=[{maxCol:Math.ceil(f/d)-1,maxRow:Math.ceil(h/l)-1,minRow:0,minCol:0}],N.forEach(function(b){Z.push({maxCol:Math.ceil(p(b,"IMAGEWIDTH")/p(b,"TILEWIDTH"))-1,maxRow:Math.ceil(p(b,"IMAGELENGTH")/p(b,"TILELENGTH"))-1,minRow:0,minCol:0})}));a=p(a[0],"GDAL_METADATA");a=y(a);return{width:f,height:h,tileWidth:d,
tileHeight:l,planes:r,isBSQ:m,pixelType:t,compression:v,noData:n,isSupported:x,message:C,extent:W,firstPyramidLevel:P,maximumPyramidLevel:U,pyramidBlockWidth:V,pyramidBlockHeight:Y,tileBoundary:Z,metadata:a}}function t(b){var a=new DataView(b,0,8),c=a.getUint16(0,!1),e=null;if(18761===c)e=!0;else if(19789===c)e=!1;else throw"unexpected endianess byte";if(42!==a.getUint16(2,e))throw"unexpected tiff identifier";c=a.getUint32(4,e);a=[];do if(c=v(b,e,c),c.success)a.push(c.ifd),c=c.nextIFD;else break;
while(0<c);b=l(a);return d.__assign(d.__assign({},b),{littleEndian:e,ifds:a})}function v(b,a,c,e,d,g){void 0===e&&(e=0);void 0===d&&(d=m.TIFF_TAGS);void 0===g&&(g=4);c=r(b,a,c,e,d,g);var l,p=c.ifd;p&&(m.ifdTags.forEach(function(c,d){p.has(d)&&(l=p.get(d),l.data=r(b,a,l.valueOffset-e,e,c).ifd)}),p.has("GEOKEYDIRECTORY")&&(l=p.get("GEOKEYDIRECTORY"),(d=l.values)&&4<d.length&&(d=d[0]+"."+d[1]+"."+d[2],l.data=r(b,a,l.valueOffset+6-e,e,m.GEO_KEYS,2).ifd,l.data&&l.data.set("GEOTIFFVersion",{id:0,type:2,
valueCount:1,valueOffset:null,values:[d]}))),p.has("XMP")&&(l=p.get("XMP"),d=l.values,"number"===typeof d[0]&&7===l.type&&(l.values=[n.bytesToUTF8(new Uint8Array(d))])));return c}Object.defineProperty(f,"__esModule",{value:!0});var A=function(){var b=new ArrayBuffer(4),a=new Uint8Array(b);(new Uint32Array(b))[0]=1;return 1===a[0]}(),x=[0,1,1,2,4,8,1,1,2,4,8,4,8],w=function(b,a,d,g,l){a=A===a;var f=p(d,"BITSPERSAMPLE"),q=p(d,"SAMPLEFORMAT")||1,f=e(q,f),q=p(d,"COMPRESSION")[0]||1;d=c(f);var r,t;1===
q?(r=b.slice(g,g+l),t=new Uint8Array(r)):8===q||32946===q?(t=new Uint8Array(b,g,l),t=new h(t),b=t.getBytes(),r=new ArrayBuffer(b.length),t=new Uint8Array(r),t.set(b)):6===q&&(t=new Uint8Array(b,g,l),r=new k,r.parse(t),b=r.getData(r.width,r.height,!0),r=new ArrayBuffer(b.length),t=new Uint8Array(r),t.set(b));if("u8"!==f&&"s8"!==f&&!a)switch(r=new ArrayBuffer(t.length),a=new Uint8Array(r),f){case "u16":case "s16":for(f=0;f<t.length;f+=2)a[f]=t[f+1],a[f+1]=t[f];break;case "u32":case "s32":case "f32":for(f=
0;f<t.length;f+=4)a[f]=t[f+3],a[f+1]=t[f+2],a[f+2]=t[f+1],a[f+3]=t[f]}return new d(r)},u=function(b,a,c){if(!(b&&0<b.length&&a&&c))return null;for(var e,d,g,l=b[0].length,f=b.length,p=new Uint8Array(l),h=0;h<f;h++)if(e=b[h],d=a[h],g=c[h],0===h)for(var q=0;q<l;q++)p[q]=e[q]<d||e[q]>g?0:1;else for(q=0;q<l;q++)p[q]&&(p[q]=e[q]<d||e[q]>g?0:1);return p},y=function(b){if(!b)return null;var a=b.match(/<Item(.*?)Item>/gi);if(!a||0===a.length)return null;b=new Map;for(var c,e,d,g,l=0;l<a.length;l++)c=a[l],
e=c.slice(6,c.indexOf("\x3e")),d=c.indexOf("sample\x3d"),-1<d&&(g=c.slice(d+8,c.indexOf('"',d+8))),d=c.indexOf("name\x3d"),-1<d&&(e=c.slice(d+6,c.indexOf('"',d+6))),e&&(c=c.slice(c.indexOf("\x3e")+1,c.indexOf("\x3c/Item\x3e")).trim(),null!=g?b.has(e)?b.get(e)[g]=c:b.set(e,[c]):b.set(e,c)),g=null;a=b.get("STATISTICS_MINIMUM");e=b.get("STATISTICS_MAXIMUM");c=b.get("STATISTICS_MEAN");d=b.get("STATISTICS_STDDEV");g=null;if(a&&e)for(g=[],l=0;l<a.length;l++)g.push({min:parseFloat(a[l]),max:parseFloat(e[l]),
avg:c&&parseFloat(c[l]),stddev:d&&parseFloat(d[l])});e=b.get("BandName");c=b.get("WavelengthMin");d=b.get("WavelengthMax");a=null;if(e)for(a=[],l=0;l<e.length;l++)a.push({BandName:e[l],WavelengthMin:c&&parseFloat(c[l]),WavelengthMax:d&&parseFloat(d[l])});l=b.get("DataType");return{statistics:g,bandProperties:a,dataType:l,rawMetadata:b}};f.parseFieldValues=q;f.getImageInfo=l;f.parseHeader=t;f.parseSignature=function(b){var a=new DataView(b,0,8),c=a.getUint16(0,!1);b=null;if(18761===c)b=!0;else if(19789===
c)b=!1;else throw"unexpected endianess byte";if(42!==a.getUint16(2,b))throw"unexpected tiff identifier";a=a.getUint32(4,b);return{littleEndian:b,firstIFD:a}};f.parseIFD=v;f.decodeTileOrStrip=function(b,a){var e=a.headerInfo,d=a.ifd,g=w(b,e.littleEndian,d,a.offset||0,a.size||b.byteLength);b=e.pixelType;for(var l=e.isBSQ,f=e.planes,h=c(b),q=g.length/f,r,k=[],t=0;t<f;t++){r=new h(q);if(l)r=g.slice(q*t,q*(t+1));else for(var m=0;m<q;m++)r[m]=g[m*f+t];k.push(r)}var g=p(d,"TILEWIDTH"),d=p(d,"TILELENGTH"),
l=e.noData?e.noData[0]:null,e=(f=e.metadata?e.metadata.statistics:null)?f.map(function(b){return b.min}):null,f=f?f.map(function(b){return b.max}):null,v;if(null!=l)if(v=new Uint8Array(q),1E24<Math.abs(l))for(a=0;a<q;a++)v[a]=1E-6>Math.abs((k[0][a]-l)/l)?0:1;else for(a=0;a<q;a++)v[a]=k[0][a]===l?0:1;else e&&f&&a.applyMinMaxConstraint&&(v=u(k,e,f));return{pixelType:b,width:g,height:d,pixels:k,mask:v,noDataValue:l}};f.decode=function(b,a){a=a||t(b);var e=a.ifds,d=a.noData;if(0===e.length)throw"no valid image file directory";
e=e[0];d=d?d[0]:null;if(a.tileWidth){var l=g(e,"TILEOFFSETS");if(void 0===l)e=null;else{for(var f=g(e,"TILEBYTECOUNTS"),p=a.tileWidth,q=a.tileHeight,r=a.width,m=a.height,v=a.pixelType,n=a.isBSQ,x=a.planes,C=r*m,z=g(e,"BITSPERSAMPLE")[0],u=c(v),y=[],X=0;X<x;X++)y.push(new u(C));var T,N,W,P,U,V,Y,Z,C=Math.ceil(r/p);if(0===z%8)for(z=0;z<l.length;z++)for(T=Math.floor(z/C)*q,P=z%C*p,X=T*r+P,u=w(b,a.littleEndian,e,l[z],f[z]),V=0,U=X,P=Math.min(p,r-P),Y=Math.min(q,m-T),T=0;T<x;T++)if(Z=y[T],n)for(N=0;N<
Y;N++)for(U=X+N*r,V=p*q*T+N*p,W=0;W<P;W++,U++,V++)Z[U]=u[V];else for(N=0;N<Y;N++)for(U=X+N*r,V=N*p*x+T,W=0;W<P;W++,U++,V+=x)Z[U]=u[V];e={width:r,height:m,pixelType:v,pixels:y}}}else if(q=a,y=A===q.littleEndian,C=g(e,"STRIPOFFSETS"),void 0===C)e=null;else{a=q.width;l=q.height;f=q.pixelType;q=q.planes;r=a*l;z=g(e,"BITSPERSAMPLE")[0];m=c(f);v=new m(r*q);u=g(e,"STRIPBYTECOUNTS");X=g(e,"ROWSPERSTRIP")[0];U=g(e,"COMPRESSION")?g(e,"COMPRESSION")[0]:1;P=X;if(0===z%8)for(e=0;e<C.length;e++){V=e*X*a*q;P=(e+
1)*X>l?l-e*X:X;if("u8"===f||"s8"===f||y)8===U||32946===U?(n=new Uint8Array(b,C[e],u[e]),n=new h(n),T=n.getBytes(),x=new ArrayBuffer(T.length),n=new Uint8Array(x),n.set(T),n.length!==P*a*q*z/8&&console.log("strip byte counts is different than expected")):6===U?(n=new Uint8Array(b,C[e],u[e]),x=new k,x.parse(n),P=x.getData(x.width,x.height,!0),x=new ArrayBuffer(P.length),n=new Uint8Array(x),n.set(P)):1===U&&(u[e]!==P*a*q*z/8&&console.log("strip byte counts is different than expected"),x=b.slice(C[e],
C[e]+u[e]));else switch(6===U||8===U||32946===U?(n=new Uint8Array(b,C[e],u[e]),n=new h(n),n=n.getBytes(),x=new ArrayBuffer(n.length),p=new Uint8Array(x),n.length!==P*a*q*z/8&&console.log("strip byte counts is different than expected")):1===U&&(u[e]!==P*a*q*z/8&&console.log("strip byte counts is different than expected"),x=new ArrayBuffer(u[e]),n=new Uint8Array(b,C[e],u[e]),p=new Uint8Array(x)),f){case "u16":case "s16":for(P=0;P<n.length;P+=2)p[P]=n[P+1],p[P+1]=n[P];break;case "u32":case "s32":case "f32":for(P=
0;P<n.length;P+=4)p[P]=n[P+3],p[P+1]=n[P+2],p[P+2]=n[P+1],p[P+3]=n[P]}P=new m(x);v.set(P,V)}n=[];if(1===q)n.push(v);else for(e=0;e<q;e++){p=new m(r);for(b=0;b<r;b++)p[b]=v[b*q+e];n.push(p)}e={width:a,height:l,pixelType:f,pixels:n}}if(null!==d){e.mask=new Uint8Array(e.width*e.height);if(1E24<Math.abs(d))for(b=0;b<e.width*e.height;b++)e.mask[b]=1E-6>Math.abs((e.pixels[0][b]-d)/d)?0:1;else for(b=0;b<e.width*e.height;b++)e.mask[b]=e.pixels[0][b]===d?0:1;e.noDataValue=d}return e}})},"esri/layers/support/rasterDatasets/byteStreamUtils":function(){define(["require",
"exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});f.bytesToUTF8=function(a,f){for(var d=0,m="",h=0,e=0,c=a.length;d<c;)if(e=a[d++],h=e>>4,8>h?h=1:15===h?(h=4,e=(e&7)<<18|(a[d++]&63)<<12|(a[d++]&63)<<6|a[d++]&63):14===h?(h=3,e=(e&15)<<12|(a[d++]&63)<<6|a[d++]&63):(h=2,e=(e&31)<<6|a[d++]&63),0!==e||f)m+=String.fromCharCode(e);return m}})},"esri/layers/support/rasterFormats/TiffTags":function(){define(["require","exports"],function(a,f){var d=function(){var a=[];a[254]="NEWSUBFILETYPE";
a[255]="SUBFILETYPE";a[256]="IMAGEWIDTH";a[257]="IMAGELENGTH";a[258]="BITSPERSAMPLE";a[259]="COMPRESSION";a[262]="PHOTOMETRICINTERPRETATION";a[263]="THRESHHOLDING";a[264]="CELLWIDTH";a[265]="CELLLENGTH";a[266]="FILLORDER";a[269]="DOCUMENTNAME";a[270]="IMAGEDESCRIPTION";a[271]="MAKE";a[272]="MODEL";a[273]="STRIPOFFSETS";a[274]="ORIENTATION";a[277]="SAMPLESPERPIXEL";a[278]="ROWSPERSTRIP";a[279]="STRIPBYTECOUNTS";a[280]="MINSAMPLEVALUE";a[281]="MAXSAMPLEVALUE";a[282]="XRESOLUTION";a[283]="YRESOLUTION";
a[284]="PLANARCONFIGURATION";a[285]="PAGENAME";a[286]="XPOSITION";a[287]="YPOSITION";a[288]="FREEOFFSETS";a[289]="FREEBYTECOUNTS";a[290]="GRAYRESPONSEUNIT";a[291]="GRAYRESPONSECURVE";a[292]="T4OPTIONS";a[293]="T6OPTIONS";a[296]="RESOLUTIONUNIT";a[297]="PAGENUMBER";a[300]="COLORRESPONSEUNIT";a[301]="TRANSFERFUNCTION";a[305]="SOFTWARE";a[306]="DATETIME";a[315]="ARTIST";a[316]="HOSTCOMPUTER";a[317]="PREDICTOR";a[318]="WHITEPOINT";a[319]="PRIMARYCHROMATICITIES";a[320]="COLORMAP";a[321]="HALFTONEHINTS";
a[322]="TILEWIDTH";a[323]="TILELENGTH";a[324]="TILEOFFSETS";a[325]="TILEBYTECOUNTS";a[326]="BADFAXLINES";a[327]="CLEANFAXDATA";a[328]="CONSECUTIVEBADFAXLINES";a[330]="SUBIFD";a[332]="INKSET";a[333]="INKNAMES";a[334]="NUMBEROFINKS";a[336]="DOTRANGE";a[337]="TARGETPRINTER";a[338]="EXTRASAMPLES";a[339]="SAMPLEFORMAT";a[340]="SMINSAMPLEVALUE";a[341]="SMAXSAMPLEVALUE";a[342]="TRANSFERRANGE";a[347]="JPEGTABLES";a[512]="JPEGPROC";a[513]="JPEGIFOFFSET";a[514]="JPEGIFBYTECOUNT";a[515]="JPEGRESTARTINTERVAL";
a[517]="JPEGLOSSLESSPREDICTORS";a[518]="JPEGPOINTTRANSFORM";a[519]="JPEGQTABLES";a[520]="JPEGDCTABLES";a[521]="JPEGACTABLES";a[529]="YCBCRCOEFFICIENTS";a[530]="YCBCRSUBSAMPLING";a[531]="YCBCRPOSITIONING";a[532]="REFERENCEBLACKWHITE";a[700]="XMP";a[33550]="GEOPIXELSCALE";a[33922]="GEOTIEPOINTS";a[33432]="COPYRIGHT";a[42112]="GDAL_METADATA";a[42113]="GDAL_NODATA";a[50844]="RPCCOEFFICIENT";a[34264]="GEOTRANSMATRIX";a[34735]="GEOKEYDIRECTORY";a[34736]="GEODOUBLEPARAMS";a[34737]="GEOASCIIPARAMS";a[34665]=
"EXIFIFD";a[34853]="GPSIFD";a[40965]="INTEROPERABILITYIFD";return a}();a=function(){var a=[].concat(d);a[36864]="ExifVersion";a[40960]="FlashpixVersion";a[40961]="ColorSpace";a[42240]="Gamma";a[37121]="ComponentsConfiguration";a[37122]="CompressedBitsPerPixel";a[40962]="PixelXDimension";a[40963]="PixelYDimension";a[37500]="MakerNote";a[37510]="UserComment";a[40964]="RelatedSoundFile";a[36867]="DateTimeOriginal";a[36868]="DateTimeDigitized";a[36880]="OffsetTime";a[36881]="OffsetTimeOriginal";a[36882]=
"OffsetTimeDigitized";a[37520]="SubSecTime";a[37521]="SubSecTimeOriginal";a[37522]="SubSecTimeDigitized";a[37888]="Temperature";a[37889]="Humidity";a[37890]="Pressure";a[37891]="WaterDepth";a[37892]="Acceleration";a[37893]="CameraElevationAngle";a[42016]="ImageUniqueID";a[42032]="CameraOwnerName";a[42033]="BodySerialNumber";a[42034]="LensSpecification";a[42035]="LensMake";a[42036]="LensModel";a[42037]="LensSerialNumber";a[33434]="ExposureTime";a[33437]="FNumber";a[34850]="ExposureProgram";a[34852]=
"SpectralSensitivity";a[34855]="PhotographicSensitivity";a[34856]="OECF";a[34864]="SensitivityType";a[34865]="StandardOutputSensitivity";a[34866]="RecommendedExposureIndex";a[34867]="ISOSpeed";a[34868]="ISOSpeedLatitudeyyy";a[34869]="ISOSpeedLatitudezzz";a[37377]="ShutterSpeedValue";a[37378]="ApertureValue";a[37379]="BrightnessValue";a[37380]="ExposureBiasValue";a[37381]="MaxApertureValue";a[37382]="SubjectDistance";a[37383]="MeteringMode";a[37384]="LightSource";a[37385]="Flash";a[37386]="FocalLength";
a[37396]="SubjectArea";a[41483]="FlashEnergy";a[41484]="SpatialFrequencyResponse";a[41486]="FocalPlaneXResolution";a[41487]="FocalPlaneYResolution";a[41488]="FocalPlaneResolutionUnit";a[41492]="SubjectLocation";a[41493]="ExposureIndex";a[41495]="SensingMethod";a[41728]="FileSource";a[41729]="SceneType";a[41730]="CFAPattern";a[41985]="CustomRendered";a[41986]="ExposureMode";a[41987]="WhiteBalance";a[41988]="DigitalZoomRatio";a[41989]="FocalLengthIn35mmFilm";a[41990]="SceneCaptureType";a[41991]="GainControl";
a[41992]="Contrast";a[41993]="Saturation";a[41994]="Sharpness";a[41995]="DeviceSettingDescription";a[41996]="SubjectDistanceRange";return a}();f=function(){var a=[];a[1024]="GTModelTypeGeoKey";a[1025]="GTRasterTypeGeoKey";a[1026]="GTCitationGeoKey";a[2048]="GeographicTypeGeoKey";a[2049]="GeogCitationGeoKey";a[2050]="GeogGeodeticDatumGeoKey";a[2051]="GeogPrimeMeridianGeoKey";a[2052]="GeogLinearUnitsGeoKey";a[2053]="GeogLinearUnitSizeGeoKey";a[2054]="GeogAngularUnitsGeoKey";a[2055]="GeogAngularUnitSizeGeoKey";
a[2056]="GeogEllipsoidGeoKey";a[2057]="GeogSemiMajorAxisGeoKey";a[2058]="GeogSemiMinorAxisGeoKey";a[2059]="GeogInvFlatteningGeoKey";a[2061]="GeogPrimeMeridianLongGeoKey";a[2060]="GeogAzimuthUnitsGeoKey";a[3072]="ProjectedCSTypeGeoKey";a[3073]="PCSCitationGeoKey";a[3074]="ProjectionGeoKey";a[3075]="ProjCoordTransGeoKey";a[3076]="ProjLinearUnitsGeoKey";a[3077]="ProjLinearUnitSizeGeoKey";a[3078]="ProjStdParallel1GeoKey";a[3079]="ProjStdParallel2GeoKey";a[3080]="ProjNatOriginLongGeoKey";a[3081]="ProjNatOriginLatGeoKey";
a[3082]="ProjFalseEastingGeoKey";a[3083]="ProjFalseNorthingGeoKey";a[3084]="ProjFalseOriginLongGeoKey";a[3085]="ProjFalseOriginLatGeoKey";a[3086]="ProjFalseOriginEastingGeoKey";a[3087]="ProjFalseOriginNorthingGeoKey";a[3088]="ProjCenterLongGeoKey";a[3090]="ProjCenterEastingGeoKey";a[3091]="ProjCenterNorthingGeoKey";a[3092]="ProjScaleAtNatOriginGeoKey";a[3093]="ProjScaleAtCenterGeoKey";a[3094]="ProjAzimuthAngleGeoKey";a[3095]="ProjStraightVertPoleLongGeoKey";a[4096]="VerticalCSTypeGeoKey";a[4097]=
"VerticalCitationGeoKey";a[4098]="VerticalDatumGeoKey";a[4099]="VerticalUnitsGeoKey";return a}();var n=new Map;n.set("EXIFIFD",a);n.set("GPSIFD","GPSVersionID GPSLatitudeRef GPSLatitude GPSLongitudeRef GPSLongitude GPSAltitudeRef GPSAltitude GPSTimeStamp GPSSatellites GPSStatus GPSMeasureMode GPSDOP GPSSpeedRef GPSSpeed GPSTrackRef GPSTrack GPSImgDirectionRef GPSImgDirection GPSMapDatum GPSDestLatitudeRef GPSDestLatitude GPSDestLongitudeRef GPSDestLongitude GPSDestBearingRef GPSDestBearing GPSDestDistanceRef GPSDestDistance GPSProcessingMethod GPSAreaInformation GPSDateStamp GPSDifferential GPSHPositioningError".split(" "));
return{TIFF_TAGS:d,ifdTags:n,GEO_KEYS:f,getTagName:function(a,f){f=(f||d)[a];void 0===f&&(f="unknown"+String(a));return f}}})},"esri/layers/support/rasterFunctions/pixelUtils":function(){define(["require","exports","../PixelBlock"],function(a,f,d){function n(a,c){a=Math.min(Math.max(a,-100),100);c=Math.min(Math.max(c,-100),100);var b,e,d=new Uint8Array(256);for(b=0;256>b;b++)0<a&&100>a?e=(200*b-25500+510*c)/(2*(100-a))+128:0>=a&&-100<a?e=(200*b-25500+510*c)*(100+a)/2E4+128:100===a?(e=200*b-25500+
256*(100-a)+510*c,e=0<e?255:0):-100===a&&(e=128),d[b]=255<e?255:0>e?0:e;return d}function k(a,c,b,d,f,h,q,l){return{xmin:f<=b*a?0:f<b*a+a?f-b*a:a,ymin:h<=d*c?0:h<d*c+c?h-d*c:c,xmax:f+q<=b*a?0:f+q<b*a+a?f+q-b*a:a,ymax:h+l<=d*c?0:h+l<d*c+c?h+l-d*c:c}}function m(a,c,b,g){var e=a.filter(function(b){return h(b)})[0];if(null==e)return null;var f=g?g.width:c.width;g=g?g.height:c.height;var q=e.width,l=e.height,t=c.width/q;c=c.height/l;var m=b?b.x:0;b=b?b.y:0;var n=e.pixelType,x=d.getPixelArrayConstructor(n),
w=e.pixels.length,e=[],u,y,C,z,D,B,E,F,H,G;for(D=0;D<w;D++){y=new x(f*g);for(B=0;B<c;B++)for(E=0;E<t;E++)if(C=a[B*t+E])for(u=C.pixels[D],G=k(q,l,E,B,m,b,f,g),F=G.ymin;F<G.ymax;F++)for(C=(B*l+F-b)*f+(E*q-m),z=F*q,H=G.xmin;H<G.xmax;H++)y[C+H]=u[z+H];e.push(y)}var L;if(a.some(function(b){return null==b||b.mask&&0<b.mask.length}))for(L=new Uint8Array(f*g),B=0;B<c;B++)for(E=0;E<t;E++)if(x=(C=a[B*t+E])?C.mask:null,G=k(q,l,E,B,m,b,f,g),x)for(F=G.ymin;F<G.ymax;F++)for(C=(B*l+F-b)*f+(E*q-m),z=F*q,H=G.xmin;H<
G.xmax;H++)L[C+H]=x[z+H];else if(C)for(F=G.ymin;F<G.ymax;F++)for(C=(B*l+F-b)*f+(E*q-m),z=F*q,H=G.xmin;H<G.xmax;H++)L[C+H]=1;else for(F=G.ymin;F<G.ymax;F++)for(C=(B*l+F-b)*f+(E*q-m),z=F*q,H=G.xmin;H<G.xmax;H++)L[C+H]=0;a=new d({width:f,height:g,pixels:e,pixelType:n,mask:L});a.updateStatistics();return a}Object.defineProperty(f,"__esModule",{value:!0});var h=function(a){return a&&"esri.layers.support.PixelBlock"===a.declaredClass&&a.pixels&&0<a.pixels.length};f.extractBands=function(a,c){if(!c||!h(a))return a;
var b=a.pixels.length;return c&&c.some(function(a){return a>=b})||1===b&&1===c.length&&0===c[0]||b===c.length&&!c.some(function(b,a){return b!==a})?a:new d({pixelType:a.pixelType,width:a.width,height:a.height,mask:a.mask,validPixelCount:a.validPixelCount,maskIsAlpha:a.maskIsAlpha,pixels:c.map(function(b){return a.pixels[b]}),statistics:a.statistics&&c.map(function(b){return a.statistics[b]})})};f.createColormapLUT=function(a){if(a){var c=a.colormap;if(c&&0!==c.length){var c=c.sort(function(a,b){return a[0]-
b[0]}),b=0;0>c[0][0]&&(b=c[0][0]);var e=Math.max(256,c[c.length-1][0]-b+1),d=new Uint8Array(4*e),f=[],h=0,l=0,t=5===c[0].length;if(65536<e)return c.forEach(function(a){f[a[0]-b]=t?a.slice(1):a.slice(1).concat([255])}),{indexed2DColormap:f,offset:b,alphaSpecified:t};if(a.fillUnspecified)for(a=c[l],h=a[0]-b;h<e;h++)d[4*h]=a[1],d[4*h+1]=a[2],d[4*h+2]=a[3],d[4*h+3]=t?a[4]:255,h===a[0]-b&&(a=l===c.length-1?a:c[++l]);else for(h=0;h<c.length;h++)a=c[h],l=4*(a[0]-b),d[l]=a[1],d[l+1]=a[2],d[l+2]=a[3],d[l+
3]=t?a[4]:255;return{indexedColormap:d,offset:b,alphaSpecified:t}}}};f.colorize=function(a,c){if(!h(a)||!c&&(c.indexedColormap||c.indexed2DColormap))return a;var b=a.clone(),e=b.pixels,d=b.mask,f=b.width*b.height;if(1!==e.length)return a;var q=c.indexedColormap;a=c.indexed2DColormap;var l=c.offset;c=c.alphaSpecified;var t=q.length-1,k=0,e=e[0],m=new Uint8Array(e.length),n=new Uint8Array(e.length),w=new Uint8Array(e.length),u=0;if(q)if(d)for(k=0;k<f;k++)d[k]&&(u=4*(e[k]-l),u<l||u>t?d[k]=0:(m[k]=q[u],
n[k]=q[u+1],w[k]=q[u+2],d[k]=q[u+3]));else{d=new Uint8Array(f);for(k=0;k<f;k++)u=4*(e[k]-l),u<l||u>t?d[k]=0:(m[k]=q[u],n[k]=q[u+1],w[k]=q[u+2],d[k]=q[u+3]);b.mask=d}else if(d)for(k=0;k<f;k++)d[k]&&(q=a[e[k]],m[k]=q[0],n[k]=q[1],w[k]=q[2],d[k]=q[3]);else{d=new Uint8Array(f);for(k=0;k<f;k++)q=a[e[k]],m[k]=q[0],n[k]=q[1],w[k]=q[2],d[k]=q[3];b.mask=d}b.pixels=[m,n,w];b.statistics=null;b.pixelType="u8";b.maskIsAlpha=c;return b};f.estimateStatisticsHistograms=function(a){if(!h(a))return null;a.statistics||
a.updateStatistics();var c=a.pixels,b=a.mask,e=a.pixelType,d=a.statistics;a=a.width*a.height;var f=c.length,q,l,t,k,m,n=[],w=[],u,y,C;for(k=0;k<f;k++){u=new Uint32Array(256);C=c[k];if("u8"===e)if(q=-.5,l=255.5,b)for(m=0;m<a;m++)b[m]&&u[C[m]]++;else for(m=0;m<a;m++)u[C[m]]++;else{q=d[k].minValue;l=d[k].maxValue;t=(l-q)/256;y=new Uint32Array(257);if(b)for(m=0;m<a;m++)b[m]&&y[Math.floor((C[m]-q)/t)]++;else for(m=0;m<a;m++)y[Math.floor((C[m]-q)/t)]++;for(m=0;255>m;m++)u[m]=y[m];u[255]=y[255]+y[256]}n.push({min:q,
max:l,size:256,counts:u});for(m=C=y=t=0;256>m;m++)t+=u[m],y+=m*u[m];y/=t;for(m=0;256>m;m++)C+=u[m]*Math.pow(m-y,2);u=Math.sqrt(C/(t-1));t=(l-q)/256;m=(y+.5)*t+q;u*=t;w.push({min:q,max:l,avg:m,stddev:u})}return{statistics:w,histograms:n}};f.createStretchLUT=function(a){var c=a.minCutOff,b=a.maxCutOff,e=a.gamma,d=a.pixelType,f=a.outMin||0,h=a.outMax||255;if(-1===["u8","u16","s8","s16"].indexOf(d))return null;var l=c.length,t,k=0;"s8"===d?k=-127:"s16"===d&&(k=-32767);var m=256;-1<["u16","s16"].indexOf(d)&&
(m=65536);for(var x=[],w=h-f,d=0;d<l;d++)x[d]=b[d]-c[d];t=e&&e.length>=l;var u=[];if(t)for(d=0;d<l;d++)u[d]=1<e[d]?2<e[d]?6.5+Math.pow(e[d]-2,2.5):6.5+100*Math.pow(2-e[d],4):1;var y,C=[],z,D,B;if(t)for(d=0;d<l;d++){B=[];for(t=0;t<m;t++)z=t+k,y=(z-c[d])/x[d],D=1,1<e[d]&&(D-=Math.pow(1/w,y*u[d])),B[t]=z<b[d]&&z>c[d]?Math.floor(D*w*Math.pow(y,1/e[d]))+f:z>=b[d]?h:f;C[d]=B}else for(d=0;d<l;d++){B=[];for(t=0;t<m;t++)z=t+k,B[t]=z<=c[d]?f:z>=b[d]?h:Math.floor((z-c[d])/x[d]*w)+f;C[d]=B}if(null!=a.contrastOffset)for(a=
n(a.contrastOffset,a.brightnessOffset),d=0;d<l;d++)for(B=C[d],t=0;t<m;t++)B[t]=a[B[t]];return{lut:C,offset:k}};f.createContrastBrightnessLUT=n;f.stretch=function(a,c){if(!h(a))return null;a=a.clone();var b=a.pixels,e=a.mask,d=c.minCutOff,f=c.maxCutOff,q=c.gamma,l=c.outMin||0;c=c.outMax||255;var t=a.width*a.height,k=b.length,m,n,w,u,y,C=c-l,z=[];for(m=0;m<k;m++)z[m]=f[m]-d[m];n=q&&q.length>=k;var D=[];if(n)for(m=0;m<k;m++)D[m]=1<q[m]?2<q[m]?6.5+Math.pow(q[m]-2,2.5):6.5+100*Math.pow(2-q[m],4):1;if(n)if(null!=
e)for(n=0;n<t;n++){if(e[n])for(m=0;m<k;m++)w=b[m][n],y=(w-d[m])/z[m],u=1,1<q[m]&&(u-=Math.pow(1/C,y*D[m])),b[m][n]=w<f[m]&&w>d[m]?Math.floor(u*C*Math.pow(y,1/q[m]))+l:w>=f[m]?c:l}else for(n=0;n<t;n++)for(m=0;m<k;m++)w=b[m][n],y=(w-d[m])/z[m],u=1,1<q[m]&&(u-=Math.pow(1/C,y*D[m])),b[m][n]=w<f[m]&&w>d[m]?Math.floor(u*C*Math.pow(y,1/q[m]))+l:w>=f[m]?c:l;else if(null!=e)for(n=0;n<t;n++){if(e[n])for(m=0;m<k;m++)w=b[m][n],b[m][n]=w<f[m]&&w>d[m]?Math.floor((w-d[m])/z[m]*C)+l:w>=f[m]?c:l}else for(n=0;n<t;n++)for(m=
0;m<k;m++)w=b[m][n],b[m][n]=w<f[m]&&w>d[m]?Math.floor((w-d[m])/z[m]*C)+l:w>=f[m]?c:l;a.pixelType="u8";a.updateStatistics();return a};f.lookupPixels=function(a,c){if(!h(a))return null;var b=a.pixels,e=a.mask,f=a.width*a.height,r=b.length,q=c.lut;c=c.offset;var l,t;q&&1===q[0].length&&(q=b.map(function(){return q}));var m=[],k,n,w;if(c)if(null==e)for(l=0;l<r;l++){k=b[l];n=q[l];w=new Uint8Array(f);for(t=0;t<f;t++)w[t]=n[k[t]-c];m.push(w)}else for(l=0;l<r;l++){k=b[l];n=q[l];w=new Uint8Array(f);for(t=
0;t<f;t++)e[t]&&(w[t]=n[k[t]-c]);m.push(w)}else if(null==e)for(l=0;l<r;l++){k=b[l];n=q[l];w=new Uint8Array(f);for(t=0;t<f;t++)w[t]=n[k[t]];m.push(w)}else for(l=0;l<r;l++){k=b[l];n=q[l];w=new Uint8Array(f);for(t=0;t<f;t++)e[t]&&(w[t]=n[k[t]]);m.push(w)}a=new d({width:a.width,height:a.height,pixels:m,mask:e,pixelType:"u8"});a.updateStatistics();return a};f.remapColor=function(a,c){if(!h(a))return null;a=a.clone();var b=a.width*a.height,e=c.length,d=Math.floor(e/2),f=c[Math.floor(d)],q=a.pixels[0],l,
t,m,k,n,w,u=!1,y=new Uint8Array(b),C=new Uint8Array(b),z=new Uint8Array(b),D=a.mask,B=4===c[0].mappedColor.length;D||(D=new Uint8Array(b),D.fill(B?255:1),a.mask=D);for(n=0;n<b;n++)if(D[n]){l=q[n];u=!1;w=d;t=f;m=0;for(k=e-1;1<k-m;){if(l===t.value){u=!0;break}l>t.value?m=w:k=w;w=Math.floor((m+k)/2);t=c[Math.floor(w)]}u||(l===c[m].value?(t=c[m],u=!0):l===c[k].value?(t=c[k],u=!0):l<c[m].value?(u=!1,t=null):l>c[m].value&&(l<c[k].value?(t=c[m],u=!0):k===e-1?(u=!1,t=null):(t=c[k],u=!0)));u?(y[n]=t.mappedColor[0],
C[n]=t.mappedColor[1],z[n]=t.mappedColor[2],D[n]=t.mappedColor[3]):y[n]=C[n]=z[n]=D[n]=0}a.pixels=[y,C,z];a.mask=D;a.pixelType="u8";a.maskIsAlpha=B;return a};f.getClipBounds=k;f.mosaicPixelData=function(a,c){if(!a||0===a.length)return null;var b=a.filter(function(a){return a.pixelBlock})[0];if(!b)return null;var e=(b.extent.xmax-b.extent.xmin)/b.pixelBlock.width,d=(b.extent.ymax-b.extent.ymin)/b.pixelBlock.height,f=.01*Math.min(e,d),h=a.sort(function(a,b){return Math.abs(a.extent.ymax-b.extent.ymax)>
f?b.extent.ymax-a.extent.ymax:Math.abs(a.extent.xmin-b.extent.xmin)>f?a.extent.xmin-b.extent.xmin:0}),l=Math.min.apply(null,h.map(function(a){return a.extent.xmin})),t=Math.min.apply(null,h.map(function(a){return a.extent.ymin})),k=Math.max.apply(null,h.map(function(a){return a.extent.xmax})),n=Math.max.apply(null,h.map(function(a){return a.extent.ymax}));a={x:Math.round((c.xmin-l)/e),y:Math.round((n-c.ymax)/d)};l={width:Math.round((k-l)/e),height:Math.round((n-t)/d)};e={width:Math.round((c.xmax-
c.xmin)/e),height:Math.round((c.ymax-c.ymin)/d)};if(Math.round(l.width/b.pixelBlock.width)*Math.round(l.height/b.pixelBlock.height)!==h.length||0>a.x||0>a.y||l.width<e.width||l.height<e.height)return null;b=h.map(function(a){return a.pixelBlock});b=m(b,l,a,e);return{extent:c,pixelBlock:b}};f.mosaic=m;f.setValidBoundary=function(a,c,b){if(!h(a))return null;var e=a.width,d=a.height,f=c.x;c=c.y;var q=b.width+f;b=b.height+c;if(0>f||0>c||q>e||b>d||0===f&&0===c&&q===e&&b===d)return a;a.mask||(a.mask=new Uint8Array(e*
d));for(var l=a.mask,t=0;t<d;t++)for(var m=t*e,k=0;k<e;k++)l[m+k]=t<c||t>=b||k<f||k>=q?0:1;a.updateStatistics();return a};f.clip=function(a,c,b){if(!h(a))return null;var e=c.x,f=c.y,r=c.x+b.width;c=c.x+b.height;if(c===a.height&&r===a.width)return a;for(var q=a.pixels,l=a.mask,t=a.width,m=t*a.height,k=q.length,n=[],w=0;w<k;w++){for(var u=q[w],y=d.createEmptyBand(a.pixelType,m),C=0,z=f;z<=c;z++)for(var D=z*t,B=e;B<=r;B++)y[C++]=u[D+B];n.push(y)}var E;if(l)for(E=new Uint8Array(b.width*b.height),C=0,
z=f;z<=c;z++)for(D=z*t,B=e;B<=r;B++)E[C++]=l[D+B];a=new d({width:b.width,height:b.height,pixels:n,mask:E});a.updateStatistics();return a};f.approximateTransform=function(a,c,b,g){if(!h(a))return null;var e=a.pixels,f=a.mask,q=a.pixelType,l=a.width,t=a.height;a=d.getPixelArrayConstructor(q);var m=e.length,k=c.width,n=c.height;c=g.cols;var w=g.rows,u=Math.ceil(k/c),y=Math.ceil(n/w),C=!1;for(g=0;g<b.length;g+=3)-1===b[g]&&-1===b[g+1]&&-1===b[g+2]&&(C=!0);var z,D,B,E,F,H,G,L=new Float32Array(k*n),K=new Float32Array(k*
n),J=0,I,M;for(g=0;g<y;g++)for(var Q=0;Q<u;Q++){z=12*(g*u+Q);D=b[z];B=b[z+1];E=b[z+2];F=b[z+3];H=b[z+4];G=b[z+5];for(var O=0;O<w;O++){J=(g*w+O)*k+Q*c;M=(O+.5)/w;for(var R=0;R<O;R++)I=(R+.5)/c,L[J+R]=Math.round((D*I+B*M+E)*l-.5),K[J+R]=Math.round((F*I+H*M+G)*t-.5)}z+=6;D=b[z];B=b[z+1];E=b[z+2];F=b[z+3];H=b[z+4];G=b[z+5];for(O=0;O<w;O++)for(J=(g*w+O)*k+Q*c,M=(O+.5)/w,R=O;R<c;R++)I=(R+.5)/c,L[J+R]=Math.round((D*I+B*M+E)*l-.5),K[J+R]=Math.round((F*I+H*M+G)*t-.5)}b=function(a,b){for(var c=0;c<n;c++){z=
c*k;for(var e=0;e<k;e++)a[z]=C&&(0>L[z]||0>K[z])?0:b[L[z]+K[z]*l],z++}};t=[];for(g=0;g<m;g++)c=new a(k*n),b(c,e[g]),t.push(c);e=new d({width:k,height:n,pixelType:q,pixels:t});if(f)e.mask=new Uint8Array(k*n),b(e.mask,f);else if(C)for(e.mask=new Uint8Array(k*n),g=0;g<k*n;g++)e.mask[g]=0>L[g]||0>K[g]?0:1;e.updateStatistics();return e}})},"esri/renderers/support/RasterSymbolizer":function(){define("require exports tslib ../../rasterRenderers ../../core/colorUtils ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../layers/support/RasterInfo ../../layers/support/rasterFunctions/pixelUtils ../../layers/support/rasterFunctions/surfaceUtils ../support/colorRampUtils".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p){var r=h.getLogger("esri.renderers.support.RasterSymbolizer");return function(a){function l(b){return a.call(this,b)||this}d.__extends(l,a);l.prototype.readRenderer=function(a,b,c){return n.read(a,c)};l.prototype.bind=function(){if(!this.renderer)return!1;this.lookup={rendererJson:{}};var a;switch(this.renderer.type){case "unique-value":a=this._updateUVRenderer(this.renderer);break;case "raster-colormap":a=this._updateColormapRenderer(this.renderer);break;case "raster-stretch":a=
this._updateStretchRenderer(this.renderer);break;case "class-breaks":a=this._updateClassBreaksRenderer(this.renderer);break;case "raster-shaded-relief":a=this._updateShadedReliefRenderer(this.renderer)}return a};l.prototype.symbolize=function(a){var c=a&&a.pixelBlock;if(!this.isValidPixelBlock(c))return c;if(a.simpleStretchParams&&"raster-stretch"===this.renderer.type)return this.simpleStretch(c,a.simpleStretchParams);try{3<c.pixels.length&&(c=b.extractBands(c,[0,1,2]));var e=void 0;switch(this.renderer.type){case "unique-value":case "raster-colormap":e=
this._symbolize_colormap(c);break;case "class-breaks":e=this._symbolize_classBreaks(c);break;case "raster-stretch":e=this._symbolize_stretch(c,a.bandIds);break;case "raster-shaded-relief":var d=a.extent,e=this._symbolize_shadedRelief(c,{isGCS:d.spatialReference.isGeographic,resolution:{x:(d.xmax-d.xmin)/c.width,y:(d.ymax-d.ymin)/c.height}})}return e}catch(w){return r.error("symbolize",w.message),c}};l.prototype.simpleStretch=function(a,c){if(!this.isValidPixelBlock(a))return a;try{return 3<a.pixels.length&&
(a=b.extractBands(a,[0,1,2])),b.stretch(a,c)}catch(A){return r.error("symbolize",A.message),a}};l.prototype.generateWebGLParameters=function(a){if(-1<["unique-value","raster-colormap","class-breaks"].indexOf(this.renderer.type)){var b=this.lookup.colormapLut;return{colormap:b.indexedColormap,colormapOffset:b.offset,type:"lut"}}var b=a.pixelBlock,c=a.isGCS,e=a.resolution;a=a.bandIds;return"raster-stretch"===this.renderer.type?this.generateStretchWebGLParams(b,this.renderer,a):"raster-shaded-relief"===
this.renderer.type?this.generateShadedReliefWebGLParams(this.renderer,c,e):null};l.prototype._isLUTChanged=function(a){if(!this.lookup||!this.lookup.rendererJson)return!0;if("colorRamp"in this.renderer){var b=this.renderer.colorRamp;if(a)return JSON.stringify(b.toJSON())!==JSON.stringify(this.lookup.rendererJson.colorRamp);a=d.__assign({},this.renderer.toJSON());b=d.__assign({},this.lookup.rendererJson);a.colorRamp=null;b.colorRamp=null}return JSON.stringify(this.renderer.toJSON())!==JSON.stringify(this.lookup.rendererJson)};
l.prototype._symbolize_colormap=function(a){return this._isLUTChanged()&&!this.bind()?a:b.colorize(a,this.lookup.colormapLut)};l.prototype._symbolize_classBreaks=function(a){var c=-1<["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType);return this._isLUTChanged()&&!this.bind()?a:c?b.colorize(a,this.lookup.colormapLut):b.remapColor(a,this.lookup.remapLut)};l.prototype._symbolize_stretch=function(a,c){var e=this.rasterInfo,g=e.pixelType,l=e.bandCount,e=this.renderer,f=-1<["u8","u16","s8","s16"].indexOf(g),
h,p=e.gamma,q=e.useGamma;if(f){if(e.dynamicRangeAdjustment)f=this.getStretchCutoff(e,a,c),h=b.createStretchLUT(d.__assign(d.__assign({pixelType:g},f),{gamma:q?p:null}));else{if(this._isLUTChanged()&&(g=this.bind(),!g))return a;h=this.lookup?this.lookup.stretchLut:null}if(!h)return a;1<l&&(null===c||void 0===c?void 0:c.length)===a.pixels.length&&(null===h||void 0===h?void 0:h.lut.length)===l&&(h={lut:c.map(function(a){return h.lut[a]}),offset:h.offset});c=b.lookupPixels(a,h)}else f=this.getStretchCutoff(e,
a,c),c=b.stretch(a,d.__assign(d.__assign({},f),{gamma:q?p:null}));if(e.colorRamp){if(this._isLUTChanged(!0)&&(g=this.bind(),!g))return a;c=b.colorize(c,this.lookup.colormapLut)}return c};l.prototype._symbolize_shadedRelief=function(a,b){var c=this.renderer;b=d.__assign(d.__assign({},c.toJSON()),b);b=g.hillshade(a,b);if(!c.colorRamp||this._isLUTChanged(!0)&&!this.bind())return b;c=this.lookup?this.lookup.hsvMap:null;if(!c)return b;g.tintHillshade(b,a,c,this.rasterInfo.statistics[0]);return b};l.prototype._updateUVRenderer=
function(a){var c=this.rasterInfo,e=c.bandCount,d=c.attributeTable,g=c.statistics,c=-1<["u8","s8"].indexOf(c.pixelType)&&g&&null!=g[0].min&&null!=g[0].max;if(1!==e||!d&&!c)return!1;var l=a.field;if(!l)return!1;var f=[];if(d){var h=d.fields.filter(function(a){return"value"===a.name.toLowerCase()})[0];if(!h)return!1;d.features.forEach(function(b){var c=a.uniqueValueInfos.filter(function(a){return String(a.value)===String(b.attributes[l])})[0];(c=c&&c.symbol&&c.symbol.color)&&f.push([b.attributes[h.name],
c.r,c.g,c.b,1<c.a?c.a:Math.round(255*c.a)])})}else{if("value"!==l.toLowerCase())return!1;a.uniqueValueInfos.forEach(function(a){var b=a&&a.symbol&&a.symbol.color;b&&f.push([parseInt(a.value,10),b.r,b.g,b.b,1<b.a?b.a:Math.round(255*b.a)])})}if(0===f.length)return!1;e=b.createColormapLUT({colormap:f});this.lookup={rendererJson:a.toJSON(),colormapLut:e};return this.canRenderInWebGL=!0};l.prototype._updateColormapRenderer=function(a){var c=a.extractColormap();if(!c||0===c.length)return!1;c=b.createColormapLUT({colormap:c});
this.lookup={rendererJson:a.toJSON(),colormapLut:c};return this.canRenderInWebGL=!0};l.prototype._updateShadedReliefRenderer=function(a){if("elevation"!==this.rasterInfo.dataType)return!1;if(a.colorRamp){for(var c=p.convertColorRampToColormap(a.colorRamp,256),c=b.createColormapLUT({colormap:c}),e=[],d=c.indexedColormap,g=0;g<d.length;g+=4){var l=k.toHSV({r:d[g],g:d[g+1],b:d[g+2]});e.push([l.h/60,l.s/100,255*l.v/100])}this.lookup={rendererJson:a.toJSON(),colormapLut:c,hsvMap:e}}else this.lookup=null;
return this.canRenderInWebGL=!0};l.prototype._updateClassBreaksRenderer=function(a){var c=-1<["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType),e=a.classBreakInfos;if(!e||0===e.length)return!1;var d=e.sort(function(a,b){return a.minValue-b.minValue}),e=d[d.length-1];if(!c)return c=d.map(function(a){return{value:a.minValue,mappedColor:[a.symbol.color.r,a.symbol.color.g,a.symbol.color.b,1<a.symbol.color.a?a.symbol.color.a:Math.round(255*a.symbol.color.a)]}}),c.push({value:e.maxValue,mappedColor:[e.symbol.color.g,
e.symbol.color.b,1<e.symbol.color.a?e.symbol.color.a:Math.round(255*e.symbol.color.a)]}),this.lookup={rendererJson:a.toJSON(),remapLut:c},this.canRenderInWebGL=!1,!0;var g=[],l,f=0;d.forEach(function(a){l=Math.ceil(a.minValue);f=Math.floor(a.maxValue);for(var b=l;b<f;b++)g.push([b,a.symbol.color.r,a.symbol.color.g,a.symbol.color.b,1<a.symbol.color.a?a.symbol.color.a:Math.round(255*a.symbol.color.a)])});g.push([e.maxValue,e.symbol.color.r,e.symbol.color.g,e.symbol.color.b,1<e.symbol.color.a?e.symbol.color.a:
Math.round(255*e.symbol.color.a)]);c=b.createColormapLUT({colormap:g,fillUnspecified:!1});this.lookup={rendererJson:a.toJSON(),colormapLut:c};return this.canRenderInWebGL=!0};l.prototype._updateStretchRenderer=function(a){if(!(a.statistics||this.rasterInfo.statistics||a.dynamicRangeAdjustment))return!1;var c=a.histograms||this.rasterInfo.histograms;if(!a.dynamicRangeAdjustment&&"percent-clip"===a.stretchType&&!c)return!1;var e=a.gamma,g=a.useGamma,c=a.colorRamp,l=this.rasterInfo.pixelType;if(!a.dynamicRangeAdjustment&&
-1<["u8","u16","s8","s16"].indexOf(l)){var f=this.getStretchCutoff(a),e=b.createStretchLUT(d.__assign(d.__assign({pixelType:l},f),{gamma:g?e:null}));this.lookup={rendererJson:a.toJSON(),stretchLut:e}}c&&(c=p.convertColorRampToColormap(c,256),this.lookup||(this.lookup={rendererJson:a.toJSON()}),this.lookup.colormapLut=b.createColormapLUT({colormap:c}),this.lookup.rendererJson=a.toJSON());return this.canRenderInWebGL=!0};l.prototype.getStretchCutoff=function(a,c,e){var d,g,l=a.stretchType;a.dynamicRangeAdjustment?
"min-max"===l&&c.statistics?d=c.statistics.map(function(a){return[a.minValue,a.maxValue,0,0]}):(g=b.estimateStatisticsHistograms(c),d=g.statistics,g=g.histograms):(d=a.statistics&&0<a.statistics.length?a.statistics:this.rasterInfo.statistics,g=a.histograms||this.rasterInfo.histograms);var f=d||g?(d||g).length:this.rasterInfo.bandCount;c=[];var h=[],p,q,r,k,m;d[0]instanceof Array||(d=d.map(function(a){return[a.min,a.max,a.avg,a.stddev]}));switch(l){case "none":for(l=0;l<f;l++)c[l]="u8"===this.rasterInfo.pixelType?
0:d?d[l][0]:0,h[l]="u8"===this.rasterInfo.pixelType?255:d?d[l][1]:255;break;case "min-max":for(l=0;l<f;l++)c[l]=d[l][0],h[l]=d[l][1];break;case "standard-deviation":for(l=0;l<f;l++)c[l]=d[l][2]-a.numberOfStandardDeviations*d[l][3],h[l]=d[l][2]+a.numberOfStandardDeviations*d[l][3],c[l]<d[l][0]&&(c[l]=d[l][0]),h[l]>d[l][1]&&(h[l]=d[l][1]);break;case "percent-clip":for(l=0;l<g.length;l++){d=g[l];r=new Uint32Array(d.size);q=d.counts;p=0;f=(d.max-d.min)/d.size;k=-.5===d.min&&1===f?.5:0;for(m=0;m<d.size;m++)p+=
q[m],r[m]=p;q=a.minPercent*p/100;for(m=0;m<d.size;m++)if(r[m]>q){c[l]=d.min+f*(m+k);break}q=(1-a.maxPercent/100)*p;for(m=d.size-2;0<=m;m--)if(r[m]<q){h[l]=d.min+f*(m+2-k);break}}break;default:for(l=0;l<f;l++)c[l]=d[l][0],h[l]=d[l][1]}return this.getSelectedBandCutoffs({minCutOff:c,maxCutOff:h,outMax:a.outputMax||255,outMin:a.outputMin||0},e)};l.prototype.getSelectedBandCutoffs=function(a,b){if(null==b||0===b.length)return a;var c=Math.max.apply(null,b),e=a.minCutOff,d=a.maxCutOff,g=a.outMin,l=a.outMax;
return e.length===b.length||e.length<=c?a:{minCutOff:b.map(function(a){return e[a]}),maxCutOff:b.map(function(a){return d[a]}),outMin:g,outMax:l}};l.prototype.generateStretchWebGLParams=function(a,b,c){var e=null,d=null,g=this.lookup&&this.lookup.colormapLut;b.colorRamp&&g&&(e=g.indexedColormap,d=g.offset);var g=b.gamma,l=!!(b.useGamma&&g&&g.some(function(a){return 1!==a})),f=this.getStretchCutoff(b,a,c);b=f.minCutOff;var h=f.maxCutOff,p=f.outMin,f=f.outMax;a&&a.pixels&&2===a.pixels.length&&(a=a.clone(),
a.statistics=[a.statistics[0]],a.pixels=[a.pixels[0]]);a=Math.min(3,c&&c.length||a&&a.getPlaneCount()||this.rasterInfo.bandCount);c=new Float32Array(a);var q=e||l?1:255,r;for(r=0;r<a;r++)c[r]=(f-p)/(h[r]-b[r])/q;var m=new Float32Array(a);if(l)for(r=0;r<a;r++)m[r]=1<g[r]?2<g[r]?6.5+Math.pow(g[r]-2,2.5):6.5+100*Math.pow(2-g[r],4):1;return{bandCount:a,outMin:p/q,outMax:f/q,minCutOff:b,maxCutOff:h,factor:c,useGamma:l,gamma:l?g:[1,1,1],gammaCorrection:l?m:[1,1,1],colormap:e,colormapOffset:d,type:"stretch"}};
l.prototype.generateShadedReliefWebGLParams=function(a,b,c){var e=null,l=null,f=this.lookup&&this.lookup.colormapLut;a.colorRamp&&f&&(e=f.indexedColormap,l=f.offset);b=d.__assign(d.__assign({},a.toJSON()),{isGCS:b,resolution:c});b=g.calculateHillshadeParams(b);c=this.rasterInfo.statistics[0];return d.__assign(d.__assign({},b),{minValue:c.min,maxValue:c.max,hillshadeType:"traditional"===a.hillshadeType?0:1,type:"hillshade",colormap:e,colormapOffset:l})};l.prototype.isValidPixelBlock=function(a){return!!(a&&
a.pixels&&0<a.pixels.length&&0!==a.validPixelCount)};d.__decorate([e.property({types:n.rasterRendererTypes,json:{write:!0}})],l.prototype,"renderer",void 0);d.__decorate([e.reader("renderer")],l.prototype,"readRenderer",null);d.__decorate([e.property({type:c,json:{write:!0}})],l.prototype,"rasterInfo",void 0);d.__decorate([e.property({json:{write:!0}})],l.prototype,"lookup",void 0);d.__decorate([e.property({})],l.prototype,"canRenderInWebGL",void 0);return l=d.__decorate([e.subclass("esri.renderers.support.RasterSymbolizer")],
l)}(m.JSONSupport)})},"esri/rasterRenderers":function(){define("require exports ./core/Warning ./renderers/ClassBreaksRenderer ./renderers/RasterColormapRenderer ./renderers/RasterShadedReliefRenderer ./renderers/RasterStretchRenderer ./renderers/UniqueValueRenderer".split(" "),function(a,f,d,n,k,m,h,e){function c(a,c){if(!a)return null;var e;e=a?b[a.type]||null:null;if(e)return e=new e,e.read(a,c),e;c&&c.messages&&a&&c.messages.push(new d("renderer:unsupported","Renderers of type '"+(a.type||"unknown")+
"' are not supported",{definition:a,context:c}));return null}Object.defineProperty(f,"__esModule",{value:!0});f.ClassBreaksRenderer=n;f.RasterColormapRenderer=k;f.RasterShadedReliefRenderer=m;f.RasterStretchRenderer=h;f.UniqueValueRenderer=e;f.rasterRendererTypes={key:"type",base:null,typeMap:{"unique-value":e,"class-breaks":n,"raster-colormap":k,"raster-stretch":h,"raster-shaded-relief":m}};var b={uniqueValue:e,classBreaks:n,rasterStretch:h,rasterColormap:k,rasterShadedRelief:m};f.read=c;f.fromJSON=
function(a,b){return c(a,b)}})},"esri/core/Warning":function(){define(["require","exports","tslib","./Message"],function(a,f,d,n){a=function(a){function f(d,e,c){var b=a.call(this,d,e,c)||this;return b instanceof f?b:new f(d,e,c)}d.__extends(f,a);return f}(n);a.prototype.type="warning";return a})},"esri/renderers/ClassBreaksRenderer":function(){define("require exports tslib ../symbols ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/LegendOptions ../support/arcadeOnDemand ../symbols/support/jsonUtils".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v,A,x){var w=e.getLogger("esri.renderers.ClassBreaksRenderer"),u=new m.default({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),y=p.ensureType(t);return function(a){function e(b){b=a.call(this,b)||this;b.backgroundFillSymbol=null;b.classBreakInfos=null;b.defaultLabel=null;b.defaultSymbol=null;b.field=null;b.isMaxInclusive=!0;b.legendOptions=null;b.normalizationField=null;b.normalizationTotal=null;b.type=
"class-breaks";b.valueExpression=null;b.valueExpressionTitle=null;b._set("classBreakInfos",[]);return b}d.__extends(e,a);l=e;Object.defineProperty(e.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});e.prototype.readClassBreakInfos=function(a,b,c){if(Array.isArray(a)){var e=b.minValue;return a.map(function(a){var b=new t;b.read(a,c);null==b.minValue&&(b.minValue=e);null==b.maxValue&&(b.maxValue=b.minValue);e=b.maxValue;return b})}};e.prototype.writeClassBreakInfos=
function(a,b,c,e){a=a.map(function(a){return a.write({},e)});this._areClassBreaksConsecutive()&&a.forEach(function(a){return delete a.classMinValue});b[c]=a};e.prototype.readDefaultSymbol=function(a,b,c){return x.read(a,b,c)};e.prototype.writeDefaultSymbolWebScene=function(a,b,c,e){x.writeTarget(a,b,c,e)};e.prototype.writeDefaultSymbol=function(a,b,c,e){x.writeTarget(a,b,c,e)};e.prototype.castField=function(a){return null==a?a:"function"===typeof a?(w.error(".field: field must be a string value"),
null):p.ensureString(a)};Object.defineProperty(e.prototype,"minValue",{get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"normalizationType",{get:function(){var a=this._get("normalizationType"),b=!!this.normalizationField,c=null!=this.normalizationTotal;if(b||c)a=b&&"field"||c&&"percent-of-total"||null,b&&c&&w.warn("warning: both normalizationField and normalizationTotal are set!");
else if("field"===a||"percent-of-total"===a)a=null;return a},set:function(a){this._set("normalizationType",a)},enumerable:!0,configurable:!0});e.prototype.addClassBreakInfo=function(a,b,c){var e=null,e="number"===typeof a?new t({minValue:a,maxValue:b,symbol:k.ensureType(c)}):y(h.clone(a));this.classBreakInfos.push(e);1===this.classBreakInfos.length&&this.notifyChange("minValue")};e.prototype.removeClassBreakInfo=function(a,b){for(var c=this.classBreakInfos.length,e=0;e<c;e++){var d=[this.classBreakInfos[e].minValue,
this.classBreakInfos[e].maxValue];if(d[0]===a&&d[1]===b){this.classBreakInfos.splice(e,1);break}}};e.prototype.getBreakIndex=function(a,b){this.valueExpression&&(c.isNone(b)||c.isNone(b.arcade))&&w.warn("");return this.valueExpression?this._getBreakIndexForExpression(a,b):this._getBreakIndexForField(a)};e.prototype.getClassBreakInfo=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var e,g,l,f;return d.__generator(this,function(h){switch(h.label){case 0:e=b;if(!this.valueExpression||
!c.isNone(b)&&!c.isNone(b.arcade))return[3,2];g=[d.__assign({},e)];l={};return[4,A.loadArcade()];case 1:e=d.__assign.apply(void 0,g.concat([(l.arcade=h.sent(),l)])),h.label=2;case 2:return f=this.getBreakIndex(a,e),[2,-1!==f?this.classBreakInfos[f]:null]}})})};e.prototype.getSymbol=function(a,b){if(this.valueExpression&&(c.isNone(b)||c.isNone(b.arcade)))w.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return a=this.getBreakIndex(a,b),-1<a?this.classBreakInfos[a].symbol:
this.defaultSymbol};e.prototype.getSymbolAsync=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var e,g,l,f;return d.__generator(this,function(h){switch(h.label){case 0:e=b;if(!this.valueExpression||!c.isNone(b)&&!c.isNone(b.arcade))return[3,2];g=[d.__assign({},e)];l={};return[4,A.loadArcade()];case 1:e=d.__assign.apply(void 0,g.concat([(l.arcade=h.sent(),l)])),h.label=2;case 2:return f=this.getBreakIndex(a,e),[2,-1<f?this.classBreakInfos[f].symbol:this.defaultSymbol]}})})};e.prototype.getSymbols=
function(){var a=[];this.classBreakInfos.forEach(function(b){b.symbol&&a.push(b.symbol)});this.defaultSymbol&&a.push(this.defaultSymbol);return a};e.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};e.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),c=this.normalizationField+"."+this.normalizationType+"."+this.normalizationTotal,e=this.classBreakInfos.reduce(function(a,
b){return a+b.getMeshHash()},"");return a+"."+b+"."+e+"."+c+"."+this.field+"."+this.valueExpression};Object.defineProperty(e.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new l({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),
valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:h.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:h.clone(this.visualVariables),legendOptions:h.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};e.prototype.collectRequiredFields=function(a,c){return d.__awaiter(this,
void 0,void 0,function(){var e;return d.__generator(this,function(d){switch(d.label){case 0:return e=[this.collectVVRequiredFields(a,c),this.collectSymbolFields(a,c)],[4,b.all(e)];case 1:return d.sent(),[2]}})})};e.prototype.collectSymbolFields=function(a,c){return d.__awaiter(this,void 0,void 0,function(){var e;return d.__generator(this,function(g){switch(g.label){case 0:return e=d.__spreadArrays(this.getSymbols().map(function(b){return b.collectRequiredFields(a,c)}),[r.collectArcadeFieldNames(a,
c,this.valueExpression)]),r.collectField(a,c,this.field),r.collectField(a,c,this.normalizationField),[4,b.all(e)];case 1:return g.sent(),[2]}})})};e.prototype._getBreakIndexForExpression=function(a,b){var e=c.unwrapOr(b,{});b=e.viewingMode;var d=e.scale,g=e.spatialReference,l=this._cache.compiledFunc,e=c.unwrap(e.arcade).arcadeUtils;l||(l=e.createSyntaxTree(this.valueExpression),l=e.createFunction(l),this._cache.compiledFunc=l);a=e.executeFunction(l,e.createExecContext(a,e.getViewInfo({viewingMode:b,
scale:d,spatialReference:g})));return this._getBreakIndexfromInfos(a)};e.prototype._getBreakIndexForField=function(a){var b=a.attributes;a=this.normalizationType;var c=parseFloat(b[this.field]);if(a){var e=this.normalizationTotal,b=parseFloat(b[this.normalizationField]);if("log"===a)c=Math.log(c)*Math.LOG10E;else if("percent-of-total"===a&&!isNaN(e))c=c/e*100;else if("field"===a&&!isNaN(b)){if(isNaN(c)||isNaN(b))return-1;c/=b}}return this._getBreakIndexfromInfos(c)};e.prototype._getBreakIndexfromInfos=
function(a){var b=this.isMaxInclusive;if(null!=a&&"number"===typeof a&&!isNaN(a))for(var c=0;c<this.classBreakInfos.length;c++){var e=[this.classBreakInfos[c].minValue,this.classBreakInfos[c].maxValue];if(e[0]<=a&&(b?a<=e[1]:a<e[1]))return c}return-1};e.prototype._areClassBreaksConsecutive=function(){for(var a=this.classBreakInfos,b=a.length,c=1;c<b;c++)if(a[c-1].maxValue!==a[c].minValue)return!1;return!0};var l;d.__decorate([g.property({readOnly:!0,dependsOn:["valueExpression"]})],e.prototype,"_cache",
null);d.__decorate([g.property({types:{base:n.BaseSymbol,key:"type",typeMap:{"simple-fill":k.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":k.symbolTypesRenderer.typeMap["picture-fill"],"polygon-3d":k.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{origins:{"web-scene":{type:n.PolygonSymbol3D,read:x.read,write:x.writeTarget}},read:x.read,write:x.writeTarget}})],e.prototype,"backgroundFillSymbol",void 0);d.__decorate([g.property({type:[t]})],e.prototype,"classBreakInfos",void 0);d.__decorate([g.reader("classBreakInfos")],
e.prototype,"readClassBreakInfos",null);d.__decorate([g.writer("classBreakInfos")],e.prototype,"writeClassBreakInfos",null);d.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"defaultLabel",void 0);d.__decorate([g.property({types:k.symbolTypesRenderer})],e.prototype,"defaultSymbol",void 0);d.__decorate([g.reader("defaultSymbol")],e.prototype,"readDefaultSymbol",null);d.__decorate([g.writer("web-scene","defaultSymbol",{defaultSymbol:{types:k.symbolTypesRenderer3D}})],e.prototype,
"writeDefaultSymbolWebScene",null);d.__decorate([g.writer("defaultSymbol")],e.prototype,"writeDefaultSymbol",null);d.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);d.__decorate([g.cast("field")],e.prototype,"castField",null);d.__decorate([g.property({type:Boolean})],e.prototype,"isMaxInclusive",void 0);d.__decorate([g.property({type:v.default,json:{write:!0}})],e.prototype,"legendOptions",void 0);d.__decorate([g.property({type:Number,readOnly:!0,value:null,dependsOn:["classBreakInfos"],
json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],e.prototype,"minValue",null);d.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);d.__decorate([g.property({type:Number,cast:function(a){return p.ensureNumber(a)},json:{write:!0}})],e.prototype,"normalizationTotal",void 0);d.__decorate([g.property({type:u.apiValues,value:null,dependsOn:["normalizationField",
"normalizationTotal"],json:{type:u.jsonValues,read:u.read,write:u.write}})],e.prototype,"normalizationType",null);d.__decorate([g.enumeration({classBreaks:"class-breaks"})],e.prototype,"type",void 0);d.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);d.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);return e=l=d.__decorate([g.subclass("esri.renderers.ClassBreaksRenderer")],e)}(l.VisualVariablesMixin(q))})},
"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v,A,x,w,u,y,C,z,D,B,E,F,H,G,L,K,J,I){Object.defineProperty(f,"__esModule",{value:!0});f.CIMSymbol=n;f.ExtrudeSymbol3DLayer=k;f.BaseFillSymbol=m;f.FillSymbol3DLayer=h;f.Font=e;f.IconSymbol3DLayer=c;f.LabelSymbol3D=b;f.LineSymbol3D=g;f.LineSymbol3DLayer=p;f.BaseMarkerSymbol=r;f.MeshSymbol3D=q;f.ObjectSymbol3DLayer=l;f.PathSymbol3DLayer=t;f.PictureFillSymbol=v;f.PictureMarkerSymbol=A;f.PointSymbol3D=x;f.PolygonSymbol3D=w;f.SimpleFillSymbol=u;f.SimpleLineSymbol=
y;f.SimpleMarkerSymbol=C;f.BaseSymbol=z;f.BaseSymbol3D=D;f.BaseSymbol3DLayer=B;f.TextSymbol=E;f.TextSymbol3DLayer=F;f.WaterSymbol3DLayer=H;f.WebStyleSymbol=G;f.LineCallout3D=L;f.LineCallout3DBorder=K;f.Symbol3DVerticalOffset=J.Symbol3DVerticalOffset;f.fromJSON=I.fromJSON;f.isSymbol=function(a){return a instanceof z};f.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};f.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};f.symbolTypes={base:z,key:"type",typeMap:{"simple-fill":u,"picture-fill":v,"picture-marker":A,"simple-line":y,"simple-marker":C,text:E,"label-3d":b,"line-3d":g,"mesh-3d":q,"point-3d":x,"polygon-3d":w,"web-style":G,cim:n}};f.symbolTypesRenderer={base:z,key:"type",typeMap:{"simple-fill":u,"picture-fill":v,"picture-marker":A,
"simple-line":y,"simple-marker":C,text:E,"line-3d":g,"mesh-3d":q,"point-3d":x,"polygon-3d":w,"web-style":G,cim:n}};f.symbolTypesLabel={base:z,key:"type",typeMap:{text:E,"label-3d":b}};f.symbolTypes3D={base:z,key:"type",typeMap:{"label-3d":b,"line-3d":g,"mesh-3d":q,"point-3d":x,"polygon-3d":w,"web-style":G}};f.symbolTypesRenderer3D={base:z,key:"type",typeMap:{"line-3d":g,"mesh-3d":q,"point-3d":x,"polygon-3d":w,"web-style":G}};f.symbolTypesLabel3D={base:z,key:"type",typeMap:{"label-3d":b}};f.ensureType=
d.ensureOneOfType(f.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports tslib ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./cim/cimSymbolUtils".split(" "),function(a,f,d,n,k,m,h,e,c,b){return function(a){function c(b){b=a.call(this,b)||this;b.data=null;b.portal=null;b.styleUrl="";b.type="cim";return b}d.__extends(c,a);g=c;c.prototype.readData=function(a,b){return b};c.prototype.writeData=function(a,
b){if(a)for(var c in a)b[c]=a[c]};c.prototype.readStyleUrl=function(a,b){return b.symbolUrl?b.symbolUrl:a};c.prototype.writeStyleUrl=function(a,b){a&&(b.symbolUrl=a)};c.prototype.collectRequiredFields=function(a,c){return d.__awaiter(this,void 0,void 0,function(){var e,g,l;return d.__generator(this,function(d){switch(d.label){case 0:return[4,b.fetchSymbol(this)];case 1:d.sent();if("CIMSymbolReference"!==this.data.type)return[3,3];e=this.data;g=e.primitiveOverrides;if(!g)return[3,3];l=g.map(function(b){return h.collectArcadeFieldNames(a,
c,b.valueExpressionInfo.expression)});return[4,k.all(l)];case 2:d.sent(),d.label=3;case 3:return[2]}})})};c.prototype.clone=function(){return new g({color:this.color.clone(),data:n.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};c.prototype.hash=function(){return this.color.hash()+"."+this.data+"."+this.portal+"."+this.styleName+"."+this.styleUrl};var g;d.__decorate([m.property({json:{write:!1}})],c.prototype,"color",void 0);d.__decorate([m.property({json:{write:!0}})],
c.prototype,"data",void 0);d.__decorate([m.reader("data",["symbol"])],c.prototype,"readData",null);d.__decorate([m.writer("data")],c.prototype,"writeData",null);d.__decorate([m.property({type:e,json:{write:!1}})],c.prototype,"portal",void 0);d.__decorate([m.property({json:{write:!0}})],c.prototype,"styleName",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"styleUrl",void 0);d.__decorate([m.reader("styleUrl",["styleUrl","symbolUrl"])],c.prototype,"readStyleUrl",null);
d.__decorate([m.writer("styleUrl")],c.prototype,"writeStyleUrl",null);d.__decorate([m.enumeration({CIMSymbolReference:"cim"})],c.prototype,"type",void 0);return c=g=d.__decorate([m.subclass("esri.symbols.CIMSymbol")],c)}(c)})},"esri/layers/support/fieldUtils":function(){define("require exports tslib @dojo/framework/shim/array ../../core/Error ../../core/maybe ../../core/object ../../core/promiseUtils ../../core/SetUtils ./domains ../../support/arcadeOnDemand @dojo/framework/shim/Promise".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g){function p(a,b,c){if(a)for(var e=0;e<a.length;e++){var d=a[e],g=h.getDeepValue(d,b);(g=g&&"function"!==typeof g&&t(c,g))&&h.setDeepValue(d,g.name,b)}}function r(a,b){if(!a||!b)return[];M.clear();q(M,a,b);return c.valuesOfSet(M).sort()}function q(a,b,c){if(c)if(b&&b.length)if(n.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var e=0;e<c.length;e++)d=c[e],l(a,b,d);else if(n.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var d=c[b];
a.add(d)}}function l(a,b,c){b&&b.length?(b=t(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function t(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var e=a[c];if(e&&e.name.toLowerCase()===b)return e}}return null}function v(a,b,c){return d.__awaiter(this,void 0,void 0,function(){var e,f,h,p,q;return d.__generator(this,function(d){switch(d.label){case 0:return c?[4,g.loadArcade()]:[2];case 1:e=d.sent().arcadeUtils;f=e.extractFieldNames(c);h=0;
for(p=f;h<p.length;h++)q=p[h],l(a,b,q);return[2]}})})}function A(a,b){for(var c=0;c<a.length;c++){var e=a[c];if(e&&e.valueType&&e.valueType===b)return e.name}return null}function x(a,b){return d.__awaiter(this,void 0,void 0,function(){var c,e;return d.__generator(this,function(d){if(!b)return[2];c=b.fields;return(e=h.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,e.collectRequiredFields(a,c)]:[2]})})}function w(a,b,c){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,
function(e){c.outStatistic.onStatisticValueExpression?v(a,b,c.outStatistic.onStatisticValueExpression):a.add(c.outStatistic.onStatisticField);return[2]})})}function u(a,b){return d.__awaiter(this,void 0,void 0,function(){var c,g;return d.__generator(this,function(d){switch(d.label){case 0:return c=b.labelingInfo,g=b.fields,c&&c.length?[4,e.all(c.map(function(b){return y(a,g,b)}))]:[2];case 1:return d.sent(),[2]}})})}function y(a,b,c){return d.__awaiter(this,void 0,void 0,function(){var e,g,f,h,p;
return d.__generator(this,function(d){switch(d.label){case 0:if(!c)return[2];e=c.getLabelExpression();g=c.where;return"arcade"!==e.type?[3,2]:[4,v(a,b,e.expression)];case 1:return d.sent(),[3,3];case 2:(f=e.expression.match(/{[^}]*}/g))&&f.forEach(function(c){l(a,b,c.slice(1,-1))}),d.label=3;case 3:return h=/['"]+/g,g&&(p=g.split(" "),3===p.length&&l(a,b,p[0].replace(h,"")),7===p.length&&(l(a,b,p[0].replace(h,"")),l(a,b,p[4].replace(h,"")))),[2]}})})}function C(a){return"number"===typeof a&&!isNaN(a)&&
isFinite(a)}function z(a){return null===a||C(a)}function D(a){return null===a||Q(a)}function B(a){return null!=a&&"string"===typeof a}function E(a){return null===a||B(a)}function F(){return!0}function H(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?D:Q;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?z:C;break;case "string":case "esriFieldTypeString":c=a.nullable?E:B;break;default:c=F}return 1===arguments.length?c:c(b)}function G(a){return null!=a&&O.has(a.type)}function L(a,c){return a.nullable&&null===c?null:G(a)&&!K(a.type,Number(c))?R.OUT_OF_RANGE:H(a,c)?a.domain?b.validateDomainValue(a.domain,c):null:S.INVALID_TYPE}function K(a,b){return(a="string"===typeof a?J(a):a)?a.isInteger?Q(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function J(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return f.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return f.integerRange;case "esriFieldTypeSingle":case "single":return f.singleRange;case "esriFieldTypeDouble":case "double":return f.doubleRange}}function I(a,b,c){if(!b||!b.attributes||!a){if(m.isSome(c))for(var e=0;e<a.length;e++)b=a[e],c.add(b);return!0}for(var e=b.attributes,d=!1,g=0;g<a.length;g++)if(b=a[g],!(b in e))if(d=!0,m.isSome(c))c.add(b);else break;return d}Object.defineProperty(f,"__esModule",{value:!0});f.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");
f.visualVariableFields=["field","normalizationField"];f.fixRendererFields=function(a,b){if(null!=a&&null!=b){var c=0;for(a=Array.isArray(a)?a:[a];c<a.length;c++){var e=a[c];p(f.rendererFields,e,b);if("visualVariables"in e&&e.visualVariables)for(var d=0,e=e.visualVariables;d<e.length;d++)p(f.visualVariableFields,e[d],b)}}};f.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=t(b,a.startField);b=t(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=
t(b,a.startTimeField),b=t(b,a.endTimeField),a.startTimeField=c&&c.name||null,a.endTimeField=b&&b.name||null};var M=new Set;f.fixFields=r;f.collectFields=q;f.collectField=l;f.unpackFieldNames=function(a,b){return b&&a?n.includes(b,"*")?a.map(function(a){return a.name}):b:[]};f.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(n.includes(b,"*"))return["*"];b=r(a,b);return b.length/a.length>=c?["*"]:b};f.getField=t;f.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();
for(var c=0;c<a.length;c++){var e=a[c];if(e&&e.name.toLowerCase()===b)return!0}return!1};f.collectArcadeFieldNames=v;f.getDisplayFieldName=function(a){var b=a.displayField;a=a.fields;if(b)return b;if(!a||!a.length)return null;if(!(b=A(a,"name-or-title")||A(a,"unique-identifier")||A(a,"type-or-category")))a:{for(b=0;b<a.length;b++){var c=a[b];if(c&&c.name){var e=c.name.toLowerCase();if(-1<e.indexOf("name")||-1<e.indexOf("title")){b=c.name;break a}}}b=null}return b};f.getElevationFields=function(a){return d.__awaiter(this,
void 0,void 0,function(){var b;return d.__generator(this,function(e){switch(e.label){case 0:if(!a)return[2,[]];b=new Set;return[4,x(b,a)];case 1:return e.sent(),[2,c.valuesOfSet(b).sort()]}})})};f.collectElevationFields=x;f.collectFeatureReductionFields=function(a,b,c){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(d){switch(d.label){case 0:return b&&c&&"cluster"===c.type&&c.fields?[4,e.all(c.fields.map(function(c){return w(a,b.fields,c)}))]:[2];case 1:return d.sent(),
[2]}})})};f.collectFilterFields=function(b,c,e){return d.__awaiter(this,void 0,void 0,function(){var g,l;return d.__generator(this,function(d){switch(d.label){case 0:if(!c||!e||!(e.where&&"1\x3d1"!==e.where||e.timeExtent))return[2];c.timeInfo&&e.timeExtent&&q(b,c.fields,[c.timeInfo.startField,c.timeInfo.endField]);return e.where?[4,new Promise(function(b,c){a(["../../core/sql/WhereClause"],b,c)})]:[3,2];case 1:g=d.sent();l=g.WhereClause.create(e.where,c.fieldsIndex);if(!l.isStandardized)throw new k("fieldUtils:collectFilterFields",
"Where clause is not standardized");q(b,c.fields,l.fieldNames);d.label=2;case 2:return[2]}})})};f.getTimeFields=function(a){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(c){return a?(b="timeInfo"in a&&a.timeInfo)?[2,r(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};f.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?r(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,
b&&b.editDateField]):[]};f.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?r(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};f.getLabelingFields=function(a){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(e){switch(e.label){case 0:if(!a)return[2,[]];b=new Set;return[4,u(b,a)];case 1:return e.sent(),[2,c.valuesOfSet(b).sort()]}})})};f.collectLabelingFields=u;f.getFieldDefaultValue=
function(a){var b=a.defaultValue;if(void 0!==b&&H(a,b))return b;if(a.nullable)return null};var Q=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();f.isValueMatchingFieldType=H;f.numericTypes=["integer","small-integer","single","double"];var O=c.SetFromValues(d.__spreadArrays(f.numericTypes,["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));f.isNumericField=G;f.isStringField=
function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};f.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};f.isValidFieldValue=function(a,b){return null===L(a,b)};var R;(R=f.NumericRangeValidationError||(f.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var S;(S=f.TypeValidationError||(f.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";f.sanitizeNullFieldValue=function(a){return null==
a||"number"===typeof a&&isNaN(a)?null:a};f.validateFieldValue=L;f.isNumberInRange=K;f.getFieldRange=function(a){var c=b.getDomainRange(a.domain);if(c)return c;if(G(a))return J(a.type)};f.getNumericTypeForValue=function(a){if(!C(a))return null;if(Q(a)){if(a>=f.smallIntegerRange.min&&a<=f.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=f.integerRange.min&&a<=f.integerRange.max)return"esriFieldTypeInteger"}return a>=f.singleRange.min&&a<=f.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};
f.smallIntegerRange={min:-32768,max:32767,isInteger:!0};f.integerRange={min:-2147483648,max:2147483647,isInteger:!0};f.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};f.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};f.validationErrorToString=function(a,c,e){switch(a){case b.DomainValidationError.INVALID_CODED_VALUE:return"Value "+e+" is not in the coded domain - field: "+c.name+", domain: "+JSON.stringify(c.domain);case b.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+
e+" is out of the range of valid values - field: "+c.name+", domain: "+JSON.stringify(c.domain);case S.INVALID_TYPE:return"Value "+e+" is not a valid value for the field type - field: "+c.name+", type: "+c.type+", nullable: "+c.nullable;case R.OUT_OF_RANGE:return a=J(c.type),"Value "+e+" is out of range for the number type - field: "+c.name+", type: "+c.type+", value range is "+a.min+" to "+a.max}};f.featureHasFields=function(a,b){return!I(a,b,null)};f.populateMissingFields=I;f.getExpressionFields=
function(a,b){return d.__awaiter(this,void 0,void 0,function(){var e,g,l,f;return d.__generator(this,function(d){switch(d.label){case 0:e=new Set,g=0,l=b,d.label=1;case 1:if(!(g<l.length))return[3,4];f=l[g];return[4,v(e,a.fields,f)];case 2:d.sent(),d.label=3;case 3:return g++,[3,1];case 4:return[2,c.valuesOfSet(e).sort()]}})})}})},"esri/core/SetUtils":function(){define(["require","exports"],function(a,f){function d(a){if(0===a.size)throw Error("Set is empty");return a.values().next().value}function n(a){if(0===
a.size)throw Error("Set is empty");var d,e=!1;a.forEach(function(a){e||(d=a,e=!0)});return d}Object.defineProperty(f,"__esModule",{value:!0});f.someSet=Set.prototype.entries?function(a,d){a=a.entries();for(var e=a.next();!e.done;e=a.next())if(d(e.value[0]))return!0;return!1}:function(a,d){var e=!0;a.forEach(function(a){e&&(e=!d(a))});return!e};a=!!Set.prototype.values;var k=!!Array.from;f.valuesOfSet=a&&k?function(a){return Array.from(a.values())}:function(a){var d=Array(a.size),e=0;a.forEach(function(a){return d[e++]=
a});return d};f.SetFromValues=a?function(a){return new Set(a)}:function(a){for(var d=new Set,e=0;e<a.length;e++)d.add(a[e]);return d};f.firstOfSet=a?d:n;f.reduceSet=function(a,d,e){var c=e;a.forEach(function(a){return c=d(a,c)});return c}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(a,f,d,n,k,m,h){function e(a,e){switch(a.type){case "range":var b="range"in a?a.range[1]:
a.maxValue;if(+e<("range"in a?a.range[0]:a.minValue)||+e>b)return c.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==e}))return c.INVALID_CODED_VALUE}return null}Object.defineProperty(f,"__esModule",{value:!0});f.CodedValueDomain=n;f.DomainBase=k;f.InheritedDomain=m;f.RangeDomain=h;var c;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(c=
f.DomainValidationError||(f.DomainValidationError={}));f.isValidDomainValue=function(a,c){return null===e(a,c)};f.validateDomainValue=e;f.types={key:"type",base:k,typeMap:{range:h,"coded-value":n,inherited:m}};f.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};f.fromJSON=function(a){if(!a||!a.type)return null;switch(a.type){case "range":return h.fromJSON(a);case "codedValue":return n.fromJSON(a);case "inherited":return m.fromJSON(a);
default:d.neverReached(a)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}d.__extends(c,a);b=c;c.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);
return!!b})}return b};c.prototype.clone=function(){return new b({codedValues:n.clone(this.codedValues),name:this.name})};var b;d.__decorate([k.property({type:[m.default],json:{write:!0}})],c.prototype,"codedValues",void 0);d.__decorate([k.enumeration({codedValue:"coded-value"})],c.prototype,"type",void 0);return c=b=d.__decorate([k.subclass("esri.layers.support.CodedValueDomain")],c)}(h)})},"esri/layers/support/CodedValue":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],
function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function f(c){c=a.call(this,c)||this;c.name=null;c.code=null;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({name:this.name,code:this.code})};var e;d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);d.__decorate([k.property({type:[String,Number],json:{write:!0}})],f.prototype,"code",void 0);return f=e=d.__decorate([k.subclass("esri.layers.support.CodedValue")],
f)}(n.JSONSupport);f.CodedValue=a;f.default=a})},"esri/layers/support/Domain":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,f,d,n,k,m){var h=new n.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function c(b){b=a.call(this,b)||this;b.name=null;b.type=null;return b}d.__extends(c,a);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);
d.__decorate([m.enumeration(h)],c.prototype,"type",void 0);return c=d.__decorate([m.subclass("esri.layers.support.Domain")],c)}(k.JSONSupport)})},"esri/layers/support/InheritedDomain":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Domain"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.type="inherited";return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e};var e;d.__decorate([n.enumeration({inherited:"inherited"})],
f.prototype,"type",void 0);return f=e=d.__decorate([n.subclass("esri.layers.support.InheritedDomain")],f)}(k)})},"esri/layers/support/RangeDomain":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Domain"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.maxValue=null;c.minValue=null;c.type="range";return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};
var e;d.__decorate([n.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,b,e){b[e]=[this.minValue||0,a]}}}})],f.prototype,"maxValue",void 0);d.__decorate([n.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,
b,e){b[e]=[a,this.maxValue||0]}}}})],f.prototype,"minValue",void 0);d.__decorate([n.enumeration({range:"range"})],f.prototype,"type",void 0);return f=e=d.__decorate([n.subclass("esri.layers.support.RangeDomain")],f)}(k)})},"esri/support/arcadeOnDemand":function(){define("require exports tslib ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),function(a,f,d,n,k,m){function h(){return d.__awaiter(this,void 0,void 0,function(){var b=this;return d.__generator(this,
function(c){e||(e=function(){return d.__awaiter(b,void 0,void 0,function(){var b;return d.__generator(this,function(c){switch(c.label){case 0:return[4,new Promise(function(b,c){a(["./arcadeUtils"],b,c)})];case 1:return b=c.sent(),[4,b.arcade.load()];case 2:return c.sent(),[2,{arcade:b.arcade,arcadeUtils:b,Dictionary:b.Dictionary,Feature:b.arcadeFeature}]}})})}());return[2,e]})})}Object.defineProperty(f,"__esModule",{value:!0});var e;f.loadArcade=h;f.createLabelExpression=function(a,e,d){return c.create(a,
e,d,null,["$feature"])};f.createVVExpression=function(a,e,d){return c.create(a,e,d,null,["$feature","$view"])};f.createRendererExpression=function(a,e,d){return c.create(a,e,d,null,["$feature","$view"])};f.createDictionaryExpression=function(a,e,d,f){return c.create(a,e,d,f,["$feature","$view"])};var c=function(){function a(a,b,c,e,d,f,h){this.evaluate=e;this._syntaxTree=c;this._arcade=a;this._arcadeDictionary=b;this._arcadeFeature=d;this._fields=f;this._spatialReference=h;this._referencesGeometry=
a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}a.create=function(b,c,e,f,l,t){return d.__awaiter(this,void 0,void 0,function(){var g,p,q,r,u,y,C,z,D,B,E,F,H,G,L;return d.__generator(this,function(v){switch(v.label){case 0:return[4,h()];case 1:return g=v.sent(),p=g.arcade,q=g.Feature,r=g.Dictionary,u=n.SpatialReference.fromJSON(c),y=p.parseScript(b,t),C=l.reduce(function(a,b){var c;return d.__assign(d.__assign({},a),(c={},c[b]=
null,c))},{}),z=null,k.isSome(f)&&(z=new r(f),z.immutable=!0,C.$config=null),D=p.scriptUsesGeometryEngine(y)&&p.enableGeometrySupport(),B=p.scriptUsesFeatureSet(y)&&p.enableFeatureSetSupport(),E=p.scriptIsAsync(y)&&p.enableAsyncSupport(),F={vars:C,spatialReference:u,useAsync:!!E},H=new r,H.immutable=!1,H.setField("scale",0),G=p.compileScript(y,F),L=function(a){"$view"in a&&a.$view&&(H.setField("scale",a.$view.scale),a.$view=H);z&&(a.$config=z);return G({vars:a,spatialReference:u})},[4,m.all([D,B,
E])];case 2:return v.sent(),[2,new a(p,r,y,L,new q,e,u)]}})})};a.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,a)};a.prototype.referencesFunction=
function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return a}();f.ArcadeExpression=c;f.default=c})},"esri/portal/Portal":function(){define("require exports tslib ../config ../intl ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v,A,x){var w,u={PortalGroup:function(){return new Promise(function(b,c){a(["./PortalGroup"],b,c)})},PortalItem:function(){return new Promise(function(b,c){a(["./PortalItem"],b,c)})},PortalUser:function(){return new Promise(function(b,c){a(["./PortalUser"],b,c)})}};return function(c){function g(a){a=c.call(this,a)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=
!1;a.canListData=!1;a.canListPreProvisionedItems=!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=null;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=
null;a.hasCategorySchema=!1;a.helperServices=null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.isReadOnly=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.sourceJSON=null;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;
a.templatesGroupQuery=null;a.units=null;a.url=n.portalUrl;a.urlKey=null;a.user=null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}d.__extends(g,c);f=g;g.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};g.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};g.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=
0;b<a.length;b++){var c=a[b];-1===n.request.trustedServers.indexOf(c)&&n.request.trustedServers.push(c)}return a};g.prototype.readDefaultBasemap=function(a){return a?(a=w.fromJSON(a),a.portalItem={portal:this},a):null};g.prototype.readDefaultVectorBasemap=function(a){return a?(a=w.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(g.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,
configurable:!0});Object.defineProperty(g.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+
b):null},enumerable:!0,configurable:!0});g.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};g.prototype.readUser=function(a){var b=null;a&&(b=x.fromJSON(a),b.portal=this);return b};g.prototype.load=function(b){var c=this,e=(new Promise(function(b,c){a(["../Basemap"],b,c)})).then(function(a){r.throwIfAborted(b);w=a}).then(function(){return c.sourceJSON?c.sourceJSON:c._fetchSelf(c.authMode,!1,b)}).then(function(a){if(m.id){var b=m.id;c.credential=b.findCredential(c.restUrl);c.credential||
c.authMode!==f.AUTH_MODE_AUTO||(c._esriId_credentialCreateHandle=b.on("credential-create",function(){b.findCredential(c.restUrl)&&c._signIn()}))}c.sourceJSON=a;c.read(a)});this.addResolvingPromise(e);return r.resolve(this)};g.prototype.createClosestFacilityTask=function(){return d.__awaiter(this,void 0,void 0,function(){var b,c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),b=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(b,
c){a(["../tasks/ClosestFacilityTask"],b,c)})];case 2:return c=e.sent(),[2,new c(b)]}})})};g.prototype.createElevationLayers=function(){return d.__awaiter(this,void 0,void 0,function(){var b,c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),b=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(b,c){a(["../layers/ElevationLayer"],b,c)})];case 2:return c=e.sent(),[2,b?b.map(function(a){return new c({id:a.id,url:a.url})}):
[]]}})})};g.prototype.createGeometryService=function(){return d.__awaiter(this,void 0,void 0,function(){var b,c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),b=this._getHelperServiceUrl("geometry"),[4,new Promise(function(b,c){a(["../tasks/GeometryService"],b,c)})];case 2:return c=e.sent(),[2,new c({url:b})]}})})};g.prototype.createPrintTask=function(){return d.__awaiter(this,void 0,void 0,function(){var b,c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,
this.load()];case 1:return e.sent(),b=this._getHelperServiceUrl("printTask"),[4,new Promise(function(b,c){a(["../tasks/PrintTask"],b,c)})];case 2:return c=e.sent(),[2,new c(b)]}})})};g.prototype.createRouteTask=function(){return d.__awaiter(this,void 0,void 0,function(){var b,c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),b=this._getHelperServiceUrl("route"),[4,new Promise(function(b,c){a(["../tasks/RouteTask"],b,c)})];case 2:return c=e.sent(),
[2,new c(b)]}})})};g.prototype.createServiceAreaTask=function(){return d.__awaiter(this,void 0,void 0,function(){var b,c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),b=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(b,c){a(["../tasks/ServiceAreaTask"],b,c)})];case 2:return c=e.sent(),[2,new c(b)]}})})};g.prototype.fetchBasemaps=function(a,b){var c=new v;c.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:
this.basemapGalleryGroupQuery);c.disableExtraQuery=!0;return this.queryGroups(c,b).then(function(a){c.num=100;c.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],c.sortField=a.sortField||"name",c.sortOrder=a.sortOrder||"desc",a.queryItems(c,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new w({portalItem:a})}):[]})};g.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+
"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):r.isAborted(a)?r.reject(r.createAbortError()):r.resolve([])};g.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,c=new v;c.num=100;c.sortField="title";if(b&&b.length){for(var e=[],d=0;d<b.length;d++){var g=b[d];e.push('(title:"'+g.title+'" AND owner:'+g.owner+")")}c.query=e.join(" OR ");return this.queryGroups(c,a).then(function(a){return a.results})}return r.isAborted(a)?r.reject(r.createAbortError()):
r.resolve([])};g.prototype.fetchRegions=function(a){var b=this.user&&this.user.culture||this.culture||k.getLocale();return this._request(this.restUrl+"/portals/regions",d.__assign(d.__assign({},a),{query:{culture:b}}))};g.getDefault=function(){if(!f._default||f._default.destroyed)f._default=new f;return f._default};g.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};g.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",
b)};g.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",b)};g.prototype.toJSON=function(){throw new e("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};g.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new f({sourceJSON:a})};g.prototype._getHelperService=function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new e("portal:service-not-found",
'The `helperServices` do not include an entry named "'+a+'"');return b};g.prototype._getHelperServiceUrl=function(a){var b=this._getHelperService(a);if(!b.url)throw new e("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};g.prototype._fetchSelf=function(a,b,c){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var e=this.restUrl+"/portals/self";a=d.__assign({authMode:a,query:{culture:k.getLocale().toLowerCase()}},c);"auto"===a.authMode&&
(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(e,a)};g.prototype._queryPortal=function(a,b,c,e){var g=this,h=l.ensureType(v,b),p=function(b){return g._request(g.restUrl+a,d.__assign(d.__assign({},h.toRequestOptions(g)),e)).then(function(a){var c=h.clone();c.start=a.nextStart;return new A({nextQueryParams:c,queryParams:h,total:a.total,results:f._resultsToTypedArray(b,{portal:g},a,e)})}).then(function(a){return r.all(a.results.map(function(b){return"function"===typeof b.when?
b.when():a})).then(function(){return a},function(b){r.throwIfAbortError(b);return a})})};return c&&u[c]?u[c]().then(function(a){r.throwIfAborted(e);return p(a)}):p()};g.prototype._signIn=function(){var a=this;if(this.authMode===f.AUTH_MODE_ANONYMOUS)return r.reject(new e("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return r.reject(this.loadError);var b=function(b){return r.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||
(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&(a.sourceJSON=b,a.read(b))})};return m.id?m.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};g.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,
"https:").replace(":7080",":7443")};g.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};g.prototype._requestToTypedArray=function(b,c,e){var d=this,g=function(a){return d._request(b,c).then(function(b){var c=f._resultsToTypedArray(a,{portal:d},b);return r.all(c.map(function(a){return"function"===typeof a.when?a.when():b})).then(function(){return c},function(){return c})})};return e?(new Promise(function(b,
c){a(["./"+e],b,c)})).then(function(a){return g(a)}):g()};g.prototype._request=function(a,b){void 0===b&&(b={});var c=d.__assign({f:"json"},b.query),e=b.authMode,g=b.body,l=b.cacheBust,p=b.method,q=b.responseType;b={authMode:void 0===e?this.authMode===f.AUTH_MODE_ANONYMOUS?"anonymous":"auto":e,body:void 0===g?null:g,cacheBust:void 0===l?!1:l,method:void 0===p?"auto":p,query:c,responseType:void 0===q?"json":q,timeout:0,signal:b.signal};return h(this._normalizeSSL(a),b).then(function(a){return a.data})};
g._resultsToTypedArray=function(a,c,e,d){if(e){var g=p.isSome(d)?d.signal:null;e=e.listings||e.notifications||e.userInvitations||e.tags||e.items||e.groups||e.comments||e.provisions||e.results||e.relatedItems||e;if(a||c)e=e.map(function(e){e=b.mixin(a?a.fromJSON(e):e,c);"function"===typeof e.load&&e.load(g);return e})}else e=[];return e};var f;g.AUTH_MODE_ANONYMOUS="anonymous";g.AUTH_MODE_AUTO="auto";g.AUTH_MODE_IMMEDIATE="immediate";d.__decorate([q.property()],g.prototype,"access",void 0);d.__decorate([q.property()],
g.prototype,"allSSL",void 0);d.__decorate([q.property()],g.prototype,"authMode",void 0);d.__decorate([q.property()],g.prototype,"authorizedCrossOriginDomains",void 0);d.__decorate([q.reader("authorizedCrossOriginDomains")],g.prototype,"readAuthorizedCrossOriginDomains",null);d.__decorate([q.property()],g.prototype,"basemapGalleryGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"bingKey",void 0);d.__decorate([q.property()],g.prototype,"canListApps",void 0);d.__decorate([q.property()],g.prototype,
"canListData",void 0);d.__decorate([q.property()],g.prototype,"canListPreProvisionedItems",void 0);d.__decorate([q.property()],g.prototype,"canProvisionDirectPurchase",void 0);d.__decorate([q.property()],g.prototype,"canSearchPublic",void 0);d.__decorate([q.property()],g.prototype,"canShareBingPublic",void 0);d.__decorate([q.property()],g.prototype,"canSharePublic",void 0);d.__decorate([q.property()],g.prototype,"canSignInArcGIS",void 0);d.__decorate([q.property()],g.prototype,"canSignInIDP",void 0);
d.__decorate([q.property()],g.prototype,"colorSetsGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"commentsEnabled",void 0);d.__decorate([q.property({type:Date})],g.prototype,"created",void 0);d.__decorate([q.property()],g.prototype,"credential",void 0);d.__decorate([q.property()],g.prototype,"culture",void 0);d.__decorate([q.property()],g.prototype,"currentVersion",void 0);d.__decorate([q.property()],g.prototype,"customBaseUrl",void 0);d.__decorate([q.property()],g.prototype,"defaultBasemap",
void 0);d.__decorate([q.reader("defaultBasemap")],g.prototype,"readDefaultBasemap",null);d.__decorate([q.property({type:t})],g.prototype,"defaultExtent",void 0);d.__decorate([q.property()],g.prototype,"defaultVectorBasemap",void 0);d.__decorate([q.reader("defaultVectorBasemap")],g.prototype,"readDefaultVectorBasemap",null);d.__decorate([q.property()],g.prototype,"description",void 0);d.__decorate([q.property()],g.prototype,"eueiEnabled",void 0);d.__decorate([q.property({dependsOn:["user","id","canSearchPublic"],
readOnly:!0})],g.prototype,"extraQuery",null);d.__decorate([q.property()],g.prototype,"featuredGroups",void 0);d.__decorate([q.property()],g.prototype,"featuredItemsGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"galleryTemplatesGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"livingAtlasGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"hasCategorySchema",void 0);d.__decorate([q.property()],g.prototype,"helpBase",void 0);d.__decorate([q.property()],g.prototype,
"helperServices",void 0);d.__decorate([q.property()],g.prototype,"helpMap",void 0);d.__decorate([q.property()],g.prototype,"homePageFeaturedContent",void 0);d.__decorate([q.property()],g.prototype,"homePageFeaturedContentCount",void 0);d.__decorate([q.property()],g.prototype,"httpPort",void 0);d.__decorate([q.property()],g.prototype,"httpsPort",void 0);d.__decorate([q.property()],g.prototype,"id",void 0);d.__decorate([q.property()],g.prototype,"ipCntryCode",void 0);d.__decorate([q.property({dependsOn:["access"],
readOnly:!0})],g.prototype,"isOrganization",null);d.__decorate([q.property()],g.prototype,"isPortal",void 0);d.__decorate([q.property()],g.prototype,"isReadOnly",void 0);d.__decorate([q.property()],g.prototype,"layerTemplatesGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"maxTokenExpirationMinutes",void 0);d.__decorate([q.property({type:Date})],g.prototype,"modified",void 0);d.__decorate([q.property()],g.prototype,"name",void 0);d.__decorate([q.property()],g.prototype,"portalHostname",
void 0);d.__decorate([q.property()],g.prototype,"portalMode",void 0);d.__decorate([q.property()],g.prototype,"portalProperties",void 0);d.__decorate([q.property()],g.prototype,"region",void 0);d.__decorate([q.property({dependsOn:["url"],readOnly:!0})],g.prototype,"restUrl",null);d.__decorate([q.property()],g.prototype,"rotatorPanels",void 0);d.__decorate([q.property()],g.prototype,"showHomePageDescription",void 0);d.__decorate([q.property()],g.prototype,"sourceJSON",void 0);d.__decorate([q.property()],
g.prototype,"staticImagesUrl",void 0);d.__decorate([q.property()],g.prototype,"stylesGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"supportsHostedServices",void 0);d.__decorate([q.property()],g.prototype,"symbolSetsGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"templatesGroupQuery",void 0);d.__decorate([q.property()],g.prototype,"thumbnail",void 0);d.__decorate([q.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],g.prototype,"thumbnailUrl",null);d.__decorate([q.property()],
g.prototype,"units",void 0);d.__decorate([q.property()],g.prototype,"url",void 0);d.__decorate([q.property()],g.prototype,"urlKey",void 0);d.__decorate([q.reader("urlKey")],g.prototype,"readUrlKey",null);d.__decorate([q.property()],g.prototype,"user",void 0);d.__decorate([q.reader("user")],g.prototype,"readUser",null);d.__decorate([q.property()],g.prototype,"useStandardizedQuery",void 0);d.__decorate([q.property()],g.prototype,"useVectorBasemaps",void 0);d.__decorate([q.property()],g.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return g=f=d.__decorate([q.subclass("esri.portal.Portal")],g)}(c.JSONSupportMixin(g))})},"esri/intl":function(){define("require exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages".split(" "),function(a,f,d,n,k,m,h){Object.defineProperty(f,"__esModule",{value:!0});f.formatDate=d.formatDate;f.convertDateFormatToIntlOptions=d.convertDateFormatToIntlOptions;f.formatNumber=n.formatNumber;f.convertNumberFormatToIntlOptions=n.convertNumberFormatToIntlOptions;f.substitute=
k.substitute;f.getLocale=m.getLocale;f.setLocale=m.setLocale;f.onLocaleChange=m.onLocaleChange;f.prefersRTL=m.prefersRTL;f.loadMessageBundle=h.loadMessageBundle;f.getKnownMessageBundleLocale=h.getKnownMessageBundleLocale})},"esri/intl/date":function(){define("require exports tslib @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(a,f,d,n,k,m){function h(a){a=a||t;if(!l.has(a)){var b=m.getLocale(),b=q[m.getLocale()]||b;l.set(a,new Intl.DateTimeFormat(b,a))}return l.get(a)}
Object.defineProperty(f,"__esModule",{value:!0});a={year:"numeric",month:"numeric",day:"numeric"};var e={year:"numeric",month:"long",day:"numeric"},c={year:"numeric",month:"short",day:"numeric"},b={year:"numeric",month:"long",weekday:"long",day:"numeric"},g={hour:"numeric",minute:"numeric"},p=d.__assign(d.__assign({},g),{second:"numeric"}),r={"short-date":a,"short-date-short-time":d.__assign(d.__assign({},a),g),"short-date-short-time-24":d.__assign(d.__assign(d.__assign({},a),g),{hour12:!1}),"short-date-long-time":d.__assign(d.__assign({},
a),p),"short-date-long-time-24":d.__assign(d.__assign(d.__assign({},a),p),{hour12:!1}),"short-date-le":a,"short-date-le-short-time":d.__assign(d.__assign({},a),g),"short-date-le-short-time-24":d.__assign(d.__assign(d.__assign({},a),g),{hour12:!1}),"short-date-le-long-time":d.__assign(d.__assign({},a),p),"short-date-le-long-time-24":d.__assign(d.__assign(d.__assign({},a),p),{hour12:!1}),"long-month-day-year":e,"long-month-day-year-short-time":d.__assign(d.__assign({},e),g),"long-month-day-year-short-time-24":d.__assign(d.__assign(d.__assign({},
e),g),{hour12:!1}),"long-month-day-year-long-time":d.__assign(d.__assign({},e),p),"long-month-day-year-long-time-24":d.__assign(d.__assign(d.__assign({},e),p),{hour12:!1}),"day-short-month-year":c,"day-short-month-year-short-time":d.__assign(d.__assign({},c),g),"day-short-month-year-short-time-24":d.__assign(d.__assign(d.__assign({},c),g),{hour12:!1}),"day-short-month-year-long-time":d.__assign(d.__assign({},c),p),"day-short-month-year-long-time-24":d.__assign(d.__assign(d.__assign({},c),p),{hour12:!1}),
"long-date":b,"long-date-short-time":d.__assign(d.__assign({},b),g),"long-date-short-time-24":d.__assign(d.__assign(d.__assign({},b),g),{hour12:!1}),"long-date-long-time":d.__assign(d.__assign({},b),p),"long-date-long-time-24":d.__assign(d.__assign(d.__assign({},b),p),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":g,"long-time":p};f.dictionary=k.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",
shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",
longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",
longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});f.dateFormats=f.dictionary.apiValues;f.toJSON=f.dictionary.toJSON.bind(f.dictionary);f.fromJSON=f.dictionary.fromJSON.bind(f.dictionary);var q={ar:"ar-u-nu-latn-ca-gregory"},l=new n.default,t=r["short-date-short-time"];m.beforeLocaleChange(function(){l=new n.default;t=r["short-date-short-time"]});f.getDateTimeFormatter=h;f.convertDateFormatToIntlOptions=
function(a){return r[a]||null};f.formatDate=function(a,b){return h(b).format(a)}})},"@dojo/framework/shim/WeakMap":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),a)})(function(a,f){Object.defineProperty(f,"__esModule",{value:!0});var d=a("tslib"),n=a("./global"),k=a("./iterator"),m=a("../has/has");
a("./Symbol");f.WeakMap=n.default.WeakMap;if(!m.default("es6-weakmap")){var h={},e=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();f.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=e();this._frozenEntries=[];if(a)if(k.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(b=d.__values(a),c=b.next();!c.done;c=b.next()){var f=d.__read(c.value,2);this.set(f[0],f[1])}}catch(t){h=
{error:t}}finally{try{c&&!c.done&&(l=b.return)&&l.call(b)}finally{if(h)throw h.error;}}var h,l}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==h)return b.value=h,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==
a){var b=a[this._name];if(b&&b.key===a&&b.value!==h)return b.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==h||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,c){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var b=a[this._name];b&&b.key===a||(b=Object.create(null,{key:{value:a}}),
Object.isFrozen(a)?this._frozenEntries.push(b):Object.defineProperty(a,this._name,{value:b}));b.value=c;return this};return a}()}f.default=f.WeakMap})},"esri/intl/locale":function(){define(["require","exports","tslib","../core/global"],function(a,f,d,n){function k(){var a,b;return null!==(b=null!==q&&void 0!==q?q:null===(a=n.navigator)||void 0===a?void 0:a.language)&&void 0!==b?b:"en"}function m(){void 0===r&&(r=k());return r}function h(){var a=null!==p&&void 0!==p?p:k();r!==a&&(r=a,d.__spreadArrays(v).forEach(function(b){b.call(null,
a)}),d.__spreadArrays(t).forEach(function(b){b.call(null,a)}))}var e,c,b,g;Object.defineProperty(f,"__esModule",{value:!0});var p=void 0,r=void 0,q=null!==(c=null===(e=n.esriConfig)||void 0===e?void 0:e.locale)&&void 0!==c?c:null===(b=n.dojoConfig)||void 0===b?void 0:b.locale;f.getDefaultLocale=k;f.getLocale=m;f.setLocale=function(a){p=a?a:void 0;h()};var l={he:!0,ar:!0};f.prefersRTL=function(a){void 0===a&&(a=m());a=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(a);a=null===a||void 0===a?void 0:a[1].toLowerCase();
return l[a]||!1};var t=[];f.onLocaleChange=function(a){t.push(a);return{remove:function(){t.splice(t.indexOf(a),1)}}};var v=[];f.beforeLocaleChange=function(a){v.push(a);return{remove:function(){t.splice(v.indexOf(a),1)}}};null===(g=n.addEventListener)||void 0===g?void 0:g.call(n,"languagechange",h)})},"esri/intl/number":function(){define(["require","exports","@dojo/framework/shim/WeakMap","./locale"],function(a,f,d,n){function k(a){var b=a||e;if(!h.has(b)){var c=n.getLocale(),c=m[n.getLocale()]||
c;h.set(b,new Intl.NumberFormat(c,a))}return h.get(b)}Object.defineProperty(f,"__esModule",{value:!0});var m={ar:"ar-u-nu-latn"},h=new d.default,e={};n.beforeLocaleChange(function(){h=new d.default;e={}});f.getFormatter=k;f.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};f.formatNumber=function(a,b){return k(b).format(a)}})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(a,f,d,n,k,m,h){function e(a){switch(typeof a){case "string":return a;case "number":return h.formatNumber(a);case "boolean":return""+a;default:return a instanceof Date?m.formatDate(a):""}}Object.defineProperty(f,"__esModule",{value:!0});var c=d.getLogger("esri.intl");f.substitute=function(a,d,f){void 0===f&&(f={});f=f.format;var b=void 0===f?{}:f;return k.replace(a,function(a){var g;var f,p=a.indexOf(":");-1===p?f=a.trim():(f=a.slice(0,p).trim(),g=a.slice(p+1).trim());if(f)if(a=n.getDeepValue(f,
d),null==a)g="";else if(f=b[g]||b[f])b:switch(f.type){case "date":g=m.formatDate(a,f.intlOptions);break b;case "number":g=h.formatNumber(a,f.intlOptions);break b;default:c.warn("missing format descriptor for key {key}"),g=e(a)}else if(g)b:switch(g.toLowerCase()){case "dateformat":g=m.formatDate(a);break b;case "numberformat":g=h.formatNumber(a);break b;default:c.warn("inline format is unsupported since 4.12: "+g),g=/^(dateformat|datestring)/i.test(g)?m.formatDate(a):/^numberformat/i.test(g)?h.formatNumber(a):
e(a)}else g=e(a);else g="";return g})}})},"esri/intl/messages":function(){define("require exports tslib ../assets ../core/Error ../core/maybe ../core/promiseUtils ../core/SetUtils ./locale @dojo/framework/shim/Promise".split(" "),function(a,f,d,n,k,m,h,e,c){function b(a){if(!r.test(a))return null;var b=r.exec(a);a=b[1];b=b[2];b=a+(b?"-"+b.toUpperCase():"");return q.has(b)?b:q.has(a)?a:null}function g(a){return d.__awaiter(this,void 0,void 0,function(){var e,g,f,l,h,q,r,m,t;return d.__generator(this,
function(d){switch(d.label){case 0:e=/^(.*)\/t9n\/(.*)$/g.exec(a);if(!e)throw new k("esri-intl:invalid-bundle",'Missing "t9n" folder in locale bundle path "'+a+'"');g=e[1]+"/t9n/";f=e[2];l=c.getLocale();h=b(l);q=""+g+f+".json";r=h?""+g+f+"_"+h+".json":q;d.label=1;case 1:return d.trys.push([1,3,,8]),[4,p(r)];case 2:return m=d.sent(),[3,8];case 3:t=d.sent();if(r===q)throw t;d.label=4;case 4:return d.trys.push([4,6,,7]),[4,p(q)];case 5:return m=d.sent(),[3,7];case 6:throw d.sent(),new k("esri-intl:unknown-bundle",
'Bundle "'+a+'" cannot be loaded',{error:t});case 7:return[3,8];case 8:return[2,m]}})})}function p(a){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(c){switch(c.label){case 0:return m.isSome(f.test.fetchBundleAsset)?[2,f.test.fetchBundleAsset(a)]:[4,n.fetchAsset(a,{responseType:"json"})];case 1:return b=c.sent(),[2,b.data]}})})}Object.defineProperty(f,"__esModule",{value:!0});var r=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,q=e.SetFromValues("ar bs ca cs da de el en es et fi fr he hi hr hu id it ja ko lt lv nb nl pl pt-BR pt-PT ro ru sl sr sv th tr uk vi zh-CN zh-HK zh-TW".split(" ")),
l=new Map;c.beforeLocaleChange(function(){l.clear()});f.loadMessageBundle=function(a){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(c){switch(c.label){case 0:return l.has(a)||l.set(a,g(a)),b=l.get(a),[4,t.add(b)];case 1:return c.sent(),[2,b]}})})};f.getKnownMessageBundleLocale=b;var t=new (function(){function a(){this._numLoading=0}a.prototype.waitForAll=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(a){switch(a.label){case 0:return this._dfd?
[4,this._dfd.promise]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})};a.prototype.add=function(a){var b=this;this._increase();a.then(function(){return b._decrease()},function(){return b._decrease()});return this.waitForAll()};a.prototype._increase=function(){this._numLoading++;this._dfd||(this._dfd=h.createDeferred())};a.prototype._decrease=function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return a}());f.test={cache:l}})},
"esri/assets":function(){define(["require","exports","./request","./core/urlUtils"],function(a,f,d,n){function k(d){return n.join(a.toUrl("."),"../",d)}Object.defineProperty(f,"__esModule",{value:!0});f.fetchAsset=function(a,f){return d(k(a),f)};f.getAssetUrl=k})},"esri/core/Loadable":function(){define("require exports tslib ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(a,f,d,n,k,m,h,e){var c=function(a){return function(a){function b(){for(var b=[],c=
0;c<arguments.length;c++)b[c]=arguments[c];var e=a.apply(this,b)||this;e.loadError=null;e.loadStatus="not-loaded";e.loadWarnings=null;e._set("loadWarnings",[]);e.addResolvingPromise(m.create(function(a){var b=e.load.bind(e);e.load=function(c){var d=m.create(function(a,b){m.onAbortOrThrow(c,b);e.destroyed&&b(new n("load:instance-destroyed","Instance is destroyed",{instance:e}));e._promiseProps.when(a,b)});if("not-loaded"===e.loadStatus){e._set("loadStatus","loading");var g=e._loadController=m.createAbortController();
b({signal:g.signal});m.onAbort(g.signal,function(){e._promiseProps.abort()})}a();return d}}));e.when(function(){e._set("loadStatus","loaded");e._loadController=null},function(a){e._set("loadStatus","failed");e._set("loadError",a);e._loadController=null});return e}d.__extends(b,a);Object.defineProperty(b.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});b.prototype.load=function(){return null};b.prototype.cancelLoad=function(){if(this.isFulfilled())return this;
this._set("loadError",new n("load:cancelled","Cancelled"));this._loadController.abort();return this};d.__decorate([e.property({readOnly:!0,dependsOn:["loadStatus"]})],b.prototype,"loaded",null);d.__decorate([e.property({readOnly:!0})],b.prototype,"loadError",void 0);d.__decorate([e.property()],b.prototype,"loadStatus",void 0);d.__decorate([e.property({type:[h],readOnly:!0})],b.prototype,"loadWarnings",void 0);return b=d.__decorate([e.subclass("esri.core.Loadable")],b)}(a)};a=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}d.__extends(b,a);return b=d.__decorate([e.subclass("esri.core.Loadable")],b)}(c(k.EsriPromise));(function(a){a.LoadableMixin=c;a.isLoadable=function(a){return!(!a||!a.load)}})(a||(a={}));return a})},"esri/core/Promise":function(){define("require exports tslib ./Accessor ./promiseUtils ./accessorSupport/decorators".split(" "),function(a,f,d,n,k,m){Object.defineProperty(f,"__esModule",{value:!0});var h=function(){function a(a){var b=this;this.instance=a;this._resolver=
k.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===this._status};a.prototype.isFulfilled=function(){return null!=this._status};a.prototype.abort=function(){this._resolver.reject(k.createAbortError())};
a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=k.createDeferred(),e=d.__spreadArrays(this._resolvingPromises,[b.promise]),f=this._allPromise=k.all(e);f.then(function(){a.isFulfilled()||a._allPromise!==f||a._resolver.resolve(a.instance)},function(b){a.isFulfilled()||a._allPromise!==f||k.isAbortError(b)||
a._resolver.reject(b)});b.resolve()}};return a}();f.EsriPromiseMixin=function(a){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b._promiseProps=new h(b);b.addResolvingPromise(k.resolve());return b}d.__extends(b,a);b.prototype.isResolved=function(){return this._promiseProps.isResolved()};b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};
b.prototype.when=function(a,b){var c=this;return k.create(function(a,b){c._promiseProps.when(a,b)}).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return b=d.__decorate([m.subclass("esri.core.Promise")],b)}(a)};a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}d.__extends(c,a);return c=d.__decorate([m.subclass("esri.core.Promise")],
c)}(f.EsriPromiseMixin(n));f.EsriPromise=a})},"esri/portal/PortalQueryParams":function(){define("require exports tslib ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,f,d,n,k,m,h,e,c,b){var g=new k.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function f(b){b=a.call(this,b)||this;
b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}d.__extends(f,a);p=f;Object.defineProperty(f.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,configurable:!0});f.prototype.clone=function(){return new p({categories:this.categories?m.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():
null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};f.prototype.toRequestOptions=function(a,e){var f;this.categories&&(f=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var l;if(this.extent){var h=b.project(this.extent,c.WGS84);h&&(l=h.xmin+","+h.ymin+","+h.xmax+","+h.ymax)}h=this.query;!this.disableExtraQuery&&a.extraQuery&&(h="("+h+")"+a.extraQuery);a={categories:f,bbox:l,q:h,num:this.num,sortField:null,sortOrder:null,
start:this.start};this.sortField&&(a.sortField=this.sortField.split(",").map(function(a){return g.toJSON(a.trim())}).join(","),a.sortOrder=this.sortOrder);return{query:d.__assign(d.__assign({},e),a)}};var p;d.__decorate([h.property()],f.prototype,"categories",void 0);d.__decorate([h.property()],f.prototype,"disableExtraQuery",void 0);d.__decorate([h.property({type:e})],f.prototype,"extent",void 0);d.__decorate([h.property()],f.prototype,"num",void 0);d.__decorate([h.property()],f.prototype,"query",
void 0);d.__decorate([h.property()],f.prototype,"sortField",void 0);d.__decorate([h.property()],f.prototype,"sortOrder",null);d.__decorate([h.property()],f.prototype,"start",void 0);return f=p=d.__decorate([h.subclass("esri.portal.PortalQueryParams")],f)}(n)})},"esri/portal/PortalQueryResult":function(){define(["require","exports","tslib","../core/Accessor","../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(e){e=a.call(this,e)||this;e.nextQueryParams=null;e.queryParams=
null;e.results=null;e.total=null;return e}d.__extends(f,a);d.__decorate([k.property()],f.prototype,"nextQueryParams",void 0);d.__decorate([k.property()],f.prototype,"queryParams",void 0);d.__decorate([k.property()],f.prototype,"results",void 0);d.__decorate([k.property()],f.prototype,"total",void 0);return f=d.__decorate([k.subclass("esri.portal.PortalQueryResult")],f)}(n)})},"esri/portal/PortalUser":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup @dojo/framework/shim/Promise".split(" "),
function(a,f,d,n,k,m,h,e,c){return function(b){function g(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.sourceJSON=null;a.units=null;a.username=null;a.userType=null;return a}d.__extends(g,b);f=g;Object.defineProperty(g.prototype,"thumbnailUrl",{get:function(){var a=
this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});g.prototype.addItem=
function(a){var b=this,c=a&&a.item,e=a&&a.data;a=a&&a.folder;var d={method:"post"};c&&(d.query=c.createPostQuery(),null!=e&&("string"===typeof e?d.query.text=e:"object"===typeof e&&(d.query.text=JSON.stringify(e))));e=this.userContentUrl;a&&(e+="/"+("string"===typeof a?a:a.id));return this.portal._request(e+"/addItem",d).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c.reload():c.load()})};g.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);
return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=null;a.portal=null})};g.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):m.resolve(void 0)};g.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&
b.folders?b.folders.map(function(b){b=e.fromJSON(b);b.portal=a.portal;return b}):[]})};g.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=c.fromJSON(b);b.portal=a.portal;return b}):[]})};g.prototype.fetchItems=function(b){var c=this;b||(b={});var e=this.userContentUrl;b.folder&&(e+="/"+b.folder.id);var d;return(new Promise(function(b,c){a(["./PortalItem"],b,c)})).then(function(a){d=a;return c.portal._request(e,
{query:{folders:!1,num:b.num||10,start:b.start||1,sortField:b.sortField||"created",sortOrder:b.sortOrder||"asc"}})}).then(function(a){var b;return a&&a.items?(b=a.items.map(function(a){a=d.fromJSON(a);a.portal=c.portal;return a}),m.all(b.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};g.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};
g.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};g.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new c({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(a)):m.reject(new n("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};g.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};g.fromJSON=
function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var b=new f;b.sourceJSON=a;b.read(a);return b};var f;d.__decorate([h.property()],g.prototype,"access",void 0);d.__decorate([h.property({type:Date})],g.prototype,"created",void 0);d.__decorate([h.property()],g.prototype,"culture",void 0);d.__decorate([h.property()],g.prototype,"description",void 0);d.__decorate([h.property()],g.prototype,"email",void 0);d.__decorate([h.property()],g.prototype,"favGroupId",
void 0);d.__decorate([h.property()],g.prototype,"fullName",void 0);d.__decorate([h.property({type:Date})],g.prototype,"modified",void 0);d.__decorate([h.property()],g.prototype,"orgId",void 0);d.__decorate([h.property()],g.prototype,"portal",void 0);d.__decorate([h.property()],g.prototype,"preferredView",void 0);d.__decorate([h.property()],g.prototype,"privileges",void 0);d.__decorate([h.property()],g.prototype,"region",void 0);d.__decorate([h.property()],g.prototype,"role",void 0);d.__decorate([h.property()],
g.prototype,"roleId",void 0);d.__decorate([h.property()],g.prototype,"sourceJSON",void 0);d.__decorate([h.property()],g.prototype,"thumbnail",void 0);d.__decorate([h.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],g.prototype,"thumbnailUrl",null);d.__decorate([h.property()],g.prototype,"units",void 0);d.__decorate([h.property({dependsOn:["portal.restUrl"],readOnly:!0})],g.prototype,"userContentUrl",null);d.__decorate([h.property({dependsOn:["portal.restUrl"],readOnly:!0})],
g.prototype,"url",null);d.__decorate([h.property()],g.prototype,"username",void 0);d.__decorate([h.property()],g.prototype,"userType",void 0);return g=f=d.__decorate([h.subclass("esri.portal.PortalUser")],g)}(k.JSONSupport)})},"esri/portal/PortalFolder":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,f,d,n,k,m){return function(a){function e(c){c=a.call(this,c)||this;c.created=null;c.id=null;c.portal=null;c.title=
null;c.username=null;return c}d.__extends(e,a);Object.defineProperty(e.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});e.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};d.__decorate([m.property({type:Date})],e.prototype,"created",void 0);d.__decorate([m.property()],e.prototype,"id",void 0);d.__decorate([m.property()],e.prototype,
"portal",void 0);d.__decorate([m.property()],e.prototype,"title",void 0);d.__decorate([m.property({dependsOn:["portal.restUrl"],readOnly:!0})],e.prototype,"url",null);d.__decorate([m.property()],e.prototype,"username",void 0);return e=d.__decorate([m.subclass("esri.portal.PortalFolder")],e)}(k.JSONSupport)})},"esri/portal/PortalGroup":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),
function(a,f,d,n,k,m,h,e){return function(a){function b(b){b=a.call(this,b)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}d.__extends(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(c){c=c.categorySchema||[];return c.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):c})};b.prototype.fetchMembers=function(a){return this.portal._request(this.url+
"/users",a)};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a,b){a=h.ensureType(e,a);if(5<parseFloat(this.portal.currentVersion))return a=a||new e,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new e;a.query="group:"+this.id+(a.query?" "+a.query:"");
return this.portal.queryItems(a,b)};b.prototype._fetchCategorySchemaSet=function(a,b){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var d=new e;d.disableExtraQuery=!0;d.num=1;d.query=a;return c.portal.queryGroups(d,b)}throw new n("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var d=new e;d.num=1;d.query='typekeywords:"'+a+'"';return c.queryItems(d,
b)}throw new n("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):[]})};d.__decorate([m.property()],b.prototype,"access",void 0);d.__decorate([m.property({type:Date})],b.prototype,"created",void 0);d.__decorate([m.property()],b.prototype,"description",void 0);d.__decorate([m.property()],b.prototype,"id",void 0);d.__decorate([m.property()],
b.prototype,"isInvitationOnly",void 0);d.__decorate([m.property({type:Date})],b.prototype,"modified",void 0);d.__decorate([m.property()],b.prototype,"owner",void 0);d.__decorate([m.property()],b.prototype,"portal",void 0);d.__decorate([m.property()],b.prototype,"snippet",void 0);d.__decorate([m.property()],b.prototype,"sortField",void 0);d.__decorate([m.property()],b.prototype,"sortOrder",void 0);d.__decorate([m.property()],b.prototype,"tags",void 0);d.__decorate([m.property()],b.prototype,"thumbnail",
void 0);d.__decorate([m.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);d.__decorate([m.property()],b.prototype,"title",void 0);d.__decorate([m.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);return b=d.__decorate([m.subclass("esri.portal.PortalGroup")],b)}(k.JSONSupport)})},"esri/symbols/Symbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,f,d,n,k,m,h){var e=new k.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),c=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+c++;b.type=null;return b}d.__extends(b,a);Object.defineProperty(b.prototype,
"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});b.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.collectRequiredFields=function(a,b){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(a){return[2]})})};b.prototype.hash=function(){return JSON.stringify(this.toJSON())};b.prototype.clone=function(){};d.__decorate([h.property({type:e.apiValues,json:{read:e.read,write:{ignoreOrigin:!0,writer:e.write}}})],
b.prototype,"type",void 0);d.__decorate([h.property({type:n,value:new n([0,0,0,1]),json:{write:{allowNull:!0}}})],b.prototype,"color",null);d.__decorate([h.reader("color")],b.prototype,"readColor",null);return b=d.__decorate([h.subclass("esri.symbols.Symbol")],b)}(m.JSONSupport)})},"esri/symbols/cim/cimSymbolUtils":function(){define("require exports tslib ../../request ../../core/Logger ../../core/promiseUtils ./cimAnalyzer".split(" "),function(a,f,d,n,k,m,h){function e(a,b){return d.__awaiter(this,
void 0,void 0,function(){var e,g;return d.__generator(this,function(d){switch(d.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];e=a.styleName;g=a;return[4,c(e,a.styleUrl,b)];case 1:return g.data=d.sent(),[2,a]}})})}function c(a,b,c){return d.__awaiter(this,void 0,void 0,function(){var e,l;return d.__generator(this,function(h){if(q.has(a))return[2,q.get(a).then(function(a){return f.makeSymbolRef(a.data)})];try{return e=b+"/resources/styles/cim/"+a+".json",l=n(e,d.__assign({responseType:"json",
query:{f:"json"}},c)),q.set(a,l),[2,l.then(function(a){return f.makeSymbolRef(a.data)})]}catch(u){return g.error("error requesting "+a+", reason is "+u.message),q.has(a)&&q.delete(a),[2,null]}})})}var b=this;Object.defineProperty(f,"__esModule",{value:!0});var g=k.getLogger("esri/symbols/support/cimSymbolUtils"),p=function(){function a(a,b){this.layers=a;this.data=b}Object.defineProperty(a.prototype,"type",{get:function(){return"expanded-cim"},enumerable:!0,configurable:!0});a.prototype.hash=function(){for(var a=
"",b=0,c=this.layers;b<c.length;b++)a+=c[b].templateHash;return a};return a}();f.expandSymbols=function(a,c,e){return d.__awaiter(b,void 0,void 0,function(){return d.__generator(this,function(b){return[2,m.all(a.map(function(a){return f.expandSymbol(a,c,e)}))]})})};var r=function(a,c){return d.__awaiter(b,void 0,void 0,function(){var b;return d.__generator(this,function(e){switch(e.label){case 0:return b=p.bind,[4,h.analyzeCIMSymbol(a.data,c)];case 1:return[2,new (b.apply(p,[void 0,e.sent(),a.data]))]}})})};
f.expandSymbol=function(a,c,g){return d.__awaiter(b,void 0,void 0,function(){var b,f;return d.__generator(this,function(d){switch(d.label){case 0:if(!a)return[2,null];if("cim"!==a.type)return[3,2];b=r;return[4,e(a,g)];case 1:return[2,b.apply(void 0,[d.sent(),c])];case 2:if("web-style"!==a.type)return[3,4];f=r;return[4,a.fetchCIMSymbol(g)];case 3:return[2,f.apply(void 0,[d.sent(),c])];case 4:return[2,a]}})})};f.fetchSymbol=function(a,b){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,
function(c){return a?"cim"===a.type?[2,e(a,b)]:"web-style"===a.type?[2,a.fetchCIMSymbol(b)]:[2,a]:[2,null]})})};f.fetchCIMData=e;f.makeSymbolRef=function(a,b){return null===a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a,primitiveOverrides:b}};var q=new Map})},"esri/symbols/cim/cimAnalyzer":function(){define("require exports tslib ../../Color ../../core/Logger ../../core/promiseUtils ../../core/screenUtils ../../core/string ../../support/arcadeOnDemand ./CIMSymbolHelper ./SDFHelper ./utils ../../views/2d/arcade/utils".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r){function q(a){switch(a){case "Butt":return 0;case "Square":return 2;default:return 1}}function l(a){switch(a){case "Bevel":return 0;case "Miter":return 2;default:return 1}}function t(a){switch(a){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"justify"}}function v(a){switch(a){default:return"top";case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}}function A(a){var b="normal",
c="normal";a&&(a=a.toLowerCase(),-1!==a.indexOf("italic")?b="italic":-1!==a.indexOf("oblique")&&(b="oblique"),-1!==a.indexOf("bold")?c="bold":-1!==a.indexOf("light")&&(c="lighter"));return{style:b,weight:c}}function x(a,b,c,e){var d;a[b]?d=a[b]:(d={},a[b]=d);d[c]=e}function w(a){return(a=a.markerPlacement)&&a.angleToLine?1:0}function u(a,c,d,g,f,h){if(a){var p=a.symbolLayers;if(p){var r,k=b.CIMSymbolHelper.getSize(a);"CIMPointSymbol"===a.type&&"Map"===a.angleAlignment&&(r=1);for(var m=p.length;m--;){var t=
p[m];if(t&&!1!==t.enable){var n=[];b.OverrideHelper.findApplicableOverrides(t,c,n);switch(t.type){case "CIMSolidFill":y(t,d,n,g,f);break;case "CIMPictureFill":C(t,d,n,g,f);break;case "CIMHatchFill":z(t,d,n,g,f);break;case "CIMGradientFill":var v=d,x=g,A=f,u=e.numericHash(JSON.stringify(t)).toString();A.push({type:"fill",templateHash:u,materialHash:0===n.length?u:M(u,v,n,x),cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,
offsetY:0,scaleX:1});break;case "CIMSolidStroke":D(t,d,n,g,f,"CIMPolygonSymbol"===a.type,k);break;case "CIMPictureStroke":B(t,d,n,g,f,"CIMPolygonSymbol"===a.type,k);break;case "CIMGradientStroke":var v=d,x=g,A=f,u="CIMPolygonSymbol"===a.type,L=k,O=t.primitiveName,J=void 0!==t.width?t.width:4,R=q(t.capStyle),S=l(t.joinStyle),N=t.miterLimit,T=e.numericHash(JSON.stringify(t)).toString();A.push({type:"line",templateHash:T,materialHash:0===n.length?T:M(T,v,n,x),cim:t,materialOverrides:null,isOutline:u,
colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},width:I(O,v,"Width",x,J),cap:I(O,v,"CapStyle",x,R),join:I(O,v,"JoinStyle",x,S),miterLimit:I(O,v,"MiterLimit",x,N),referenceWidth:L,zOrder:K(t.name),isDashed:!1});break;case "CIMCharacterMarker":E(t,d,n,g,f);break;case "CIMPictureMarker":if(E(t,d,n,g,f))break;"CIMLineSymbol"===a.type&&(r=w(t));F(t,d,n,g,f,r,k);break;case "CIMVectorMarker":if(E(t,d,n,g,f))break;"CIMLineSymbol"===a.type&&(r=w(t));v=n;n=d;x=g;A=f;u=r;L=k;O=h;if(S=
t.markerGraphics)for(J=0,t.scaleSymbolsProportionally&&(R=t.frame)&&(J=R.ymax-R.ymin),R=0;R<S.length;R++)if(N=S[R])if(T=N.symbol)switch(T.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":G(t,N,v,n,x,A,u,L,J,O);break;case "CIMTextSymbol":H(t,N,n,v,x,A,u,L,J)}break;default:Q.error("Cannot analyze CIM layer",t.type)}}}}}}function y(a,b,c,d,g){var f=a.primitiveName,l=p.fromCIMColor(a.color),h=e.numericHash(JSON.stringify(a)).toString();g.push({type:"fill",templateHash:h,materialHash:0===
c.length?h:function(){return h},cim:a,materialOverrides:null,colorLocked:a.colorLocked,color:I(f,b,"Color",d,l,J),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:a.effects})}function C(a,b,c,d,g){var f=a.primitiveName,l=a.tintColor?p.fromCIMColor(a.tintColor):{r:255,g:255,b:255,a:1},h=e.numericHash(JSON.stringify(a)).toString(),q=e.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString();g.push({type:"fill",templateHash:h,materialHash:0===c.length?q:function(){return q},cim:a,materialOverrides:null,
colorLocked:a.colorLocked,effects:a.effects,color:I(f,b,"TintColor",d,l,J),height:I(f,b,"Height",d,a.height),scaleX:I(f,b,"ScaleX",d,a.scaleX),angle:I(f,b,"Rotation",d,a.rotation),offsetX:I(f,b,"OffsetX",d,a.offsetX),offsetY:I(f,b,"OffsetY",d,a.offsetY)})}function z(a,b,c,d,g){var f=["Rotation","OffsetX","OffsetY"],l=c.filter(function(b){return b.primitiveName!==a.primitiveName&&-1===f.indexOf(b.propertyName)}),h=a.primitiveName,p=e.numericHash(JSON.stringify(a)).toString(),q=e.numericHash(""+a.separation+
JSON.stringify(a.lineSymbol)).toString();g.push({type:"fill",templateHash:p,materialHash:0===c.length?q:M(q,b,l,d),cim:a,materialOverrides:l,colorLocked:a.colorLocked,effects:a.effects,color:{r:255,g:255,b:255,a:1},height:I(h,b,"Separation",d,a.separation),scaleX:1,angle:I(h,b,"Rotation",d,a.rotation),offsetX:I(h,b,"OffsetX",d,a.offsetX),offsetY:I(h,b,"OffsetY",d,a.offsetY)})}function D(a,b,c,d,g,f,h){var r=e.numericHash(JSON.stringify(a)).toString(),k=a.primitiveName,m=p.fromCIMColor(a.color),t=
void 0!==a.width?a.width:4,n=q(a.capStyle),v=l(a.joinStyle),x=a.miterLimit;g.push({type:"line",templateHash:r,materialHash:0===c.length?r:function(){return r},cim:a,materialOverrides:null,isOutline:f,colorLocked:a.colorLocked,effects:a.effects,color:I(k,b,"Color",d,m,J),width:I(k,b,"Width",d,t),cap:I(k,b,"CapStyle",d,n),join:I(k,b,"JoinStyle",d,v),miterLimit:I(k,b,"MiterLimit",d,x),referenceWidth:h,zOrder:K(a.name),isDashed:!1})}function B(a,b,c,d,g,f,h){var r=e.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),
k=a.primitiveName,m=p.fromCIMColor(a.tintColor),t=void 0!==a.width?a.width:4,n=q(a.capStyle),v=l(a.joinStyle),x=a.miterLimit,E=e.numericHash(JSON.stringify(a)).toString();g.push({type:"line",templateHash:E,materialHash:0===c.length?r:function(){return r},cim:a,materialOverrides:null,isOutline:f,colorLocked:a.colorLocked,effects:a.effects,color:I(k,b,"TintColor",d,m,J),width:I(k,b,"Width",d,t),cap:I(k,b,"CapStyle",d,n),join:I(k,b,"JoinStyle",d,v),miterLimit:I(k,b,"MiterLimit",d,x),referenceWidth:h,
zOrder:K(a.name),isDashed:!1})}function E(a,b,c,d,g){var f=a.markerPlacement;if(!f||"CIMMarkerPlacementInsidePolygon"!==f.type)return!1;var l=["Rotation","OffsetX","OffsetY"],h=c.filter(function(b){return b.primitiveName!==a.primitiveName&&-1===l.indexOf(b.propertyName)}),p=e.numericHash(JSON.stringify(a)).toString();g.push({type:"fill",templateHash:p,materialHash:0===c.length?p:M(p,b,h,d),cim:a,materialOverrides:h,colorLocked:a.colorLocked,effects:a.effects,color:{r:255,g:255,b:255,a:1},height:I(f.primitiveName,
b,"StepY",d,f.stepY),scaleX:1,angle:I(f.primitiveName,b,"GridAngle",d,f.gridAngle),offsetX:I(f.primitiveName,b,"OffsetX",d,f.offsetX),offsetY:I(f.primitiveName,b,"OffsetY",d,f.offsetY)});return!0}function F(a,b,c,d,g,f,l){for(var h=a.primitiveName,q=a.size,r=a.scaleX,k=a.rotation,m=a.offsetX,t=a.offsetY,n=p.fromCIMColor(a.tintColor),v=e.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),x=!1,E="",z=0;z<c.length;z++){var A=c[z];A.primitiveName===h&&(void 0!==A.value?E+="-"+A.primitiveName+
"-"+A.propertyName+"-"+JSON.stringify(A.value):A.valueExpressionInfo&&(x=!0))}g.push({type:"marker",templateHash:e.numericHash(JSON.stringify(a)+E).toString(),materialHash:x?function(){return v}:v,cim:a,materialOverrides:null,colorLocked:a.colorLocked,effects:a.effects,scaleSymbolsProportionally:!1,alignment:f,size:I(h,b,"Size",d,q),scaleX:I(h,b,"ScaleX",d,r),rotation:I(h,b,"Rotation",d,k),offsetX:I(h,b,"OffsetX",d,m),offsetY:I(h,b,"OffsetY",d,t),color:I(h,b,"TintColor",d,n,J),anchorPoint:a.anchorPoint,
isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:a.rotateClockwise,referenceSize:l,sizeRatio:1,markerPlacement:a.markerPlacement})}function H(a,c,g,f,l,h,q,r,k){b.OverrideHelper.findApplicableOverrides(c,f,[]);var m=c.geometry;if("x"in m&&"y"in m){var n=c.symbol,x;x=n.underline?"underline":n.strikethrough?"line-through":"none";var E=A(n.fontStyleName);n.font=d.__assign({family:n.fontFamilyName,decoration:x},E);var z=
a.frame,y=a.size/k;k=a.primitiveName;x=(n.height||0)*y;var E=n.angle||0,w=((n.offsetX||0)+(m.x-.5*(z.xmin+z.xmax)))*y,m=((n.offsetY||0)+(m.y-.5*(z.ymin+z.ymax)))*y,z=p.fromCIMColor(b.CIMSymbolHelper.getFillColor(n)),u=p.fromCIMColor(b.CIMSymbolHelper.getStrokeColor(n)),B=b.CIMSymbolHelper.getStrokeWidth(n);B||(u=p.fromCIMColor(b.CIMSymbolHelper.getFillColor(n.haloSymbol)),B=n.haloSize*y);for(var y="",C=0;C<f.length;C++){var F=f[C];F.primitiveName===k&&void 0!==F.value&&(y+="-"+F.primitiveName+"-"+
F.propertyName+"-"+JSON.stringify(F.value))}f=Number(a.colorLocked)+JSON.stringify(a.anchorPoint)+a.anchorPointUnits;h.push({type:"text",templateHash:e.numericHash(JSON.stringify(c)+f+y).toString(),materialHash:function(){return e.numericHash(JSON.stringify(n.font)).toString()},cim:n,materialOverrides:null,colorLocked:a.colorLocked,effects:a.effects,alignment:q,anchorPoint:{x:a.anchorPoint?a.anchorPoint.x:0,y:a.anchorPoint?a.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,fontName:n.fontFamilyName,
decoration:"none",weight:"normal",style:"normal",size:I(k,g,"Size",l,x),angle:I(k,g,"Rotation",l,E),offsetX:I(k,g,"OffsetX",l,w),offsetY:I(k,g,"OffsetY",l,m),horizontalAlignment:t(n.horizontalAlignment),verticalAlignment:v(n.verticalAlignment),text:I(c.primitiveName,g,"TextString",l,c.textString,p._adjustTextCase,n.textCase),color:z,outlineColor:u,outlineSize:B,referenceSize:r,sizeRatio:1,markerPlacement:a.markerPlacement})}}function G(a,c,f,l,h,q,r,k,m,t){var n=c.geometry;if(n){var v=c.symbol.symbolLayers;
if(v)if(t)L(a,c,l,f,h,q,r,k,m);else{var x=v.length;for(t=function(){var t=v[x];if(!t||!1===t.enable)return"continue";switch(t.type){case "CIMSolidFill":case "CIMSolidStroke":var E=g.getExtent(n),z=g.getSDFMetrics(E,a.frame,a.size,a.anchorPoint,"Relative"!==a.anchorPointUnits),E=z[0],A=z[1],z=z[2],y="CIMSolidFill"===t.type,w={type:"sdf",geom:n,asFill:y},u=a.primitiveName,B=a.size,C=a.rotation||0,F=a.offsetX,D=a.offsetY,G=t.primitiveName,P=y?p.fromCIMColor(b.CIMSymbolHelper.getFillColor(t)):p.fromCIMColor(b.CIMSymbolHelper.getStrokeColor(t)),
H=y?{r:0,g:0,b:0,a:0}:p.fromCIMColor(b.CIMSymbolHelper.getStrokeColor(t)),K=b.CIMSymbolHelper.getStrokeWidth(t);if(!y&&!K)break;for(var y=!1,U="",Q=0;Q<f.length;Q++){var V=f[Q];if(V.primitiveName===G||V.primitiveName===u)void 0!==V.value?U+="-"+V.primitiveName+"-"+V.propertyName+"-"+JSON.stringify(V.value):V.valueExpressionInfo&&(y=!0)}var u=JSON.stringify(d.__assign(d.__assign({},a),{markerGraphics:null})),O=e.numericHash(JSON.stringify(w)).toString(),t={type:"marker",templateHash:e.numericHash(JSON.stringify(c)+
JSON.stringify(t)+u+U).toString(),materialHash:y?function(){return O}:O,cim:w,materialOverrides:null,colorLocked:a.colorLocked,effects:a.effects,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:r,anchorPoint:{x:A,y:z},isAbsoluteAnchorPoint:!1,size:I(a.primitiveName,l,"Size",h,B),rotation:I(a.primitiveName,l,"Rotation",h,C),offsetX:I(a.primitiveName,l,"OffsetX",h,F),offsetY:I(a.primitiveName,l,"OffsetY",h,D),scaleX:1,frameHeight:m,rotateClockwise:a.rotateClockwise,referenceSize:k,
sizeRatio:E,color:I(G,l,"Color",h,P,J),outlineColor:I(G,l,"Color",h,H,J),outlineWidth:I(G,l,"Width",h,K),markerPlacement:a.markerPlacement};q.push(t);break;default:L(a,c,l,f,h,q,r,k,m)}};x--;)t()}}}function L(a,c,d,g,f,l,p,q,r){c={type:a.type,enable:!0,name:a.name,colorLocked:a.colorLocked,primitiveName:a.primitiveName,anchorPoint:a.anchorPoint,anchorPointUnits:a.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:a.rotateClockwise,rotation:0,size:a.size,billboardMode3D:a.billboardMode3D,depth3D:a.depth3D,
frame:a.frame,markerGraphics:[c],scaleSymbolsProportionally:a.scaleSymbolsProportionally,respectFrame:a.respectFrame,clippingPath:a.clippingPath,effects:a.effects};for(var k=[],m=["Rotation","OffsetX","OffsetY"],k=g.filter(function(b){return b.primitiveName!==a.primitiveName||-1===m.indexOf(b.propertyName)}),t="",n=0;n<g.length;n++){var v=g[n];void 0!==v.value&&(t+="-"+v.primitiveName+"-"+v.propertyName+"-"+JSON.stringify(v.value))}v=b.CIMSymbolHelper.getTextureAnchor(c);g=v[0];var n=v[1],v=v[2],
x=a.primitiveName,E=a.rotation||0,z=a.offsetX||0,A=a.offsetY||0,t=e.numericHash(JSON.stringify(c)+t).toString();d={type:"marker",templateHash:t,materialHash:0===k.length?t:M(t,d,k,f),cim:c,materialOverrides:k,colorLocked:a.colorLocked,effects:a.effects,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:p,anchorPoint:{x:g,y:n},isAbsoluteAnchorPoint:!1,size:a.size,rotation:I(x,d,"Rotation",f,E),offsetX:I(x,d,"OffsetX",f,z),offsetY:I(x,d,"OffsetY",f,A),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,
g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:r,rotateClockwise:a.rotateClockwise,referenceSize:q,sizeRatio:v/h.pt2px(a.size),markerPlacement:a.markerPlacement};l.push(d)}function K(a){return a&&0===a.indexOf("Level_")?parseInt(a.substr(6),10):0}function J(a){if(!a||0===a.length)return null;a=(new n(a)).toRgba();return{r:a[0],g:a[1],b:a[2],a:a[3]}}function I(a,b,e,d,g,f,l){if(a=b[a]){var h=a[e];if("string"===typeof h||"number"===typeof h||h instanceof Array)return f?f.call(null,h,l):h;if(null!=
h&&h instanceof c.default)return function(a,b,c){a=r.callWithFeature(h,a,{$view:c},d.geometryType,b);null!==a&&f&&(a=f.call(null,a,l));return null!==a?a:g}}return g}function M(a,d,g,f){for(var l=function(a){if(a.valueExpressionInfo){var b=d[a.primitiveName]&&d[a.primitiveName][a.propertyName];b instanceof c.default&&(a.fn=function(a,c,e){return r.callWithFeature(b,a,{$view:e},f.geometryType,c)})}},h=0;h<g.length;h++)l(g[h]);return function(c,d,f){for(var l=0;l<g.length;l++){var h=g[l];h.fn&&(h.value=
h.fn(c,d,f))}return e.numericHash(a+b.OverrideHelper.buildOverrideKey(g)).toString()}}Object.defineProperty(f,"__esModule",{value:!0});var Q=k.getLogger("esri.symbols.cim.cimAnalyzer");f.analyzeCIMSymbol=function(a,b,e,g){return d.__awaiter(this,void 0,void 0,function(){var f,l,h,p,q,r,k,t,n;return d.__generator(this,function(d){switch(d.label){case 0:f=e?e:[];if(!a)return[2,f];p={};if("CIMSymbolReference"!==a.type)return[3,3];l=a.symbol;h=a.primitiveOverrides;if(!h)return[3,2];q=[];r=function(a){var e=
a.valueExpressionInfo;e?(e=c.createRendererExpression(e.expression,b.spatialReference,b.fields).then(function(b){b&&x(p,a.primitiveName,a.propertyName,b)}),q.push(e)):null!=a.value&&x(p,a.primitiveName,a.propertyName,a.value)};k=0;for(t=h;k<t.length;k++)n=t[k],r(n);return[4,m.all(q)];case 1:d.sent(),d.label=2;case 2:return[3,4];case 3:return Q.error("Expect cim type to be 'CIMSymbolReference'"),[2,f];case 4:switch(l.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":u(l,h,p,
b,f,g)}return[2,f]}})})};f.analyzeCIMResource=function(a,c){if(!c||0===c.length)return a;a=JSON.parse(JSON.stringify(a));b.OverrideHelper.applyOverrides(a,c);return a}})},"esri/core/screenUtils":function(){define(["require","exports","./compilerUtils"],function(a,f,d){function n(a){return a?72*a/96:0}function k(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function m(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function h(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}
function e(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function c(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function b(a){return k(a.x,a.y)}function g(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return k(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(f,"__esModule",{value:!0});var p=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;f.pt2px=function(a){return a?a/72*96:0};f.px2pt=n;f.toPt=function(a){if("string"===typeof a){if(p.test(a)){var b=
a.match(p),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?n(c):c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};f.createScreenPoint=k;f.createScreenPointArray=m;f.createRenderScreenPoint=h;f.createRenderScreenPointArray=e;f.createRenderScreenPointArray3=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return[a,b,c]};f.castRenderScreenPointArray=function(a){return a};f.castRenderScreenPointArray3=function(a){return a};
f.castScreenPointArray=function(a){return a};f.screenToRender=function(a,b,e){var d,g;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x*a;g=b.y*a;break;case "3d":c(b,q),a.state.camera.screenToRender(q,r),d=r[0],g=r[1]}return e?(e.x=d,e.y=g,e):h(d,g)};f.renderToScreen=function(a,b,e){var d,g;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x/a;g=b.y/a;break;case "3d":c(b,r),a.state.camera.renderToScreen(r,q),d=q[0],g=q[1]}return e?(e.x=d,e.y=g,e):k(d,g)};f.screenArrayToRender=function(a,
b,c){var d,g;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]*a;g=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,r),d=r[0],g=r[1]}return c?(c[0]=d,c[1]=g,2<c.length&&(c[2]=0),c):e(d,g)};f.renderArrayToScreen=function(a,b,c){var e,d;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=b[0]/a;d=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,q),e=q[0],d=q[1]}return c?(c[0]=e,c[1]=d,c):m(e,d)};f.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],
y:a[1]}};f.screenPointObjectToArray=c;f.createScreenPointFromEvent=b;f.createScreenPointFromNativeEvent=g;f.createScreenPointFromSupportedEvent=function(a,c){return c instanceof Event?g(a,c):b(c)};f.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0;
case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:d.neverReachedSilent(a)}return!1};var r=e(),q=m()})},"esri/symbols/cim/CIMSymbolHelper":function(){define("require exports tslib ../../Color ../../core/Logger ../cim/CIMPlacements ./CIMSymbolDrawHelper ./packingUtils".split(" "),function(a,f,d,n,k,m,h,e){function c(a,b){switch(b.type){case "CIMSymbolReference":var c={type:"point",x:0,y:0};a.drawSymbol(b.symbol,c);break;case "CIMPointSymbol":c={type:"point",x:0,y:0};
a.drawSymbol(b,c);break;case "CIMVectorMarker":c=new m.Placement,a.drawMarker(b,c)}return a.envelope()}Object.defineProperty(f,"__esModule",{value:!0});var b=Math.PI,g=b/2,p=k.getLogger("esri.symbols.cim.CIMSymbolHelper");a=function(){function a(){}a.getEnvelope=function(a){var b=new h.EnvDrawHelper;if(Array.isArray(a)){for(var e=void 0,d=0;d<a.length;d++){var g=a[d];e?e.union(c(b,g)):e=c(b,g)}return e}return c(b,a)};a.getTextureAnchor=function(a){a=this.getEnvelope(a);if(!a||0>=a.width||0>=a.height)return[0,
0,0];var b=96/72,c=a.height*b+2;return[(a.x+.5*a.width)*b/(a.width*b+2),-(a.y+.5*a.height)*b/c,c]};a.rasterize=function(a,b,c,e){void 0===e&&(e=!0);var d=c||this.getEnvelope(b);if(!d||0>=d.width||0>=d.height)return[null,0,0,0,0];var g=96/72,f=(d.x+.5*d.width)*g,l=(d.y+.5*d.height)*g;a.width=d.width*g;a.height=d.height*g;c||(a.width+=2,a.height+=2);c=a.getContext("2d");g=h.Transformation.createScale(g,-g);g.translate(.5*a.width-f,.5*a.height+l);g=new h.CanvasDrawHelper(c,g);switch(b.type){case "CIMPointSymbol":g.drawSymbol(b,
{type:"point",x:0,y:0});break;case "CIMVectorMarker":d=new m.Placement,g.drawMarker(b,d)}b=c.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);if(e)for(e=void 0,c=0;c<b.length;c+=4)e=b[c+3]/255,b[c]*=e,b[c+1]*=e,b[c+2]*=e;return[b,a.width,a.height,-f/a.width,-l/a.height]};a.fromSimpleMarker=function(a){var c,e,d=a.style;if("circle"===d||"esriSMSCircle"===d){c=Math.acos(.995);e=Math.ceil(b/c/4);0===e&&(e=1);c=g/e;e*=4;d=[];d.push([50,0]);for(var f=1;f<e;f++)d.push([50*Math.cos(f*c),-50*Math.sin(f*
c)]);d.push([50,0]);c={rings:[d]};e={xmin:-50,ymin:-50,xmax:50,ymax:50}}else if("cross"===d||"esriSMSCross"===d)c=0,c={rings:[[[c,50],[c,c],[50,c],[50,-c],[c,-c],[c,-50],[-c,-50],[-c,-c],[-50,-c],[-50,c],[-c,c],[-c,50],[c,50]]]},e={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("diamond"===d||"esriSMSDiamond"===d)c={rings:[[[-50,0],[0,50],[50,0],[0,-50],[-50,0]]]},e={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("square"===d||"esriSMSSquare"===d)c={rings:[[[-50,-50],[-50,50],[50,50],[50,-50],[-50,-50]]]},
e={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("x"===d||"esriSMSX"===d)c=0,c={rings:[[[0,c],[50-c,50],[50,50-c],[c,0],[50,c-50],[50-c,-50],[0,-c],[c-50,-50],[-50,c-50],[-c,0],[-50,50-c],[c-50,50],[0,c]]]},e={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("triangle"===d||"esriSMSTriangle"===d)e=2/3*100,d=e-100,c={rings:[[[-57.735026918962575,d],[0,e],[57.735026918962575,d],[-57.735026918962575,d]]]},e={xmin:-57.735026918962575,ymin:d,xmax:57.735026918962575,ymax:e};else if("arrow"===d||"esriSMSArrow"===
d)c={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},e={xmin:-50,ymin:-50,xmax:50,ymax:50};var h;c&&e&&(h=[{type:"CIMSolidFill",enable:!0,color:a.color}],a.outline&&h.push({type:"CIMSolidStroke",enable:!0,width:a.outline.width,color:a.outline.color}),h={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:a.angle,size:a.size,offsetX:a.xoffset,offsetY:a.yoffset,frame:e,markerGraphics:[{type:"CIMMarkerGraphic",geometry:c,symbol:{type:"CIMPolygonSymbol",symbolLayers:h}}]}]});
return h};a.fromCIMHatchFill=function(a){for(var b=void 0!==a.separation?a.separation:4,c=b/2,e=this._getLineSymbolPeriod(a.lineSymbol)||4;4>e;)e*=2;e/=2;return{type:"CIMVectorMarker",frame:{xmin:-e,xmax:e,ymin:-c,ymax:c},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-e,0],[e,0]]]},symbol:a.lineSymbol}],size:b}};a._getLineSymbolPeriod=function(a){if(a){var b=this._getEffectsRepeat(a.effects);if(b)return b;if(a.symbolLayers)for(b=0,a=a.symbolLayers;b<a.length;b++){var c=a[b],e=this._getEffectsRepeat(c.effects);
if(e)return e;if(c&&(c=this._getPlacementRepeat(c.markerPlacement)))return c}}return 0};a._getEffectsRepeat=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];if(c)switch(c.type){case "CIMGeometricEffectDashes":if((c=c.dashTemplate)&&c.length){for(var b=a=0,e=c;b<e.length;b++)a+=e[b];c.length&1&&(a*=2);return a}break;case "CIMGeometricEffectWave":return c.period;default:p.error("unsupported geometric effect type "+c.type)}}return 0};a._getPlacementRepeat=function(a){if(a)switch(a.type){case "CIMMarkerPlacementAlongLineSameSize":case "CIMMarkerPlacementAlongLineRandomSize":case "CIMMarkerPlacementAlongLineVariableSize":if((a=
a.placementTemplate)&&a.length){for(var b=0,c=0;c<a.length;c++)b+=a[c];a.length&1&&(b*=2);return b}}return 0};a.fromCIMInsidePolygon=function(a){var b=a.markerPlacement,c=b.stepX/2,e=b.stepY/2,c={xmin:-c,xmax:c,ymin:-e,ymax:e};a=d.__assign({type:a.type},a);a.markerPlacement=null;a.anchorPoint=null;return{type:"CIMVectorMarker",frame:c,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMPointSymbol",symbolLayers:[a]}}],size:b.stepY}};a.getFillColor=function(b){if(!b)return null;
switch(b.type){case "CIMPolygonSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var e=a.getFillColor(b[c]);if(null!=e)return e}}break;case "CIMTextSymbol":return a.getFillColor(b.symbol);case "CIMSolidFill":return b.color}};a.getStrokeColor=function(b){if(b)switch(b.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var e=a.getStrokeColor(b[c]);if(void 0!==e)return e}}break;case "CIMTextSymbol":return a.getStrokeColor(b.symbol);
case "CIMSolidStroke":return b.color}};a.getStrokeWidth=function(b){if(b)switch(b.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var e=a.getStrokeWidth(b[c]);if(void 0!==e)return e}}break;case "CIMTextSymbol":return a.getStrokeWidth(b.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return b.width}};a.getSize=function(b){if(b)switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var c=
0;if(b.symbolLayers){var e=0;for(b=b.symbolLayers;e<b.length;e++){var d=a.getSize(b[e]);d>c&&(c=d)}}return c;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":return b.width;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":return b.size}};a.getMarkerScaleRatio=function(a){if(a)switch(a.type){case "CIMVectorMarker":if(!1!==a.scaleSymbolsProportionally&&a.frame)return a.size/(a.frame.ymax-a.frame.ymin)}return 1};return a}();f.CIMSymbolHelper=a;a=function(){function a(){}
a.rasterizeSimpleFill=function(a,b){"solid"!==b&&"none"!==b&&"esriSFSSolid"!==b&&"esriSFSNull"!==b||console.error("Unexpected: style does not require rasterization");a.width=8;a.height=8;var c=a.getContext("2d");c.strokeStyle="#FFFFFF";c.lineWidth=1;c.beginPath();if("vertical"===b||"cross"===b||"esriSFSCross"===b||"esriSFSVertical"===b)c.moveTo(0,0),c.lineTo(0,8);if("horizontal"===b||"cross"===b||"esriSFSCross"===b||"esriSFSHorizontal"===b)c.moveTo(0,0),c.lineTo(8,0);if("forward-diagonal"===b||"diagonal-cross"===
b||"esriSFSDiagonalCross"===b||"esriSFSForwardDiagonal"===b)c.moveTo(0,0),c.lineTo(8,8);if("backward-diagonal"===b||"diagonal-cross"===b||"esriSFSBackwardDiagonal"===b||"esriSFSDiagonalCross"===b)c.moveTo(8,0),c.lineTo(0,8);c.stroke();b=c.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);for(var e=0;e<b.length;e+=4)c=b[e+3]/255,b[e]*=c,b[e+1]*=c,b[e+2]*=c;return[b,a.width,a.height]};a.rasterizeSimpleLine=function(a,b){switch(b){case "butt":b="Butt";break;case "square":b="Square";break;default:b=
"Round"}var c="Butt"===b;switch(a){case "dash":case "esriSLSDash":a=c?[4,3]:[3,4];break;case "dash-dot":case "esriSLSDashDot":a=c?[4,3,1,3]:[3,4,0,4];break;case "dot":case "esriSLSDot":a=c?[1,3]:[0,4];break;case "long-dash":case "esriSLSLongDash":a=c?[8,3]:[7,4];break;case "long-dash-dot":case "esriSLSLongDashDot":a=c?[8,3,1,3]:[7,4,0,4];break;case "long-dash-dot-dot":case "esriSLSDashDotDot":a=c?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case "short-dash":case "esriSLSShortDash":a=c?[4,1]:[3,2];break;case "short-dash-dot":case "esriSLSShortDashDot":a=
c?[4,1,1,1]:[3,2,0,2];break;case "short-dash-dot-dot":case "esriSLSShortDashDotDot":a=c?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case "short-dot":case "esriSLSShortDot":a=c?[1,1]:[0,2];break;case "solid":case "esriSLSSolid":case "none":p.error("Unexpected: style does not require rasterization");a=[0,0];break;default:p.error("Tried to rasterize SLS, but found an unexpected style: "+a+"!"),a=[0,0]}return this.rasterizeDash(a,b)};a.rasterizeDash=function(a,b){var c="Butt"===b,d="Square"===b;b=!c&&!d;for(var g=
0,f=0;f<a.length;f++)var h=a[f],g=g+h;for(var g=15*g,l=31*g,f=new Float32Array(l),p=b?225:15,h=0;h<l;++h)f[h]=p;for(var p=l=0,r=!0,q=0;q<a.length;q++){for(var h=a[q],l=p,p=p+15*h,k=l;k<p;){for(var m=0;31>m;){var h=m*g+k,n=b?(m-15)*(m-15):Math.abs(m-15);f[h]=r?c?Math.max(Math.max(l+7.5-k,n),Math.max(k-p+7.5,n)):n:b?Math.min((k-l)*(k-l)+n,(k-p)*(k-p)+n):d?Math.min(Math.max(k-l,n),Math.max(p-k,n)):Math.min(Math.max(k-l+7.5,n),Math.max(p+7.5-k,n));m++}k++}r=!r}a=f.length;c=new Uint8Array(4*a);for(h=0;h<
a;++h)e.packFloatRGBA((b?Math.sqrt(f[h]):f[h])/15,c,4*h);return[c,g,31]};return a}();f.SymbolHelper=a;a=function(){function a(){}a.findApplicableOverrides=function(b,c,e){if(c){if(b.primitiveName){for(var d=!1,g=0;g<e.length;g++){var f=e[g];if(f.primitiveName===b.primitiveName){d=!0;break}}if(!d)for(d=0;d<c.length;d++)f=c[d],f.primitiveName===b.primitiveName&&e.push(f)}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(d=0,g=b.effects;d<g.length;d++)f=
g[d],a.findApplicableOverrides(f,c,e);if(b.symbolLayers)for(f=0,b=b.symbolLayers;f<b.length;f++)a.findApplicableOverrides(b[f],c,e);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(b.effects)for(d=0,g=b.effects;d<g.length;d++)f=g[d],a.findApplicableOverrides(f,c,e);b.markerPlacement&&a.findApplicableOverrides(b.markerPlacement,
c,e);if("CIMVectorMarker"===b.type){if(b.markerGraphics)for(f=0,b=b.markerGraphics;f<b.length;f++)d=b[f],a.findApplicableOverrides(d,c,e),a.findApplicableOverrides(d.symbol,c,e)}else"CIMCharacterMarker"===b.type?a.findApplicableOverrides(b.symbol,c,e):"CIMHatchFill"===b.type&&a.findApplicableOverrides(b.lineSymbol,c,e)}}};a.applyOverrides=function(b,c,e,d){if(c){if(b.primitiveName)for(var g=0;g<c.length;g++){var f=c[g];if(f.primitiveName===b.primitiveName){var h;h=(h=f.propertyName)?h.charAt(0).toLowerCase()+
h.substr(1):h;d&&d.push({cim:b,nocapPropertyName:h,value:b[h]});f.expression&&(f.value=a.toValue(f.propertyName,f.expression));if(e){for(var l=!1,p=0,r=e;p<r.length;p++)r[p].primitiveName===b.primitiveName&&(l=!0);l||e.push(f)}b[h]=f.value}}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(f=0,h=b.effects;f<h.length;f++)g=h[f],a.applyOverrides(g,c,e,d);if(b.symbolLayers)for(g=0,b=b.symbolLayers;g<b.length;g++)a.applyOverrides(b[g],c,e,d);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(b.effects)for(f=
0,h=b.effects;f<h.length;f++)g=h[f],a.applyOverrides(g,c,e,d);if("CIMVectorMarker"===b.type&&b.markerGraphics)for(g=0,b=b.markerGraphics;g<b.length;g++)f=b[g],a.applyOverrides(f,c,e,d),a.applyOverrides(f.symbol,c,e,d)}}};a.restoreOverrides=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.cim[c.nocapPropertyName]=c.value}};a.buildOverrideKey=function(a){for(var b="",c=0;c<a.length;c++){var e=a[c];void 0!==e.value&&(b+=""+e.primitiveName+e.propertyName+JSON.stringify(e.value))}return b};a.toValue=
function(a,b){return"DashTemplate"===a?b.split(" ").map(function(a){return Number(a)}):"Color"===a?(a=(new n(b)).toRgba(),a[3]*=255,a):b};return a}();f.OverrideHelper=a})},"esri/symbols/cim/CIMPlacements":function(){define(["require","exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){this.setIdentity()}a.prototype.getAngle=function(){if(null==this.rz||0===this.rz&&1!==this.rz_c&&0!==this.rz_s)this.rz=Math.atan2(this.rz_s,this.rz_c);return this.rz};
a.prototype.setIdentity=function(){this.tz=this.ty=this.tx=0;this.s=1;this.rz=this.ry=this.rx=0;this.rz_c=1;this.rz_s=0};a.prototype.setTranslate=function(a,d){this.tx=a;this.ty=d};a.prototype.setTranslateZ=function(a){this.tz=a};a.prototype.setRotateCS=function(a,d){this.rz=void 0;this.rz_c=a;this.rz_s=d};a.prototype.setRotate=function(a){this.rz=a;this.rz_s=this.rz_c=void 0};a.prototype.setRotateY=function(a){this.ry=a};a.prototype.setScale=function(a){this.s=a};a.prototype.setMeasure=function(a){this.m=
a};return a}();f.Placement=a;a=function(){function a(){}a.prototype.next=function(){return null};return a}();f.EmptyPlacementCursor=a})},"esri/symbols/cim/CIMSymbolDrawHelper":function(){define("require exports tslib ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./Rect".split(" "),function(a,f,d,n,k,m,h,e,c){Object.defineProperty(f,"__esModule",{value:!0});f.C_DEG_TO_RAD=Math.PI/180;var b=n.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),
g=function(){function a(a){this._t=a}a.createIdentity=function(){return new a([1,0,0,0,1,0])};a.prototype.clone=function(){return new a(this._t.slice())};a.prototype.transform=function(a){var b=this._t;return[b[0]*a[0]+b[1]*a[1]+b[2],b[3]*a[0]+b[4]*a[1]+b[5]]};a.createScale=function(b,c){return new a([b,0,0,0,c,0])};a.prototype.scale=function(a,b){var c=this._t;c[0]*=a;c[1]*=a;c[2]*=a;c[3]*=b;c[4]*=b;c[5]*=b;return this};a.prototype.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*
this._t[1])};a.createTranslate=function(b,c){return new a([0,0,b,0,0,c])};a.prototype.translate=function(a,b){var c=this._t;c[2]+=a;c[5]+=b;return this};a.createRotate=function(b){var c=Math.cos(b);b=Math.sin(b);return new a([c,-b,0,b,c,0])};a.prototype.rotate=function(b){return this.multiply(a.createRotate(b))};a.prototype.multiply=function(a){var b=this._t;a=a._t;var c=b[1]*a[0]+b[4]*a[1],e=b[2]*a[0]+b[5]*a[1]+a[2],d=b[0]*a[3]+b[3]*a[4],g=b[1]*a[3]+b[4]*a[4],f=b[2]*a[3]+b[5]*a[4]+a[5];b[0]=b[0]*
a[0]+b[3]*a[1];b[1]=c;b[2]=e;b[3]=d;b[4]=g;b[5]=f;return this};return a}();f.Transformation=g;a=function(){function a(a){this._transfos=[];this._sizeTransfos=[];this._transfos.push(a||g.createIdentity());this._sizeTransfos.push(a?a.scaleRatio():1)}a.prototype.transformPt=function(a){return this._transfos[this._transfos.length-1].transform(a)};a.prototype.transformSize=function(a){return a*this._sizeTransfos[this._sizeTransfos.length-1]};a.prototype.back=function(){return this._transfos[this._transfos.length-
1]};a.prototype.push=function(a,b){b=b?a.scaleRatio():1;a.multiply(this.back());this._transfos.push(a);this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*b)};a.prototype.pop=function(){this._transfos.splice(-1,1);this._sizeTransfos.splice(-1,1)};a.prototype.drawSymbol=function(a,b){if(a)switch(a.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":this.drawMultiLayerSymbol(a,b)}};a.prototype.drawMultiLayerSymbol=function(a,b){if(a){var c=a.symbolLayers;if(c)if(a=
a.effects){if(b=this.executeEffects(a,b))for(a=b.next();a;)this.drawSymbolLayers(c,a),a=b.next()}else this.drawSymbolLayers(c,b)}};a.prototype.executeEffects=function(a,b){b=new m.SimpleGeometryCursor(b);for(var c=0;c<a.length;c++){var e=a[c],d=h.getEffectOperator(e);d&&(b=d.execute(b,e,1))}return b};a.prototype.drawSymbolLayers=function(a,b){for(var c=a.length;c--;){var e=a[c];if(e&&!1!==e.enable){var d=e.effects;if(d){if(d=this.executeEffects(d,b))for(var g=d.next();g;)this.drawSymbolLayer(e,g),
g=d.next()}else this.drawSymbolLayer(e,b)}}};a.prototype.drawSymbolLayer=function(a,b){switch(a.type){case "CIMSolidFill":this.drawSolidFill(b,a.color);break;case "CIMSolidStroke":this.drawSolidStroke(b,a.color,a.width,a.capStyle,a.joinStyle,a.miterLimit);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":this.drawMarkerLayer(a,b)}};a.prototype.drawMarkerLayer=function(a,b){var c=a.markerPlacement;if(c){var d=h.getPlacementOperator(c);if(d&&(b=d.execute(b,c,1)))for(c=b.next();c;)this.drawMarker(a,
c),c=b.next()}else c=new e.Placement,c.tx=b.x,c.ty=b.y,this.drawMarker(a,c)};a.prototype.drawMarker=function(a,b){switch(a.type){case "CIMCharacterMarker":case "CIMPictureMarker":this.drawPictureMarker(a,b);break;case "CIMVectorMarker":this.drawVectorMarker(a,b)}};a.prototype.drawPictureMarker=function(a,b){};a.prototype.drawVectorMarker=function(a,c){if(a){var e=a.markerGraphics;if(e){var d=a.size,h=a.frame,p=h?h.ymax-h.ymin:0,d=d&&p?d/p:1,p=g.createIdentity();h&&p.translate(.5*-(h.xmax+h.xmin),
.5*-(h.ymax+h.ymin));var r=a.anchorPoint;if(r){var k=r.x,r=r.y;"Absolute"!==a.anchorPointUnits&&h&&(k*=h.xmax-h.xmin,r*=h.ymax-h.ymin);p.translate(-k,-r)}1!==d&&p.scale(d,d);a.rotation&&p.rotate(a.rotation*f.C_DEG_TO_RAD);p.translate(a.offsetX||0,a.offsetY||0);p.translate(c.tx,c.ty);this.push(p,a.scaleSymbolsProportionally);for(a=0;a<e.length;a++)(c=e[a])&&c.symbol&&c.geometry||b.error("Invalid marker graphic",c),this.drawSymbol(c.symbol,c.geometry);this.pop()}}};return a}();f.CIMSymbolDrawHelper=
a;n=function(a){function b(){var b=a.call(this)||this;b.reset();return b}d.__extends(b,a);b.prototype.reset=function(){this._xmin=this._ymin=Infinity;this._xmax=this._ymax=-Infinity};b.prototype.envelope=function(){return new c.default(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)};b.prototype._merge=function(a,b){a[0]-b<this._xmin&&(this._xmin=a[0]-b);a[0]+b>this._xmax&&(this._xmax=a[0]+b);a[1]-b<this._ymin&&(this._ymin=a[1]-b);a[1]+b>this._ymax&&(this._ymax=a[1]+b)};b.prototype.drawSolidFill=
function(a){if(a&&a.rings){var b=0;for(a=a.rings;b<a.length;b++){var c=a[b],e=c?c.length:0;if(2<e){this._merge(this.transformPt(c[0]),0);for(var d=1;d<e;++d)this._merge(this.transformPt(c[d]),0)}}}};b.prototype.drawSolidStroke=function(a,b,c){b=.5*this.transformSize(c);if(a=k.isPolygon(a)?a.rings:a.paths)for(c=0;c<a.length;c++){var e=a[c],d=e?e.length:0;if(1<d){this._merge(this.transformPt(e[0]),b);for(var g=1;g<d;++g)this._merge(this.transformPt(e[g]),b)}}};return b}(a);f.EnvDrawHelper=n;a=function(a){function b(b,
c){c=a.call(this,c)||this;c._ctx=b;return c}d.__extends(b,a);b.prototype.drawSolidFill=function(a,b){if(a&&a.rings){var c=this._ctx;c.fillStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";c.beginPath();b=0;for(a=a.rings;b<a.length;b++){var e=a[b],d=e?e.length:0;if(2<d){var g=this.transformPt(e[0]);c.moveTo(g[0],g[1]);for(var f=1;f<d;++f)g=this.transformPt(e[f]),c.lineTo(g[0],g[1]);c.closePath()}}c.fill("evenodd")}};b.prototype.drawSolidStroke=
function(a,b,c,e,d,g){if(b&&0!==c){var f=this._ctx;f.strokeStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";f.lineWidth=this.transformSize(c)+.5;this._setCapStyle(e);this._setJoinStyle(d);f.miterLimit=g;f.beginPath();b=!1;k.isPolygon(a)?(c=a.rings,b=!0):c=a.paths;for(a=0;a<c.length;a++)if(d=(e=c[a])?e.length:0,1<d){g=this.transformPt(e[0]);f.moveTo(g[0],g[1]);for(var h=1;h<d;++h)g=this.transformPt(e[h]),f.lineTo(g[0],g[1]);b&&f.closePath()}f.stroke()}};
b.prototype._setCapStyle=function(a){switch(a){case "Butt":this._ctx.lineCap="butt";break;case "Round":this._ctx.lineCap="round";break;case "Square":this._ctx.lineCap="square"}};b.prototype._setJoinStyle=function(a){switch(a){case "Bevel":this._ctx.lineJoin="bevel";break;case "Round":this._ctx.lineJoin="round";break;case "Miter":this._ctx.lineJoin="miter"}};return b}(a);f.CanvasDrawHelper=a})},"esri/symbols/cim/CIMEffects":function(){define(["require","exports","../../core/lang"],function(a,f,d){Object.defineProperty(f,
"__esModule",{value:!0});a=function(){function a(a){this._geometry=a}a.prototype.next=function(){var a=this._geometry;this._geometry=null;return a};return a}();f.SimpleGeometryCursor=a;f.clone=function(a){return d.clone(a)}})},"esri/symbols/cim/CIMOperators":function(){define("require exports ./effects/EffectAddControlPoints ./effects/EffectArrow ./effects/EffectBuffer ./effects/EffectCut ./effects/EffectDashes ./effects/EffectDonut ./effects/EffectJog ./effects/EffectMove ./effects/EffectOffset ./effects/EffectReverse ./effects/EffectRotate ./effects/EffectScale ./effects/EffectWave ./placements/PlacementAlongLineSameSize ./placements/PlacementAtExtremities ./placements/PlacementAtRatioPositions ./placements/PlacementOnLine ./placements/PlacementOnVertices ./placements/PlacementPolygonCenter".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v,A,x,w,u){Object.defineProperty(f,"__esModule",{value:!0});f.getEffectOperator=function(a){if(!a)return null;switch(a.type){case "CIMGeometricEffectAddControlPoints":return d.EffectAddControlPoints.local();case "CIMGeometricEffectArrow":return n.EffectArrow.local();case "CIMGeometricEffectBuffer":return k.EffectBuffer.local();case "CIMGeometricEffectCut":return m.EffectCut.local();case "CIMGeometricEffectDashes":return h.EffectDashes.local();case "CIMGeometricEffectDonut":return e.EffectDonut.local();
case "CIMGeometricEffectJog":return c.EffectJog.local();case "CIMGeometricEffectMove":return b.EffectMove.local();case "CIMGeometricEffectOffset":return g.EffectOffset.local();case "CIMGeometricEffectReverse":return p.EffectReverse.local();case "CIMGeometricEffectRotate":return r.EffectRotate.local();case "CIMGeometricEffectScale":return q.EffectScale.local();case "CIMGeometricEffectWave":return l.EffectWave.local()}return null};f.getPlacementOperator=function(a){if(!a)return null;switch(a.type){case "CIMMarkerPlacementAlongLineSameSize":return t.PlacementAlongLineSameSize.local();
case "CIMMarkerPlacementAtExtremities":return v.PlacementAtExtremities.local();case "CIMMarkerPlacementAtRatioPositions":return A.PlacementAtRatioPositions.local();case "CIMMarkerPlacementOnLine":return x.PlacementOnLine.local();case "CIMMarkerPlacementOnVertices":return w.PlacementOnVertices.local();case "CIMMarkerPlacementPolygonCenter":return u.PlacementPolygonCenter.local()}return null}})},"esri/symbols/cim/effects/EffectAddControlPoints":function(){define(["require","exports","../../../core/lang",
"../../../geometry/support/jsonUtils","../CIMCursor"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.EffectAddControlPoints=a;var m=function(){function a(a,c,b){this._inputGeometries=a;this._angleTolerance=void 0!==c.angleTolerance?c.angleTolerance:120;this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/
180)*Math.PI)}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(n.isPolygon(a))return this._isClosed=!0,a=d.clone(a),this._processMultipath(a.rings),a;if(n.isPolyline(a))return this._isClosed=!1,a=d.clone(a),this._processMultipath(a.paths),a;if(n.isExtent(a)){if(this._maxCosAngle)return a;this._isClosed=!0;a=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];this._processPath(a);return{rings:[a]}}a=this._inputGeometries.next()}return null};a.prototype._processMultipath=
function(a){if(a)for(var c=0;c<a.length;c++)this._processPath(a[c])};a.prototype._processPath=function(a){if(a){var c=a.length,b=a[0],e=void 0,d=void 0,f=void 0,h=void 0,l=void 0,m=void 0;this._isClosed&&++c;for(var n=1;n<c;++n){var A=void 0,A=this._isClosed&&n===c-1?a[0]:a[n],x=A[0]-b[0],w=A[1]-b[1],u=Math.sqrt(x*x+w*w);1<n&&0<u&&0<f&&(e*x+d*w)/u/f<=this._maxCosAngle&&k.setId(b,1);1===n&&(h=x,l=w,m=u);0<u&&(b=A,e=x,d=w,f=u)}this._isClosed&&0<f&&0<m&&(e*h+d*l)/m/f<=this._maxCosAngle&&k.setId(a[0],
1)}};return a}()})},"esri/symbols/cim/CIMCursor":function(){define(["require","exports","../../core/lang","../../geometry/support/jsonUtils","./CIMPlacements"],function(a,f,d,n,k){function m(a){if(a)for(var b=a.length-1;0<b;--b)a[b][0]-=a[b-1][0],a[b][1]-=a[b-1][1]}function h(a){if(a)for(var b=0;b<a.length;b++)m(a[b])}function e(a){if(a)for(var b=a.length,c=1;c<b;++c)a[c][0]+=a[c-1][0],a[c][1]+=a[c-1][1]}function c(a){if(a)for(var b=0;b<a.length;b++)e(a[b])}function b(a){a&&(n.isPolygon(a)?c(a.rings):
n.isPolyline(a)?c(a.paths):n.isMultipoint(a)&&e(a.points))}function g(a){a&&a.reverse()}function p(a){return{rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]}}Object.defineProperty(f,"__esModule",{value:!0});f.cloneAndDecodeGeometry=function(a){a=d.clone(a);b(a);return a};f.deltaDecodeGeometry=b;f.deltaEncodeGeometry=function(a){a&&(n.isPolygon(a)?h(a.rings):n.isPolyline(a)?h(a.paths):n.isMultipoint(a)&&m(a.points))};f.reverseMultipath=function(a){if(a)for(var b=
0;b<a.length;b++)g(a[b])};f.reversePath=g;f.getCoord2D=function(a,b,c){return[a[0]+(b[0]-a[0])*c,a[1]+(b[1]-a[1])*c]};f.isClosedPath=function(a){return a&&0!==a.length?a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]:!1};f.getId=function(a){return a[4]};f.setId=function(a,b){a[4]=b};a=function(){function a(a,b,c,e){this.acceptPolygon=b;this.acceptPolyline=c;this.geomUnitsPerPoint=e;this.pathIndex=this.pathCount=-1;this.iteratePath=!1;a&&(n.isPolygon(a)?b&&(this.multiPath=a.rings,this.isClosed=
!0):n.isPolyline(a)?c&&(this.multiPath=a.paths,this.isClosed=!1):n.isExtent(a)&&b&&(this.multiPath=p(a).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length));this.internalPlacement=new k.Placement}a.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var a=this.processPath(this.multiPath[this.pathIndex]);if(a)return a}this.pathIndex=this.pathCount=-1;return this.multiPath=null};
return a}();f.PathTransformationCursor=a;a=function(){function a(a,b,c,e){this.inputGeometries=a;this.acceptPolygon=b;this.acceptPolyline=c;this.geomUnitsPerPoint=e;this.pathIndex=this.pathCount=-1;this.iteratePath=!1}a.prototype.next=function(){for(;;){if(!this.multiPath){for(var a=this.inputGeometries.next();a;)if(n.isPolygon(a)?this.acceptPolygon&&(this.multiPath=a.rings,this.isClosed=!0):n.isPolyline(a)?this.acceptPolyline&&(this.multiPath=a.paths,this.isClosed=!1):n.isExtent(a)&&this.acceptPolygon&&
(this.multiPath=p(a).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length;this.pathIndex=-1;break}else a=this.inputGeometries.next();if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;)if(this.iteratePath||this.pathIndex++,a=this.processPath(this.multiPath[this.pathIndex]))return a;this.pathIndex=this.pathCount=-1;this.multiPath=null}};return a}();f.PathGeometryCursor=a})},"esri/symbols/cim/effects/EffectArrow":function(){define(["require",
"exports","tslib","../CIMCursor","../CurveHelper"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.EffectArrow=a;var m=function(a){function e(c,b,e){c=a.call(this,c,!1,!0)||this;c._curveHelper=new k.CurveHelper;c._width=(void 0!==b.width?b.width:5)*e;c._arrowType=b.geometricEffectArrowType;
c._offsetFlattenError=k.PIXEL_TOLERANCE*e;return c}d.__extends(e,a);e.prototype.processPath=function(a){switch(this._arrowType){default:return this._constructSimpleArrow(a,!0);case "Block":return this._constructSimpleArrow(a,!1);case "Crossed":return this._constructCrossedArrow(a)}};e.prototype._constructSimpleArrow=function(a,b){var c=this._curveHelper.calculatePathLength(a),e=this._width;c<2*e&&(e=c/2);c=this._curveHelper.getSubCurve(a,0,c-e);if(!c)return null;var d=e/2;if(this._curveHelper.isEmpty(c,
!1))return null;e=this._constructOffset(c,-d);if(!e)return null;c=this._constructOffset(c,d);if(!c)return null;var f=this._constructArrowBasePoint(e,-d);if(!f)return null;d=this._constructArrowBasePoint(c,d);if(!d)return null;a=a[a.length-1];b||(this._makeControlPoint(c,!0),this._makeControlPoint(e,!0));var h=new k.PathHelper;h.addPath(c,!0);h.lineTo(d);this._makeControlPoint(h.path());h.lineTo(a);this._makeControlPoint(h.path());h.lineTo(f);this._makeControlPoint(h.path());h.addPath(e,!1);return b?
{paths:[h.path()]}:(h.close(),{rings:[h.path()]})};e.prototype._constructCrossedArrow=function(a){var b=this._curveHelper.calculatePathLength(a),c=this._width;b<3.732050807568877*c&&(c=b/3.732050807568877);var e=this._curveHelper.getSubCurve(a,0,b-2.732050807568877*c);if(!e)return null;var d=c/2;if(this._curveHelper.isEmpty(e,!1))return null;var f=this._constructOffset(e,d);if(!f)return null;e=this._constructOffset(e,-d);if(!e)return null;b=this._curveHelper.getSubCurve(a,0,b-c);if(!b||this._curveHelper.isEmpty(b,
!1))return null;c=this._constructOffset(b,d);if(!c)return null;var h=this._constructOffset(b,-d);if(!h)return null;b=c[c.length-1];c=this._constructArrowBasePoint(c,d);if(!c)return null;var m=h[h.length-1],d=this._constructArrowBasePoint(h,-d);if(!d)return null;a=a[a.length-1];this._makeControlPoint(f,!1);this._makeControlPoint(e,!1);h=new k.PathHelper;h.addPath(f,!0);this._makeControlPoint(h.path());h.lineTo(m);h.lineTo(d);this._makeControlPoint(h.path());h.lineTo(a);this._makeControlPoint(h.path());
h.lineTo(c);this._makeControlPoint(h.path());h.lineTo(b);this._makeControlPoint(h.path());h.addPath(e,!1);return{paths:[h.path()]}};e.prototype._constructOffset=function(a,b){return this._curveHelper.offset(a,b,"Rounded",4,this._offsetFlattenError)};e.prototype._constructArrowBasePoint=function(a,b){if(!a||2>a.length)return null;var c=a[a.length-2];a=a[a.length-1];c=[a[0]-c[0],a[1]-c[1]];this._curveHelper.normalize(c);return[a[0]+c[1]*b,a[1]-c[0]*b]};e.prototype._makeControlPoint=function(a,b){void 0===
b&&(b=!1);b?n.setId(a[0],1):n.setId(a[a.length-1],1)};return e}(n.PathGeometryCursor)})},"esri/symbols/cim/CurveHelper":function(){define(["require","exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});f.PIXEL_TOLERANCE=.03;a=function(){function a(){this._path=[]}a.prototype.path=function(){return this._path};a.prototype.addPath=function(a,d){d||a.reverse();Array.prototype.push.apply(this._path,a);d||a.reverse()};a.mergePath=function(a,d){d&&Array.prototype.push.apply(a,d)};a.prototype.startPath=
function(a){this._path.push(a)};a.prototype.lineTo=function(a){this._path.push(a)};a.prototype.close=function(){var a=this._path;1<a.length&&(a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]||a.push([a[0][0],a[0][1]]))};return a}();f.PathHelper=a;a=function(){function a(a,d){void 0===a&&(a=0);void 0===d&&(d=!1)}a.prototype.normalize=function(a){var d=Math.sqrt(a[0]*a[0]+a[1]*a[1]);a[0]/=d;a[1]/=d};a.prototype.calculateLength=function(a,d){var f=d[0]-a[0];a=d[1]-a[1];return Math.sqrt(f*f+a*a)};
a.prototype.calculateSegLength=function(a,d){return this.calculateLength(a[d],a[d+1])};a.prototype.calculatePathLength=function(a){for(var d=0,f=a?a.length:0,h=0;h<f-1;++h)d+=this.calculateSegLength(a,h);return d};a.prototype.calculatePathArea=function(a){for(var d=0,f=a?a.length:0,h=0;h<f-1;++h)d+=(a[h+1][0]-a[h][0])*(a[h+1][1]+a[h][1]);return d/2};a.prototype.getCoord2D=function(a,d,f){return[a[0]+(d[0]-a[0])*f,a[1]+(d[1]-a[1])*f]};a.prototype.getSegCoord2D=function(a,d,f){return this.getCoord2D(a[d],
a[d+1],f)};a.prototype.getAngle=function(a,d,f){return Math.atan2(d[1]-a[1],d[0]-a[0])};a.prototype.getSegAngle=function(a,d,f){return this.getAngle(a[d],a[d+1],f)};a.prototype.getAngleCS=function(a,d,f){f=d[0]-a[0];a=d[1]-a[1];d=Math.sqrt(f*f+a*a);return 0<d?[f/d,a/d]:[1,0]};a.prototype.getSegAngleCS=function(a,d,f){return this.getAngleCS(a[d],a[d+1],f)};a.prototype.cut=function(a,d,f,h){f=0>=f?a[d]:this.getSegCoord2D(a,d,f);a=1<=h?a[d+1]:this.getSegCoord2D(a,d,h);return[f,a]};a.prototype.addSegment=
function(a,d,f){f&&a.push(d[0]);a.push(d[1])};a.prototype.getSubCurve=function(a,d,f){var h=[];return this.appendSubCurve(h,a,d,f)?h:null};a.prototype.appendSubCurve=function(a,d,f,h){for(var e=d?d.length-1:0,c=0,b=!0,g=0;g<e;){var p=this.calculateSegLength(d,g);if(0!==p){if(b){if(c+p>f){var k=(f-c)/p,m=1,l=!1;c+p>=h&&(m=(h-c)/p,l=!0);(k=this.cut(d,g,k,m))&&this.addSegment(a,k,b);if(l)break;b=!1}}else{if(c+p>h){(k=this.cut(d,g,0,(h-c)/p))&&this.addSegment(a,k,b);break}this.addSegment(a,[d[g],d[g+
1]],b)}c+=p}++g}return!0};a.prototype.getCIMPointAlong=function(a,d){for(var f=a?a.length-1:0,h=0,e=-1;e<f;){++e;var c=this.calculateSegLength(a,e);if(0!==c){if(h+c>d)return this.getCoord2D(a[e],a[e+1],(d-h)/c);h+=c}}return null};a.prototype.isEmpty=function(a,d){if(!a||1>=a.length)return!0;for(var f=a?a.length-1:0,h=-1;h<f;)if(++h,a[h+1][0]!==a[h][0]||a[h+1][1]!==a[h][1]||d&&a[h+1][2]!==a[h][2])return!1;return!0};a.prototype.offset=function(a,d,f,h,e){e;if(!a||2>a.length)return null;e=a.length;var c=
a[0][0]===a[e-1][0]&&a[0][1]===a[e-1][1];if(c){if(3>a.length)return null;--e}for(var b=[],g=c?a[e-1]:null,p=a[0],m=0;m<e;m++){var k=m===e-1?c?a[0]:null:a[m+1];if(g)if(k){var l=[k[0]-p[0],k[1]-p[1]];this.normalize(l);g=[p[0]-g[0],p[1]-g[1]];this.normalize(g);var n=g[0]*l[1]-g[1]*l[0],v=g[0]*l[0]+g[1]*l[1];if(0<=n===0>=d)n=[l[0]-g[0],l[1]-g[1]],this.normalize(n),v=Math.sqrt((1+v)/2),l=-Math.abs(d)/v,b.push([p[0]-n[0]*l,p[1]-n[1]*l]);else switch(f){case "Mitered":if(v=Math.sqrt((1+v)/2),0<v&&1/v<h){n=
[l[0]-g[0],l[1]-g[1]];this.normalize(n);l=Math.abs(d)/v;b.push([p[0]-n[0]*l,p[1]-n[1]*l]);break}case "Bevelled":b.push([p[0]+g[1]*d,p[1]-g[0]*d]);b.push([p[0]+l[1]*d,p[1]-l[0]*d]);break;case "Rounded":b.push([p[0]+g[1]*d,p[1]-g[0]*d]);for(var v=.2,A=1;5>A;A++,v+=.2)n=[g[1]*(1-v)+l[1]*v,-g[0]*(1-v)-l[0]*v],this.normalize(n),b.push([p[0]+n[0]*d,p[1]+n[1]*d]);b.push([p[0]+l[1]*d,p[1]-l[0]*d]);break;default:0>n?(b.push([p[0]+(g[1]+g[0])*d,p[1]+(g[1]-g[0])*d]),b.push([p[0]+(l[1]-l[0])*d,p[1]-(l[0]+l[1])*
d])):(v=Math.sqrt((1+Math.abs(v))/2),n=[l[0]-g[0],l[1]-g[1]],this.normalize(n),l=d/v,b.push([p[0]-n[0]*l,p[1]-n[1]*l]))}}else n=[p[0]-g[0],p[1]-g[1]],this.normalize(n),b.push([p[0]+n[1]*d,p[1]-n[0]*d]);else n=[k[0]-p[0],k[1]-p[1]],this.normalize(n),b.push([p[0]+n[1]*d,p[1]-n[0]*d]);g=p;p=k}c&&b.push([b[0][0],b[0][1]]);return b};return a}();f.CurveHelper=a})},"esri/symbols/cim/effects/EffectBuffer":function(){define(["require","exports","../../../geometry/support/jsonUtils","../CurveHelper"],function(a,
f,d,n){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,e,c){return new k(a,e,c)};a.instance=null;return a}();f.EffectBuffer=a;var k=function(){function a(a,e,c){this._inputGeometries=a;this._curveHelper=new n.CurveHelper;this._size=(void 0!==e.size?e.size:1)*c;this._offsetFlattenError=n.PIXEL_TOLERANCE*c}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(d.isExtent(a))if(0<
this._size){var e=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(e=this._curveHelper.offset(e,this._size,"Rounded",4,this._offsetFlattenError))return{rings:[e]}}else if(0>this._size){if(0<Math.min(a.xmax-a.xmin,a.ymax-a.ymin)+2*this._size)return{xmin:a.xmin-this._size,xmax:a.xmax+this._size,ymin:a.ymin-this._size,ymax:a.ymax+this._size}}else return a;if(d.isPolygon(a)){if(0===this._size)return a;for(var c=[],b=0,f=a.rings;b<f.length;b++)e=f[b],(e=this._curveHelper.offset(e,
this._size,"Rounded",4,this._offsetFlattenError))&&c.push(e);if(c.length)return{rings:c}}if(d.isPolyline(a)&&0<this._size){c=[];b=0;for(f=a.paths;b<f.length;b++){var p=f[b];if(p&&1<p.length&&(e=this._curveHelper.offset(p,this._size,"Rounded",4,this._offsetFlattenError),p=this._curveHelper.offset(p,-this._size,"Rounded",4,this._offsetFlattenError),e&&p)){for(var k=p.length-1;0<=k;k--)e.push(p[k]);e.push([e[0][0],e[0][1]]);c.push(e)}}if(c.length)return{rings:c}}d.isPoint(a);a=this._inputGeometries.next()}return null};
return a}()})},"esri/symbols/cim/effects/EffectCut":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.EffectCut=a;var m=function(a){function e(c,b,e){c=a.call(this,c,!0,!0)||this;c._curveHelper=new k.CurveHelper;
c._beginCut=(void 0!==b.beginCut?b.beginCut:1)*e;c._endCut=(void 0!==b.endCut?b.endCut:1)*e;c._middleCut=(void 0!==b.middleCut?b.middleCut:0)*e;c._invert=void 0!==b.invert?b.invert:!1;0>c._beginCut&&(c._beginCut=0);0>c._endCut&&(c._endCut=0);0>c._middleCut&&(c._middleCut=0);return c}d.__extends(e,a);e.prototype.processPath=function(a){var b=this._beginCut,c=this._endCut,e=this._middleCut,d=this._curveHelper.calculatePathLength(a),f=[];if(!this._invert)0===b&&0===c&&0===e?f.push(a):b+c+e>=d||(0===
e?b=this._curveHelper.getSubCurve(a,b,d-c):((b=this._curveHelper.getSubCurve(a,b,.5*(d-e)))&&f.push(b),b=this._curveHelper.getSubCurve(a,.5*(d+e),d-c)),b&&f.push(b));else if(0!==b||0!==c||0!==e)b+c+e>=d?f.push(a):((b=this._curveHelper.getSubCurve(a,0,b))&&f.push(b),(b=this._curveHelper.getSubCurve(a,.5*(d-e),.5*(d+e)))&&f.push(b),(b=this._curveHelper.getSubCurve(a,d-c,c))&&f.push(b));return 0===f.length?null:{paths:f}};return e}(n.PathGeometryCursor)})},"esri/symbols/cim/effects/EffectDashes":function(){define("require exports tslib ../CIMCursor ../CurveHelper ../GeometryWalker".split(" "),
function(a,f,d,n,k,m){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new h(a,b,e)};a.instance=null;return a}();f.EffectDashes=a;var h=function(a){function c(b,c,e){b=a.call(this,b,!0,!0)||this;b._walker=new m.GeometryWalker;b._walker.updateTolerance(e);b._endings=c.lineDashEnding;b._customDashPos=void 0!==c.offsetAlongLine?c.offsetAlongLine*e:0;b._offsetAtEnd=
void 0!==c.customEndingOffset?c.customEndingOffset*e:0;b._pattern=new m.DashPattern;b._pattern.init(c.dashTemplate,!0);b._pattern.scale(e);return b}d.__extends(c,a);c.prototype.processPath=function(a){if(0===this._pattern.length())return this.iteratePath=!1,{paths:[a]};if(!this.iteratePath){var b=!0;switch(this._endings){default:this._pattern.extPtGap=0;break;case "FullPattern":this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case "FullGap":this.isClosed||(this._pattern.extPtGap=
.5*this._pattern.lastValue());break;case "NoConstraint":this.isClosed||(b=!1);break;case "Custom":this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}var c=this._walker.calculatePathLength(a);if(this._pattern.isEmpty()||c<.1*this._pattern.length()||!this._walker.init(a,this._pattern,b))return{paths:[a]}}if(this.iteratePath)a=this._pattern.nextValue();else{b=void 0;switch(this._endings){default:b=.5*this._pattern.firstValue();break;case "HalfGap":b=.5*-this._pattern.lastValue();break;case "FullGap":b=
-this._pattern.lastValue();break;case "FullPattern":b=0;break;case "NoConstraint":case "Custom":b=-this._customDashPos}a=b/this._pattern.length();a-=Math.floor(a);b=a*this._pattern.length();this._pattern.reset();a=this._pattern.nextValue();for(c=!1;b>=a;)b-=a,a=this._pattern.nextValue(),c=!c;a-=b;c?(this._walker.nextPosition(a),a=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(a),a=this._pattern.nextValue(),this._walker.nextPosition(a),a=this._pattern.nextValue())}(b=
this._walker.nextCurve(a))?this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(this._firstCurve.splice(0,1),k.PathHelper.mergePath(b,this._firstCurve),this._firstCurve=null)):(a=this._pattern.nextValue(),!this._walker.nextPosition(a)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(b=this._firstCurve,this._firstCurve=null)):this.iteratePath=!0):(this.iteratePath=!1,b=this._firstCurve,this._firstCurve=null);return{paths:[b]}};return c}(n.PathGeometryCursor)})},"esri/symbols/cim/GeometryWalker":function(){define(["require",
"exports","tslib","./CIMCursor","./CurveHelper"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){this._values=[];this._currentValue=this._length=this.ctrlPtGap=this.extPtGap=0}a.prototype.isEmpty=function(){return 0===this._values.length};a.prototype.size=function(){return this._values.length};a.prototype.init=function(a,c,b){void 0===b&&(b=!0);this._setEmpty();if(!a||0===a.length)return!1;for(var e=0;e<a.length;e++){var d=Math.abs(a[e]);b&&1E-7>d&&(d=
1E-7);this._values.push(d);this._length+=d}c&&a.length&1&&(this._length*=2);if(0===this._length)return!1;this.ctrlPtGap=this.extPtGap=0;this._currentValue=-1;return!0};a.prototype.scale=function(a){for(var c=this._values?this._values.length:0,b=0;b<c;++b)this._values[b]*=a;this._length*=a;this.extPtGap*=a;this.ctrlPtGap*=a};a.prototype.addValue=function(a){this._length+=a;this._values.push(a)};a.prototype.firstValue=function(){return this._values[0]};a.prototype.lastValue=function(){return this._values[this._values.length-
1]};a.prototype.nextValue=function(){this._currentValue++;this._currentValue===this._values.length&&(this._currentValue=0);return this._values[this._currentValue]};a.prototype.reset=function(){this._currentValue=-1};a.prototype.length=function(){return this._length};a.prototype._setEmpty=function(){this.extPtGap=this.ctrlPtGap=this._length=0;this._currentValue=-1;this._values.length=0};return a}();f.DashPattern=a;var m=function(){function a(){this.reset()}a.prototype.reset=function(){this.segment=
-1;this.abscissa=this.segmentLength=0;this.isPartEnd=this.isPathEnd=!1};a.prototype.isValid=function(){return-1!==this.segment};a.prototype.copyTo=function(a){a.segment=this.segment;a.segmentLength=this.segmentLength;a.abscissa=this.abscissa;a.isPathEnd=this.isPathEnd;a.isPartEnd=this.isPartEnd};return a}();a=function(a){function e(c,b){void 0===c&&(c=0);void 0===b&&(b=!1);c=a.call(this,c,b)||this;c._tolerance=k.PIXEL_TOLERANCE;c._currentPosition=new m;return c}d.__extends(e,a);e.prototype.updateTolerance=
function(a){this._tolerance=k.PIXEL_TOLERANCE*a};e.prototype.init=function(a,b,e){void 0===e&&(e=!0);e?(this._patternLength=b.length(),this._partExtPtGap=b.extPtGap,this._partCtrlPtGap=b.ctrlPtGap):this._partCtrlPtGap=this._partExtPtGap=this._patternLength=0;this._currentPosition.reset();this._partSegCount=0;this._path=a;this._seg=-1;return this.setPosAtNextPart()};e.prototype.curPositionIsValid=function(){return this._currentPosition.isValid()};e.prototype.nextPosition=function(a,b){void 0===b&&
(b=0);var c=new m;if(!this._nextPosition(a,c,null,b))return!1;c.copyTo(this._currentPosition);return!0};e.prototype.curPointAndAngle=function(a){a.pt=this._getPoint(this._currentPosition);var b=this._getAngle(this._currentPosition),c=b[1];a.ca=b[0];a.sa=c};e.prototype.nextPointAndAngle=function(a,b,e){void 0===e&&(e=0);var c=new m;if(!this._nextPosition(a,c,null,e))return!1;c.copyTo(this._currentPosition);b.pt=this._getPoint(c);a=this._getAngle(c);e=a[1];b.ca=a[0];b.sa=e;return!0};e.prototype.nextCurve=
function(a){if(0===a)return null;var b=[],c=new m;if(!this._nextPosition(a,c,b,1))return null;c.copyTo(this._currentPosition);return b};e.prototype.isPathEnd=function(){return this._currentPosition.isPathEnd};e.prototype.getPathEnd=function(){if(-1===this._currentPosition.segment)throw Error("missing segment");return this._path[this._currentPosition.segment+1]};e.prototype._nextPosition=function(a,b,e,d){if(this._currentPosition.isPathEnd)return!1;var c=this._currentPosition.abscissa;0<this._currentPosition.segmentLength&&
(c/=this._currentPosition.segmentLength);for(this._currentPosition.copyTo(b);b.abscissa+a*this._partLengthRatio>b.segmentLength+this._tolerance;)if(e&&(0===e.length&&(0===c?(c=this._path[b.segment],e.push([c[0],c[1]])):e.push(this.getSegCoord2D(this._path,b.segment,c))),c=this._path[b.segment+1],e.push([c[0],c[1]])),c=0,a-=(b.segmentLength-b.abscissa)/this._partLengthRatio,this._partSegCount)b.segment=this.nextSegment(),b.segmentLength=this.calculateSegLength(this._path,b.segment),b.abscissa=0,this._partSegCount--;
else{if(!this.setPosAtNextPart()){if(0===d)return!1;b.segmentLength=this.calculateSegLength(this._path,b.segment);b.isPartEnd=!0;1===d?(b.abscissa=b.segmentLength,b.isPathEnd=!0):b.abscissa=b.segmentLength+a;return!0}this._currentPosition.copyTo(b)}b.abscissa+=a*this._partLengthRatio;e&&(0===e.length&&(0===c?(c=this._path[b.segment],e.push([c[0],c[1]])):e.push(this.getSegCoord2D(this._path,b.segment,c))),a=b.abscissa/b.segmentLength,1===a?(c=this._path[b.segment+1],e.push([c[0],c[1]])):e.push(this.getSegCoord2D(this._path,
b.segment,a)));!this._partSegCount&&Math.abs(b.abscissa-b.segmentLength)<this._tolerance&&(b.isPathEnd=this._partIsLast,b.isPartEnd=!0);return!0};e.prototype._getPoint=function(a){if(-1===a.segment)throw Error("missing segment");return this.getSegCoord2D(this._path,a.segment,0>=a.segmentLength?0:a.abscissa/a.segmentLength)};e.prototype._getAngle=function(a){if(-1===a.segment)throw Error("missing segment");return this.getSegAngleCS(this._path,a.segment,0>=a.segmentLength?0:a.abscissa/a.segmentLength)};
e.prototype.setPosAtNextPart=function(){for(;this._partSegCount;)this.hasNextSegment()&&this.nextSegment(),this._partSegCount--;if(!this.hasNextSegment())return!1;this._partLength=0;this._partIsLast=!0;for(this._partSegCount=0;this.hasNextSegment();)if(this._partLength+=this.calculateSegLength(this._path,this.nextSegment()),this._partSegCount++,1===n.getId(this._path[this.getEndPointIndex()])){this._partIsLast=!this.hasNextSegment();break}for(var a=this._partSegCount;a;)this.previousSegment(),--a;
this._currentPosition.segment=this.nextSegment();this._currentPosition.segmentLength=this.calculateSegLength(this._path,this._currentPosition.segment);this._currentPosition.abscissa=0;this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=!1;--this._partSegCount;a=this.getStartPointIndex();this._ctrlPtBegin=1===n.getId(this._path[a]);a=a+this._partSegCount+1;a>=this._path.length&&(a=0);this._ctrlPtEnd=1===n.getId(this._path[a]);if(0<this._patternLength){var a=this._ctrlPtBegin?this._partCtrlPtGap:
this._partExtPtGap,b=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap,e=Math.round((this._partLength-(a+b))/this._patternLength);0>=e&&(e=0<a+b?0:1);this._partLengthRatio=this._partLength/(a+b+e*this._patternLength);.01>this._partLengthRatio&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0};e.prototype.hasNextSegment=function(){return this._seg<this._path.length-2};e.prototype.previousSegment=function(){return--this._seg};e.prototype.nextSegment=function(){return++this._seg};
e.prototype.getStartPointIndex=function(){return this._seg};e.prototype.getEndPointIndex=function(){return this._seg+1};return e}(k.CurveHelper);f.GeometryWalker=a})},"esri/symbols/cim/effects/EffectDonut":function(){define(["require","exports","../../../geometry/support/jsonUtils","../CurveHelper"],function(a,f,d,n){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,
e,c){return new k(a,e,c)};a.instance=null;return a}();f.EffectDonut=a;var k=function(){function a(a,e,c){this._inputGeometries=a;this._curveHelper=new n.CurveHelper;this._width=(void 0!==e.width?e.width:2)*c;switch(e.method){default:this._method="Mitered";break;case "Bevelled":this._method="Bevelled";break;case "Rounded":case "TrueBuffer":this._method="Rounded";break;case "Square":this._method="Square"}this._option=e.option;this._offsetFlattenError=n.PIXEL_TOLERANCE*c;this._option}a.prototype.next=
function(){for(var a=this._inputGeometries.next();a;){if(d.isExtent(a)&&0<this._width){if(0>Math.min(a.xmax-a.xmin,a.ymax-a.ymin)-2*this._width)return a;var e=[];e.push([[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]);e.push([[a.xmin+this._width,a.ymin+this._width],[a.xmax-this._width,a.ymin+this._width],[a.xmax-this._width,a.ymax-this._width],[a.xmin+this._width,a.ymax-this._width],[a.xmin+this._width,a.ymin+this._width]]);return{rings:e}}if(d.isPolygon(a)&&0<this._width){for(var c=
[],e=[],b=0,a=a.rings;b<a.length;b++){var f=a[b],p=this._curveHelper.calculatePathLength(f);0<p&&c.push(f);var k=this._curveHelper.offset(f,this._width,this._method,4,this._offsetFlattenError);k&&(0>p&&k.reverse(),e.push(k));0>p&&c.push(f)}if(e.length)return{rings:e}}a=this._inputGeometries.next()}return null};return a}()})},"esri/symbols/cim/effects/EffectJog":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",
{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.EffectJog=a;var m=function(a){function e(c,b,e){c=a.call(this,c,!1,!0)||this;c._curveHelper=new k.CurveHelper;c._length=(void 0!==b.length?b.length:20)*e;c._angle=void 0!==b.angle?b.angle:225;c._position=void 0!==b.position?b.position:50;0>c._length&&(c._length=-c._length);20>c._position&&(c._position=
20);80<c._position&&(c._position=80);c._mirror=!1;return c}d.__extends(e,a);e.prototype.processPath=function(a){if(this._curveHelper.isEmpty(a,!1))return null;var b=a[0];a=a[a.length-1];this._curveHelper.normalize([a[0]-b[0],a[1]-b[1]]);var c=[b[0]+(a[0]-b[0])*this._position/100,b[1]+(a[1]-b[1])*this._position/100],e=Math.cos((90-this._angle)/180*Math.PI),d=Math.sin((90-this._angle)/180*Math.PI);this._mirror&&(d=-d);this._mirror=!this._mirror;return{paths:[[b,[c[0]-this._length/2*e,c[1]-this._length/
2*d],[c[0]+this._length/2*e,c[1]+this._length/2*d],a]]}};return e}(n.PathGeometryCursor)})},"esri/symbols/cim/effects/EffectMove":function(){define(["require","exports","../../../core/lang","../../../geometry/support/jsonUtils"],function(a,f,d,n){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,e,c){return new k(a,e,c)};a.instance=null;return a}();f.EffectMove=a;var k=
function(){function a(a,e,c){this._inputGeometries=a;this._offsetX=void 0!==e.offsetX?e.offsetX*c:0;this._offsetY=void 0!==e.offsetY?-e.offsetY*c:0}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(n.isExtent(a))return{xmin:a.xmin+this._offsetX,xmax:a.xmax+this._offsetX,ymin:a.ymin+this._offsetY,ymax:a.ymax+this._offsetY};if(n.isPolygon(a))return a=d.clone(a),this._moveMultipath(a.rings,this._offsetX,this._offsetY),a;if(n.isPolyline(a))return a=d.clone(a),this._moveMultipath(a.paths,
this._offsetX,this._offsetY),a;if(n.isMultipoint(a))return a=d.clone(a),this._movePath(a.points,this._offsetX,this._offsetY),a;if(n.isPoint(a))return{x:a.x+this._offsetX,y:a.y+this._offsetY};a=this._inputGeometries.next()}return null};a.prototype._moveMultipath=function(a,e,c){if(a)for(var b=0;b<a.length;b++)this._movePath(a[b],e,c)};a.prototype._movePath=function(a,e,c){if(a)for(var b=0;b<a.length;b++){var d=a[b];d[0]+=e;d[1]+=c}};return a}()})},"esri/symbols/cim/effects/EffectOffset":function(){define(["require",
"exports","../../../geometry/support/jsonUtils","../CurveHelper"],function(a,f,d,n){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,e,c){return new k(a,e,c)};a.instance=null;return a}();f.EffectOffset=a;var k=function(){function a(a,e,c){this._inputGeometries=a;this._curveHelper=new n.CurveHelper;this._offset=(void 0!==e.offset?e.offset:1)*c;this._method=e.method;
this._option=e.option;this._offsetFlattenError=n.PIXEL_TOLERANCE*c;this._option}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(0===this._offset)return a;if(d.isExtent(a)){if("Rounded"===this._method&&0<this._offset){var e=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];return(e=this._curveHelper.offset(e,this._offset,this._method,4,this._offsetFlattenError))?{rings:[e]}:null}if(0<Math.min(a.xmax-a.xmin,a.ymax-a.ymin)+2*this._offset)return{xmin:a.xmin-
this._offset,xmax:a.xmax+this._offset,ymin:a.ymin-this._offset,ymax:a.ymax+this._offset}}if(d.isPolygon(a)){for(var c=[],b=0,f=a.rings;b<f.length;b++)e=f[b],(e=this._curveHelper.offset(e,this._offset,this._method,4,this._offsetFlattenError))&&c.push(e);if(c.length)return{rings:c}}if(d.isPolyline(a)){c=[];b=0;for(a=a.paths;b<a.length;b++)(f=this._curveHelper.offset(a[b],this._offset,this._method,4,this._offsetFlattenError))&&c.push(f);if(c.length)return{paths:c}}a=this._inputGeometries.next()}return null};
return a}()})},"esri/symbols/cim/effects/EffectReverse":function(){define(["require","exports","../../../core/lang","../../../geometry/support/jsonUtils","../CIMCursor"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.EffectReverse=a;var m=function(){function a(a,c,b){this._inputGeometries=
a;this._reverse=void 0!==c.reverse?c.reverse:!0;b}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(!this._reverse)return a;if(n.isPolyline(a))return a=d.clone(a),k.reverseMultipath(a.paths),a;a=this._inputGeometries.next()}return null};return a}()})},"esri/symbols/cim/effects/EffectRotate":function(){define("require exports ../../../core/lang ../../../geometry/support/aaBoundingRect ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils".split(" "),function(a,
f,d,n,k,m){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new h(a,b,e)};a.instance=null;return a}();f.EffectRotate=a;var h=function(){function a(a,b,e){this._inputGeometries=a;this._rotateAngle=void 0!==b.angle?-b.angle*Math.PI/180:0;e}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(0===this._rotateAngle)return a;var b=n.create();
k.getBoundsXY(b,a);var e=(b[2]+b[0])/2,b=(b[3]+b[1])/2;if(m.isExtent(a))return a={rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]},this._rotateMultipath(a.rings,e,b),a;if(m.isPolygon(a))return a=d.clone(a),this._rotateMultipath(a.rings,e,b),a;if(m.isPolyline(a))return a=d.clone(a),this._rotateMultipath(a.paths,e,b),a;if(m.isMultipoint(a))return a=d.clone(a),this._rotatePath(a.points,e,b),a;if(m.isPoint(a))return a;a=this._inputGeometries.next()}return null};
a.prototype._rotateMultipath=function(a,b,e){if(a)for(var c=0;c<a.length;c++)this._rotatePath(a[c],b,e)};a.prototype._rotatePath=function(a,b,e){if(a)for(var c=Math.cos(this._rotateAngle),d=Math.sin(this._rotateAngle),f=0;f<a.length;f++){var g=a[f],h=g[0]-b,k=g[1]-e;g[0]=b+h*c-k*d;g[1]=e+h*d+k*c}};return a}()})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(a,f,d,n){function k(a){void 0===a&&(a=f.ZERO);return[a[0],a[1],
a[2],a[3]]}function m(a){return a[0]>=a[2]?0:a[2]-a[0]}function h(a){return a[1]>=a[3]?0:a[3]-a[1]}function e(a,b,c){return b>=a[0]&&c>=a[1]&&b<=a[2]&&c<=a[3]}function c(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function b(a){return 4===a.length}function g(a,b,c){return a<b?b:a>c?c:a}Object.defineProperty(f,"__esModule",{value:!0});f.create=k;f.clone=function(a){return[a[0],a[1],a[2],a[3]]};f.fromValues=function(a,b,c,e,d){void 0===d&&(d=k());d[0]=a;d[1]=b;d[2]=c;d[3]=e;return d};f.fromExtent=
function(a,b){void 0===b&&(b=k());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};f.toExtent=function(a,b){return new n({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};f.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};f.expand=function(a,c,e){void 0===e&&(e=a);if("length"in c)if(b(c))e[0]=Math.min(a[0],c[0]),e[1]=Math.min(a[1],c[1]),e[2]=Math.max(a[2],c[2]),e[3]=Math.max(a[3],c[3]);else{if(2===c.length||
3===c.length)e[0]=Math.min(a[0],c[0]),e[1]=Math.min(a[1],c[1]),e[2]=Math.max(a[2],c[0]),e[3]=Math.max(a[3],c[1])}else switch(c.type){case "extent":e[0]=Math.min(a[0],c.xmin);e[1]=Math.min(a[1],c.ymin);e[2]=Math.max(a[2],c.xmax);e[3]=Math.max(a[3],c.ymax);break;case "point":e[0]=Math.min(a[0],c.x);e[1]=Math.min(a[1],c.y);e[2]=Math.max(a[2],c.x);e[3]=Math.max(a[3],c.y);break;default:d.neverReached(c)}return e};f.expandWithNestedArray=function(a,b,c){void 0===c&&(c=a);var e=b.length,d=a[0],f=a[1],g=
a[2];a=a[3];for(var h=0;h<e;h++){var p=b[h],d=Math.min(d,p[0]),f=Math.min(f,p[1]),g=Math.max(g,p[0]);a=Math.max(a,p[1])}c[0]=d;c[1]=f;c[2]=g;c[3]=a;return c};f.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};f.width=m;f.height=h;f.diameter=function(a){var b=m(a);a=h(a);return Math.sqrt(b*b+a*a)};f.area=function(a){return m(a)*h(a)};f.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=(a[0]+a[2])/2;b[1]=(a[1]+a[3])/2;return b};f.containsPoint=function(a,b){return e(a,b[0],
b[1])};f.containsPointObject=function(a,b){return e(a,b.x,b.y)};f.containsXY=e;f.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[0]<=a[2]+c&&b[1]<=a[3]+c};f.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};f.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};f.intersection=function(a,b,c){void 0===c&&(c=a);var e=b[0],d=b[1],f=b[2];b=b[3];c[0]=g(a[0],e,f);c[1]=g(a[1],d,b);c[2]=
g(a[2],e,f);c[3]=g(a[3],d,b);return c};f.distance=function(a,b){var c=(a[1]+a[3])/2,e=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-m(a)/2,0);a=Math.max(Math.abs(b[1]-c)-h(a)/2,0);return Math.sqrt(e*e+a*a)};f.size=function(a,b){b[0]=a[2]-a[0];b[1]=a[3]-a[1]};f.offset=function(a,b,c,e){void 0===e&&(e=a);e[0]=a[0]+b;e[1]=a[1]+c;e[2]=a[2]+b;e[3]=a[3]+c;return e};f.pad=function(a,b,c){void 0===c&&(c=a);c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]+b;c[3]=a[3]+b;return c};f.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];
c[1]=b[1];c!==a&&(c[2]=a[2],c[3]=a[3]);return c};f.setMax=function(a,b,c){void 0===c&&(c=a);c[2]=b[0];c[3]=b[1];c!==a&&(c[0]=a[0],c[1]=a[1]);return a};f.set=c;f.empty=function(a){return a?c(a,f.NEGATIVE_INFINITY):k(f.NEGATIVE_INFINITY)};f.is=b;f.isPoint=function(a){return(0===m(a)||!isFinite(a[0]))&&(0===h(a)||!isFinite(a[1]))};f.equals=function(a,c,e){if(null==a||null==c)return a===c;if(!b(a)||!b(c))return!1;if(e)for(var d=0;d<a.length;d++){if(!e(a[d],c[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==
c[d])return!1;return!0};f.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];f.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];f.ZERO=[0,0,0,0];f.UNIT=[0,0,1,1]})},"esri/symbols/cim/effects/EffectScale":function(){define("require exports ../../../core/lang ../../../geometry/support/aaBoundingRect ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils".split(" "),function(a,f,d,n,k,m){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=
function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new h(a,b,e)};a.instance=null;return a}();f.EffectScale=a;var h=function(){function a(a,b,e){this._inputGeometries=a;this._xFactor=void 0!==b.xScaleFactor?b.xScaleFactor:1.15;this._yFactor=void 0!==b.yScaleFactor?b.yScaleFactor:1.15;e}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(1===this._xFactor&&1===this._yFactor)return a;var b=n.create();k.getBoundsXY(b,a);
var e=(b[2]+b[0])/2,b=(b[3]+b[1])/2;if(m.isExtent(a))return a={rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]},this._scaleMultipath(a.rings,e,b),a;if(m.isPolygon(a))return a=d.clone(a),this._scaleMultipath(a.rings,e,b),a;if(m.isPolyline(a))return a=d.clone(a),this._scaleMultipath(a.paths,e,b),a;if(m.isMultipoint(a))return a=d.clone(a),this._scalePath(a.points,e,b),a;if(m.isPoint(a))return a;a=this._inputGeometries.next()}return null};a.prototype._scaleMultipath=
function(a,b,e){if(a)for(var c=0;c<a.length;c++)this._scalePath(a[c],b,e)};a.prototype._scalePath=function(a,b,e){if(a)for(var c=0;c<a.length;c++){var d=a[c],f=(d[1]-e)*this._yFactor;d[0]=b+(d[0]-b)*this._xFactor;d[1]=e+f}};return a}()})},"esri/symbols/cim/effects/EffectWave":function(){define(["require","exports","../../../geometry/support/jsonUtils","../CurveHelper","../GeometryWalker"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===
a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.EffectWave=a;var m=function(){function a(a,c,b){this._inputGeometries=a;this._height=(void 0!==c.amplitude?c.amplitude:2)*b;this._period=(void 0!==c.period?c.period:3)*b;this._style=c.waveform;0>=this._height&&(this._height=Math.abs(this._height));0>=this._period&&(this._period=Math.abs(this._period));this._pattern=new k.DashPattern;this._pattern.addValue(this._period);
this._pattern.addValue(this._period);this._walker=new k.GeometryWalker;this._walker.updateTolerance(b)}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(0===this._height||0===this._period)return a;if(d.isPolyline(a)){var c=this._processGeom(a.paths);if(c.length)return{paths:c}}if(d.isPolygon(a)&&(a=this._processGeom(a.rings),a.length))return{rings:a};a=this._inputGeometries.next()}return null};a.prototype._processGeom=function(a){for(var c=[],b=0;b<a.length;b++){var e=a[b];
if(this._walker.init(e,this._pattern))switch(this._style){default:c.push(this._constructCurve(e,!1));break;case "Square":c.push(this._constructSquare(e));break;case "Triangle":c.push(this._constructTriangle(e));break;case "Random":c.push(this._constructCurve(e,!0))}else c.push(e)}return c};a.prototype._constructCurve=function(a,c){var b=new n.PathHelper,e=this._walker.calculatePathLength(a),d=Math.round(e/this._period);0===d&&(d=1);var f=this._period/16,h=1/(16*d+1),e=2*Math.PI*e/(e/d),d=2*Math.PI*
Math.random(),l=2*Math.PI*Math.random(),k=2*Math.PI*Math.random(),m=.75-Math.random()/2,A=.75-Math.random()/2,x={};this._walker.curPointAndAngle(x);b.startPath(x.pt);for(var w=0;;)if(this._walker.nextPointAndAngle(f,x)){var u=w,w=w+h,y=void 0;if(c)var C=this._height/2*(1+.3*Math.sin(m*e*u+d)),y=C*Math.sin(e*u+l),y=y+C*Math.sin(A*e*u+k),y=y/2;else y=.5*this._height*Math.sin(.5*e*u);b.lineTo([x.pt[0]-y*x.sa,x.pt[1]+y*x.ca])}else{b.lineTo(a[a.length-1]);break}return b.path()};a.prototype._constructSquare=
function(a){var c=new n.PathHelper;a=this._walker.calculatePathLength(a);a=Math.round(a/this._period);0===a&&(a=1);for(a=!0;;){var b=!1;if(this._walker.curPositionIsValid()){var e={};this._walker.curPointAndAngle(e);var d={};if(this._walker.nextPointAndAngle(this._period,d)){var f={};this._walker.nextPointAndAngle(this._period,f)&&(a?(c.startPath(e.pt),a=!1):c.lineTo(e.pt),c.lineTo([e.pt[0]-this._height/2*e.sa,e.pt[1]+this._height/2*e.ca]),c.lineTo([d.pt[0]-this._height/2*d.sa,d.pt[1]+this._height/
2*d.ca]),c.lineTo([d.pt[0]+this._height/2*d.sa,d.pt[1]-this._height/2*d.ca]),c.lineTo([f.pt[0]+this._height/2*f.sa,f.pt[1]-this._height/2*f.ca]),b=!0)}}if(!b){c.lineTo(this._walker.getPathEnd());break}}return c.path()};a.prototype._constructTriangle=function(a){var c=new n.PathHelper;a=this._walker.calculatePathLength(a);a=Math.round(a/this._period);0===a&&(a=1);for(a=!0;;){var b=!1;if(this._walker.curPositionIsValid()){var e={};this._walker.curPointAndAngle(e);var d={};if(this._walker.nextPointAndAngle(this._period/
2,d)){var f={};this._walker.nextPointAndAngle(this._period,f)&&(this._walker.nextPosition(this._period/2)&&(a?(c.startPath(e.pt),a=!1):c.lineTo(e.pt),c.lineTo([d.pt[0]-this._height/2*d.sa,d.pt[1]+this._height/2*d.ca]),c.lineTo([f.pt[0]+this._height/2*f.sa,f.pt[1]-this._height/2*f.ca])),b=!0)}}if(!b){c.lineTo(this._walker.getPathEnd());break}}return c.path()};return a}()})},"esri/symbols/cim/placements/PlacementAlongLineSameSize":function(){define("require exports tslib ../CIMCursor ../enums ../GeometryWalker".split(" "),
function(a,f,d,n,k,m){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new h(a,b,e)};a.instance=null;return a}();f.PlacementAlongLineSameSize=a;var h=function(a){function c(b,c,e){b=a.call(this,b,!0,!0)||this;b._grometryWalker=new m.GeometryWalker;b._grometryWalker.updateTolerance(e);b._angleToLine=void 0!==c.angleToLine?c.angleToLine:!0;b._offset=void 0!==
c.offset?c.offset*e:0;b._originalEndings=c.endings;b._offsetAtEnd=void 0!==c.customEndingOffset?c.customEndingOffset*e:0;b._position=void 0!==c.offsetAlongLine?c.offsetAlongLine*e:0;b._pattern=new m.DashPattern;b._pattern.init(c.placementTemplate,!1);b._pattern.scale(e);b._endings=b._originalEndings;return b}d.__extends(c,a);c.prototype.processPath=function(a){if(this._pattern.isEmpty())return null;var b;if(this.iteratePath)b=this._pattern.nextValue();else{this._endings=this._originalEndings===k.PlacementEndings.WithFullGap&&
this.isClosed?k.PlacementEndings.WithMarkers:this._originalEndings;this._pattern.extPtGap=0;var c=!0;b=void 0;switch(this._endings){case k.PlacementEndings.NoConstraint:b=-this._position;b=this._adjustPosition(b);c=!1;break;default:b=-this._pattern.lastValue()/2;break;case k.PlacementEndings.WithFullGap:b=-this._pattern.lastValue();this._pattern.extPtGap=this._pattern.lastValue();break;case k.PlacementEndings.WithMarkers:b=0;break;case k.PlacementEndings.Custom:b=-this._position,b=this._adjustPosition(b),
this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._grometryWalker.init(a,this._pattern,c))return null;this._pattern.reset();for(a=0;b>a;)b-=a,a=this._pattern.nextValue();b=a-b;this.iteratePath=!0}a={};if(!this._grometryWalker.nextPointAndAngle(b,a)||this._endings===k.PlacementEndings.WithFullGap&&this._grometryWalker.isPathEnd())return this.iteratePath=!1,null;if(this._endings===k.PlacementEndings.WithMarkers&&this._grometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed))return null;this.internalPlacement.setTranslate(a.pt[0]+
this._offset*a.sa,a.pt[1]-this._offset*a.ca);this._angleToLine&&this.internalPlacement.setRotateCS(a.ca,a.sa);return this.internalPlacement};c.prototype._adjustPosition=function(a){a/=this._pattern.length();a-=Math.floor(a);return a*this._pattern.length()};return c}(n.PathTransformationCursor)})},"esri/symbols/cim/enums":function(){define(["require","exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});a=f.PlacementEndings||(f.PlacementEndings={});a.NoConstraint="NoConstraint";
a.WithMarkers="WithMarkers";a.WithFullGap="WithFullGap";a.WithHalfGap="WithHalfGap";a.Custom="Custom"})},"esri/symbols/cim/placements/PlacementAtExtremities":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.PlacementAtExtremities=
a;var m=function(a){function e(c,b,e){c=a.call(this,c,!1,!0)||this;c._curveHelper=new k.CurveHelper;c._angleToLine=void 0!==b.angleToLine?b.angleToLine:!0;c._offset=void 0!==b.offset?b.offset*e:0;c._type=b.extremityPlacement;c._position=void 0!==b.offsetAlongLine?b.offsetAlongLine*e:0;c._beginProcessed=!1;return c}d.__extends(e,a);e.prototype.processPath=function(a){var b;switch(this._type){default:this._beginProcessed?(n.reversePath(a),b=this._atExtremities(a,this._position),n.reversePath(a),this.iteratePath=
this._beginProcessed=!1):(b=this._atExtremities(a,this._position),this.iteratePath=this._beginProcessed=!0);break;case "JustBegin":b=this._atExtremities(a,this._position);break;case "JustEnd":n.reversePath(a),b=this._atExtremities(a,this._position),n.reversePath(a);case "None":}return b};e.prototype._atExtremities=function(a,b){for(var c=a.length,e=0,d,f=a[0],h=1;h<c;++h){d=f;var f=a[h],k=this._curveHelper.calculateLength(d,f);if(e+k>b)return b=(b-e)/k,c=this._curveHelper.getAngleCS(d,f,b),a=c[0],
c=c[1],d=n.getCoord2D(d,f,b),this.internalPlacement.setTranslate(d[0]-this._offset*c,d[1]+this._offset*a),this._angleToLine&&this.internalPlacement.setRotateCS(-a,-c),this.internalPlacement;e+=k}return null};return e}(n.PathTransformationCursor)})},"esri/symbols/cim/placements/PlacementAtRatioPositions":function(){define(["require","exports","tslib","../CIMCursor","../GeometryWalker"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===
a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.PlacementAtRatioPositions=a;var m=function(a){function e(c,b,e){c=a.call(this,c,!0,!0)||this;c._walker=new k.GeometryWalker;c._walker.updateTolerance(e);c._angleToLine=void 0!==b.angleToLine?b.angleToLine:!0;c._offset=void 0!==b.offset?b.offset*e:0;c._beginGap=void 0!==b.beginPosition?b.beginPosition*e:0;c._endGap=void 0!==b.endPosition?b.endPosition*e:0;c._flipFirst=
void 0!==b.flipFirst?b.flipFirst:!0;c._pattern=new k.DashPattern;c._pattern.init(b.positionArray,!1,!1);c._subPathLen=0;c._posCount=c._pattern.size();c._isFirst=!0;c._prevPos=0;return c}d.__extends(e,a);e.prototype.processPath=function(a){if(this._pattern.isEmpty())return null;var b;if(this.iteratePath)a=this._pattern.nextValue()*this._subPathLen,a=this._beginGap+a,b=a-this._prevPos,this._prevPos=a;else{this._posCount=this._pattern.size();this._isFirst=!0;this._prevPos=0;this._subPathLen=this._walker.calculatePathLength(a)-
this._beginGap-this._endGap;if(0>this._subPathLen)return this.iteratePath=!1,null;if(!this._walker.init(a,this._pattern,!1))return null;this._pattern.reset();a=this._pattern.nextValue()*this._subPathLen;a=this._beginGap+a;b=a-this._prevPos;this._prevPos=a;this.iteratePath=!0}a={};if(!this._walker.nextPointAndAngle(b,a,1))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(a.pt[0]+this._offset*a.sa,a.pt[1]-this._offset*a.ca);b=this._isFirst&&this._flipFirst;var c;this._angleToLine?
(c=a.ca,a=a.sa):(c=1,a=0);b&&(c=-c,a=-a);this.internalPlacement.setRotateCS(c,a);this._isFirst=!1;this._posCount--;0===this._posCount&&(this.iteratePath=!1);return this.internalPlacement};return e}(n.PathTransformationCursor)})},"esri/symbols/cim/placements/PlacementOnLine":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=
new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.PlacementOnLine=a;var m=function(a){function e(c,b,e){c=a.call(this,c,!0,!0)||this;c._curveHelper=new k.CurveHelper;c._angleToLine=void 0!==b.angleToLine?b.angleToLine:!0;c._offset=void 0!==b.offset?b.offset*e:0;c._relativeTo=b.relativeTo;c._position=void 0!==b.startPointOffset?b.startPointOffset*e:0;c._epsilon=.001*e;return c}d.__extends(e,a);e.prototype.processPath=function(a){var b=
this._position;if("SegmentMidpoint"===this._relativeTo){this.iteratePath||(this._segmentCount=a.length,this._curSegment=1,this.iteratePath=!0);for(;this._curSegment<this._segmentCount;){var c=this._curSegment;this._curSegment++;var b=a[c-1],c=a[c],e=this._curveHelper.calculateLength(b,c);if(!(e<this._epsilon)){var e=.5+this._position/e,d=this._curveHelper.getAngleCS(b,c,e);a=d[0];d=d[1];b=n.getCoord2D(b,c,e);this.internalPlacement.setTranslate(b[0]-this._offset*d,b[1]+this._offset*a);this._angleToLine&&
this.internalPlacement.setRotateCS(a,d);return this.internalPlacement}}this.iteratePath=!1;return null}"LineEnd"===this._relativeTo&&n.reversePath(a);b=this.onLine(a,b);"LineEnd"===this._relativeTo&&n.reversePath(a);return b};e.prototype.onLine=function(a,b){var c,e=!1;switch(this._relativeTo){default:c=this._curveHelper.calculatePathLength(a)/2+b;break;case "LineBeginning":c=b;break;case "LineEnd":c=b,e=!0}for(var d=a.length,f=0,h=a[0],k=1;k<d;++k){b=h;var h=a[k],m=this._curveHelper.calculateLength(b,
h);if(f+m>c)return c=(c-f)/m,d=this._curveHelper.getAngleCS(b,h,c),a=d[0],d=d[1],b=n.getCoord2D(b,h,c),this.internalPlacement.setTranslate(b[0]-this._offset*d,b[1]+this._offset*a),this._angleToLine&&(e?this.internalPlacement.setRotateCS(-a,-d):this.internalPlacement.setRotateCS(a,d)),this.internalPlacement;f+=m}return null};return e}(n.PathTransformationCursor)})},"esri/symbols/cim/placements/PlacementOnVertices":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,
f,d,n,k){function m(a,c){for(var b=Math.PI;Math.abs(c-a)>b+2E-15;)c=c-a>b?c-2*b:c+2*b;return(a+c)/2}Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new h(a,b,e)};a.instance=null;return a}();f.PlacementOnVertices=a;var h=function(a){function c(b,c,e){b=a.call(this,b,!0,!0)||this;b._curveHelper=new k.CurveHelper;b._angleToLine=void 0!==c.angleToLine?c.angleToLine:
!0;b._offset=void 0!==c.offset?c.offset*e:0;b._endPoints=void 0!==c.placeOnEndPoints?c.placeOnEndPoints:!0;b._controlPoints=void 0!==c.placeOnControlPoints?c.placeOnControlPoints:!0;b._regularVertices=void 0!==c.placeOnRegularVertices?c.placeOnRegularVertices:!0;b._tags=[];b._tagIterator=0;return b}d.__extends(c,a);c.prototype.processPath=function(a){this.iteratePath||(this._preparePath(a),this.iteratePath=!0);if(this._tagIterator>=this._tags.length)return this._tagIterator=this._tags.length=0,this.iteratePath=
!1,null;a=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(a[2]);var b=a[0],c=a[1];if(0!==this._offset)var e=Math.cos(a[2]),b=b-this._offset*Math.sin(a[2]),c=c+this._offset*e;this.internalPlacement.setTranslate(b,c);this._tagIterator++;return this.internalPlacement};c.prototype._preparePath=function(a){this._tagIterator=this._tags.length=0;for(var b=n.isClosedPath(a),c=a.length-1,e=0,d=0,f=0,h=0,k=0,A,x;e<c;){e++;A=a[e-1];x=a[e];var w=n.getId(A),u=n.getId(x);if(this._angleToLine||
0!==this._offset)h=this._curveHelper.getAngle(A,x,0);1===e?b?(d=h,f=w):this._endPoints&&this._tags.push([A[0],A[1],h]):1===w?this._controlPoints&&this._tags.push([A[0],A[1],m(k,h)]):this._regularVertices&&this._tags.push([A[0],A[1],m(k,h)]);if(this._angleToLine||0!==this._offset)k=this._curveHelper.getAngle(A,x,1);e===c&&(b?1===u||1===f?this._controlPoints&&this._tags.push([x[0],x[1],m(k,d)]):this._regularVertices&&this._tags.push([x[0],x[1],m(k,d)]):this._endPoints&&this._tags.push([x[0],x[1],k]))}this._tagIterator=
0};return c}(n.PathTransformationCursor)})},"esri/symbols/cim/placements/PlacementPolygonCenter":function(){define(["require","exports","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../CIMPlacements"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new m(a,c,b)};a.instance=null;return a}();f.PlacementPolygonCenter=
a;var m=function(){function a(a,c,b){this._geometry=a;this._offsetX=void 0!==c.offsetX?c.offsetX*b:0;this._offsetY=void 0!==c.offsetY?c.offsetY*b:0;this._method=c.method;this._clipping=c.clipAtBoundary;this._internalPlacement=new k.Placement;this._clipping}a.prototype.next=function(){var a=this._geometry;this._geometry=null;return a&&void 0!==a.rings?this._polygonCenter(a):null};a.prototype._polygonCenter=function(a){switch(this._method){default:case "CenterOfMass":case "BoundingBoxCenter":var c=
d.create();n.getBoundsXY(c,a);this._internalPlacement.setTranslate((c[2]+c[0])/2+this._offsetX,(c[3]+c[1])/2-this._offsetY)}return this._internalPlacement};return a}()})},"esri/symbols/cim/Rect":function(){define(["require","exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});a=function(){function a(a,d,f,h){void 0===a&&(a=0);void 0===d&&(d=0);void 0===f&&(f=0);void 0===h&&(h=0);this.x=a;this.y=d;this.width=f;this.height=h}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=
this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();f.default=a})},"esri/symbols/cim/packingUtils":function(){define(["require","exports"],function(a,f){function d(a){return a-Math.floor(a)}Object.defineProperty(f,"__esModule",{value:!0});var n=[1,256,65536,16777216],k=[1/256,1/65536,1/16777216,1/4294967296],m=
function(a,e){void 0===e&&(e=0);for(var c=0,b=0;4>b;b++)c+=a[e+b]*k[b];return c}(new Uint8ClampedArray([255,255,255,255]));f.packFloatRGBA=function(a,e,c){void 0===c&&(c=0);a=0>a?0:a>m?m:a;for(var b=0;4>b;b++)e[c+b]=Math.floor(256*d(a*n[b]))}})},"esri/symbols/cim/SDFHelper":function(){define(["require","exports","../../geometry/support/jsonUtils","./packingUtils","./Rect"],function(a,f,d,n,k){function m(a){if(!a)return null;switch(a.type){case "CIMPointSymbol":a=a.symbolLayers;if(!a||1!==a.length)break;
return m(a[0]);case "CIMVectorMarker":a=a.markerGraphics;if(!a||1!==a.length)break;var c=a[0];if(!c)break;a=c.geometry;if(!a)break;c=c.symbol;if(!c||"CIMPolygonSymbol"!==c.type&&"CIMLineSymbol"!==c.type)break;return{geom:a,asFill:"CIMPolygonSymbol"===c.type};case "sdf":return{geom:a.geom,asFill:a.asFill}}return null}function h(a){for(var c=Infinity,b=-Infinity,e=Infinity,d=-Infinity,f=0;f<a.length;f++)for(var h=0,l=a[f];h<l.length;h++){var k=l[h];k[0]<c&&(c=k[0]);k[0]>b&&(b=k[0]);k[1]<e&&(e=k[1]);
k[1]>d&&(d=k[1])}return[c,e,b,d]}Object.defineProperty(f,"__esModule",{value:!0});f.getSDFInfo=m;f.getSDFSymbol=function(a){a=a.markerGraphics;if(!a||1!==a.length)return null;a=a[0];if(!a)return null;a=a.symbol;return!a||"CIMPolygonSymbol"!==a.type&&"CIMLineSymbol"!==a.type?null:a};f.getExtent=function(a){return a?a.rings?h(a.rings):a.paths?h(a.paths):d.isExtent(a)?[a.xmin,a.ymin,a.xmax,a.ymax]:null:null};f.getSDFMetrics=function(a,c,b,d,f){var e=a[0],g=a[1],h=a[2];a=a[3];if(h<e||a<g)return[0,0,0];
var p=h-e,k=a-g,h=Math.floor(31.5);a=(128-2*(h+1))/Math.max(p,k);var p=Math.round(p*a),k=Math.round(k*a)+2*h,m=1;c&&(m=k/a/(c.ymax-c.ymin));var n=0,w=0;d&&(f?c&&b&&0<c.ymax-c.ymin&&(n=d.x/((c.xmax-c.xmin)/(c.ymax-c.ymin)*b),w=d.y/b):(n=d.x,w=d.y));n=.5*(c.xmax+c.xmin)+n*(c.xmax-c.xmin);w=.5*(c.ymax+c.ymin)+w*(c.ymax-c.ymin);n=(n-e)*a+h;w=(w-g)*a+h;return[m,n/(p+2*h)-.5,-(w/k-.5)]};f.buildSDF=function(a){var c,b=a.geom;c=b?b.rings?b.rings:b.paths?b.paths:void 0!==b.xmin&&void 0!==b.ymin&&void 0!==
b.xmax&&void 0!==b.ymax?[[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]]]:null:null;var d,b=Infinity,e=-Infinity,f=Infinity,h=-Infinity;for(d=0;d<c.length;d++)for(var l=0,m=c[d];l<m.length;l++){var v=m[l];v[0]<b&&(b=v[0]);v[0]>e&&(e=v[0]);v[1]<f&&(f=v[1]);v[1]>h&&(h=v[1])}d=new k.default(b,f,e-b,h-f);f=Math.floor(31.5);l=(128-2*(f+1))/Math.max(d.width,d.height);b=Math.round(d.width*l)+2*f;e=Math.round(d.height*l)+2*f;h=[];for(m=0;m<c.length;m++){var A=c[m];if(A&&
1<A.length){for(var v=[],x=0;x<A.length;x++){var w=A[x],u=w[0],w=w[1],u=u-d.x,w=w-d.y,u=u*l,w=w*l,u=u+(f-.5),w=w+(f-.5);v.push([u,w])}a.asFill&&(x=v.length-1,v[0][0]===v[x][0]&&v[0][1]===v[x][1]||v.push(v[0]));h.push(v)}}d=b*e;c=Array(d);m=f*f+1;for(l=0;l<d;++l)c[l]=m;for(m=0;m<h.length;m++)for(v=h[m],x=v.length,l=1;l<x;++l){var A=v[l-1],u=v[l],y=void 0,w=void 0;A[0]<u[0]?(y=A[0],w=u[0]):(y=u[0],w=A[0]);var C=void 0,z=void 0;A[1]<u[1]?(C=A[1],z=u[1]):(C=u[1],z=A[1]);var D=Math.floor(y)-f,w=Math.floor(w)+
f,C=Math.floor(C)-f,z=Math.floor(z)+f;0>D&&(D=0);w>b&&(w=b);0>C&&(C=0);z>e&&(z=e);for(var y=u[0]-A[0],B=u[1]-A[1],E=y*y+B*B;D<w;D++)for(var F=C;F<z;F++){var H=(D-A[0])*y+(F-A[1])*B,G=void 0,L=void 0;0>H?(G=A[0],L=A[1]):H>E?(G=u[0],L=u[1]):(H/=E,G=A[0]+H*y,L=A[1]+H*B);H=(D-G)*(D-G)+(F-L)*(F-L);G=(e-F-1)*b+D;H<c[G]&&(c[G]=H)}}for(l=0;l<d;++l)c[l]=Math.sqrt(c[l]);if(a.asFill)for(a=0;a<h.length;a++)for(d=h[a],l=d.length,m=1;m<l;++m)for(v=d[m-1],x=d[m],u=A=void 0,v[0]<x[0]?(A=v[0],u=x[0]):(A=x[0],u=v[0]),
w=C=void 0,v[1]<x[1]?(C=v[1],w=x[1]):(C=x[1],w=v[1]),A=Math.floor(A),u=Math.floor(u)+1,C=Math.floor(C),w=Math.floor(w)+1,A<f&&(A=f),u>b-f&&(u=b-f),C<f&&(C=f),w>e-f&&(w=e-f);C<w;++C)if(v[1]>C!==x[1]>C){z=(e-C-1)*b;for(y=A;y<u;++y)y<(x[0]-v[0])*(C-v[1])/(x[1]-v[1])+v[0]&&(c[z+y]=-c[z+y]);for(y=f;y<A;++y)c[z+y]=-c[z+y]}f*=2;h=c.length;a=new Uint8Array(4*h);for(d=0;d<h;++d)n.packFloatRGBA(.5-c[d]/f,a,4*d);return[a,b,e]}})},"esri/symbols/cim/utils":function(){define(["require","exports"],function(a,f){function d(a,
d){"string"!==typeof a&&(a=String(a));switch(d){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}Object.defineProperty(f,"__esModule",{value:!0});f.evaluateValueOrFunction=function(a,d,f,h){return"function"===typeof a?a(d,f,h):a};f.colorToArray=function(a){return[a.r,a.g,a.b,a.a]};f.createLabelOverrideFunction=function(a,f,m){var h=function(a){for(var b=a.length;b--;)if(-1===" /-,\n".indexOf(a.charAt(b)))return!1;return!0},e=[],c=0,b=-1;do b=f.indexOf("[",
c),b>=c&&(b>c&&(c=f.substr(c,b-c),e.push([c,null,h(c)])),c=b+1,b=f.indexOf("]",c),b>=c&&(b>c&&(c=f.substr(c,b-c),(c=a[c])&&e.push([null,c,!1])),c=b+1));while(-1!==b);c<f.length-1&&(c=f.substr(c),e.push([c,null,h(c)]));return function(a){for(var b="",c=null,f=0;f<e.length;f++){var g=e[f],h=g[0],k=g[1],g=g[2];if(h)g?c=h:(c&&(b+=c,c=null),b+=h);else if(h=a.attributes[k])c&&(b+=c,c=null),b+=h}return d(b,m)}};f._adjustTextCase=d;f.resampleHermite=function(a,d,f,h,e,c,b){void 0===b&&(b=!0);var g=d/e;f/=
c;for(var p=Math.ceil(g/2),k=Math.ceil(f/2),m=0;m<c;m++)for(var l=0;l<e;l++){for(var n=4*(l+(b?c-m-1:m)*e),v=0,A=0,x=0,w=0,u=0,y=0,C=0,z=(m+.5)*f,D=Math.floor(m*f);D<(m+1)*f;D++)for(var B=Math.abs(z-(D+.5))/k,E=(l+.5)*g,B=B*B,F=Math.floor(l*g);F<(l+1)*g;F++){var H=Math.abs(E-(F+.5))/p,v=Math.sqrt(B+H*H);-1<=v&&1>=v&&(v=2*v*v*v-3*v*v+1,0<v&&(H=4*(F+D*d),C+=v*a[H+3],x+=v,255>a[H+3]&&(v=v*a[H+3]/250),w+=v*a[H],u+=v*a[H+1],y+=v*a[H+2],A+=v))}h[n]=w/A;h[n+1]=u/A;h[n+2]=y/A;h[n+3]=C/x}};f.fromCIMColor=
function(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}};f.toCIMSymbolJSON=function(a){var d;return null===(d=a.data)||void 0===d?void 0:d.symbol};f.isCIMMarker=function(a){return"CIMVectorMarker"===a.type||"CIMPictureMarker"===a.type||"CIMBarChartMarker"===a.type||"CIMCharacterMarker"===a.type||"CIMPieChartMarker"===a.type||"CIMStackedBarChartMarker"===a.type};f.isCIMStroke=function(a){return"CIMGradientStroke"===a.type||"CIMPictureStroke"===a.type||"CIMSolidStroke"===a.type};f.isCIMFill=
function(a){return"CIMGradientFill"===a.type||"CIMHatchFill"===a.type||"CIMPictureFill"===a.type||"CIMSolidFill"===a.type||"CIMWaterFill"===a.type};f.isCIMMarkerStrokePlacement=function(a){return"CIMMarkerPlacementAlongLineRandomSize"===a.type||"CIMMarkerPlacementAlongLineSameSize"===a.type||"CIMMarkerPlacementAlongLineVariableSize"===a.type||"CIMMarkerPlacementAtExtremities"===a.type||"CIMMarkerPlacementAtMeasuredUnits"===a.type||"CIMMarkerPlacementAtRatioPositions"===a.type||"CIMMarkerPlacementOnLine"===
a.type||"CIMMarkerPlacementOnVertices"===a.type}})},"esri/views/2d/arcade/utils":function(){define("require exports tslib @dojo/framework/shim/WeakMap ../../../core/Error ../../../core/Logger ../../../geometry/support/quantizationUtils ../../../layers/graphics/featureConversionUtils".split(" "),function(a,f,d,n,k,m,h,e){function c(a,c,e,f){var g=f.transform,h=f.hasZ;f=f.hasM;p.has(a)||p.set(a,b(e));a=p.get(a)(c.geometry,g,h,f);return d.__assign(d.__assign({},c),{geometry:a})}function b(a){var b={};
switch(a){case "esriGeometryPoint":return function(a,c,d,e){return h.hydratePoint(c,b,a,d,e)};case "esriGeometryPolygon":return function(a,c,d,e){return h.hydratePolygon(c,b,a,d,e)};case "esriGeometryPolyline":return function(a,c,d,e){return h.hydratePolyline(c,b,a,d,e)};case "esriGeometryMultipoint":return function(a,c,d,e){return h.hydrateMultipoint(c,b,a,d,e)};default:return g.error(new k("mapview-arcade","Unable to handle geometryType: "+a)),function(a){return a}}}Object.defineProperty(f,"__esModule",
{value:!0});var g=m.getLogger("esri.views.2d.support.arcadeOnDemand");f.callWithOptimizedFeature=function(a,b,f,h,p){var l=h.geometryType,k=h.hasZ;h=h.hasM;b=a.referencesGeometry()?p?c(a,e.convertToFeature(b,l,k,h),l,p):e.convertToFeature(b,l,k,h):b;b=a.repurposeFeature(b);try{return a.evaluate(d.__assign(d.__assign({},f),{$feature:b}))}catch(w){return g.warn("Feature arcade evaluation failed:",w),null}};f.callWithFeature=function(a,b,e,f,h){b=a.referencesGeometry()&&h?c(a,b,f,h):b;b=a.repurposeFeature(b);
try{return a.evaluate(d.__assign(d.__assign({},e),{$feature:b}))}catch(A){return g.warn("Feature arcade evaluation failed:",A),null}};var p=new n.default;f.createHydrateFactory=b})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(a,f,d){function n(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function k(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function m(a,b,c){for(var d=[],e,f,g,h,l=0;l<c.length;l++){var p=c[l];if(0<l){if(g=
n(a,p[0]),h=k(a,p[1]),g!==e||h!==f)d.push(b(p,g-e,h-f)),e=g,f=h}else e=n(a,p[0]),f=k(a,p[1]),d.push(b(p,e,f))}return 0<d.length?d:null}function h(a,b,c,d){return m(a,c?d?B:D:d?D:z,b)}function e(a,b,c,d){var e=[];c=c?d?B:D:d?D:z;for(d=0;d<b.length;d++){var f=m(a,c,b[d]);f&&3<=f.length&&e.push(f)}return e.length?e:null}function c(a,b,c,d){var e=[];c=c?d?B:D:d?D:z;for(d=0;d<b.length;d++){var f=m(a,c,b[d]);f&&2<=f.length&&e.push(f)}return e.length?e:null}function b(a,b){return b*a.scale[0]+a.translate[0]}
function g(a,b){return a.translate[1]-b*a.scale[1]}function p(a,c,d){var e=Array(d.length);if(!d.length)return e;var f=a.scale,h=f[0],f=f[1],l=b(a,d[0][0]);a=g(a,d[0][1]);e[0]=c(d[0],l,a);for(var p=1;p<d.length;p++){var k=d[p],l=l+k[0]*h;a-=k[1]*f;e[p]=c(k,l,a)}return e}function r(a,b,c){for(var d=Array(c.length),e=0;e<c.length;e++)d[e]=p(a,b,c[e]);return d}function q(a,b,c,d){return p(a,c?d?B:D:d?D:z,b)}function l(a,b,c,d){return r(a,c?d?B:D:d?D:z,b)}function t(a,b,c,d){return r(a,c?d?B:D:d?D:z,
b)}function v(a,b,c){var d=c[0],e=d[0],d=d[1],f=Math.min(e,b[0]),g=Math.min(d,b[1]),h=Math.max(e,b[2]);b=Math.max(d,b[3]);for(var l=1;l<c.length;l++){var p=c[l],k=p[0],p=p[1],e=e+k,d=d+p;0>k&&(f=Math.min(f,e));0<k&&(h=Math.max(h,e));0>p?g=Math.min(g,d):0<p&&(b=Math.max(b,d))}a[0]=f;a[1]=g;a[2]=h;a[3]=b;return a}function A(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)v(a,a,b[c]);return a}function x(a,b,c,d,e){b.xmin=
n(a,c.xmin);b.ymin=k(a,c.ymin);b.xmax=n(a,c.xmax);b.ymax=k(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),e&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function w(a,b,c,d,e){b.points=h(a,c.points,d,e);return b}function u(a,b,c,d,e){b.x=n(a,c.x);b.y=k(a,c.y);b!==c&&(d&&(b.z=c.z),e&&(b.m=c.m));return b}function y(a,b,c,d,f){a=e(a,c.rings,d,f);if(!a)return null;b.rings=a;return b}function C(a,b,d,e,f){a=c(a,d.paths,e,f);if(!a)return null;b.paths=a;return b}Object.defineProperty(f,"__esModule",{value:!0});
var z=function(a,b,c){return[b,c]},D=function(a,b,c){return[b,c,a[2]]},B=function(a,b,c){return[b,c,a[2],a[3]]};f.toQuantizationTransform=function(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};f.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,d,e,f;a&&"upperLeft"===a.originPosition?(c=a.translate[0],
d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(e=b.translate[0],f=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,f=b.extent.ymax,b=b.tolerance);return c===e&&d===f&&a===b};f.quantizeX=n;f.quantizeY=k;f.quantizeBounds=function(a,b,c){b[0]=n(a,c[0]);b[3]=k(a,c[1]);b[2]=n(a,c[2]);b[1]=k(a,c[3]);return b};f.quantizePoints=h;f.quantizeRings=e;f.quantizePaths=c;f.hydrateX=b;f.hydrateY=g;f.hydrateCoordsArray=p;f.hydrateCoordsArrayArray=r;
f.hydrateBounds=function(a,c,d){return d?(c[0]=b(a,d[0]),c[1]=g(a,d[3]),c[2]=b(a,d[2]),c[3]=g(a,d[1]),c):[b(a,c[0]),g(a,c[3]),b(a,c[2]),g(a,c[1])]};f.hydratePoints=q;f.hydratePaths=l;f.hydrateRings=t;f.getQuantizedBoundsCoordsArray=v;f.getQuantizedBoundsCoordsArrayArray=A;f.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return v(b,b,a)};f.getQuantizedBoundsPaths=function(a){return A([0,0,0,0],a)};f.getQuantizedBoundsRings=
function(a){return A([0,0,0,0],a)};f.quantizeExtent=x;f.quantizeMultipoint=w;f.quantizePoint=u;f.quantizePolygon=y;f.quantizePolyline=C;f.quantizeGeometry=function(a,b){return a&&b?d.isPoint(b)?u(a,{},b,!1,!1):d.isPolyline(b)?C(a,{},b,!1,!1):d.isPolygon(b)?y(a,{},b,!1,!1):d.isMultipoint(b)?w(a,{},b,!1,!1):d.isExtent(b)?x(a,{},b,!1,!1):null:null};f.hydrateExtent=function(a,c,d,e,f){c.xmin=b(a,d.xmin);c.ymin=g(a,d.ymin);c.xmax=b(a,d.xmax);c.ymax=g(a,d.ymax);c!==d&&(e&&(c.zmin=d.zmin,c.zmax=d.zmax),
f&&(c.mmin=d.mmin,c.mmax=d.mmax));return c};f.hydrateMultipoint=function(a,b,c,d,e){b.points=q(a,c.points,d,e);return b};f.hydratePoint=function(a,c,d,e,f){c.x=b(a,d.x);c.y=g(a,d.y);c!==d&&(e&&(c.z=d.z),f&&(c.m=d.m));return c};f.hydratePolygon=function(a,b,c,d,e){b.rings=t(a,c.rings,d,e);return b};f.hydratePolyline=function(a,b,c,d,e){b.paths=l(a,c.paths,d,e);return b}})},"esri/layers/graphics/featureConversionUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,f,d,n,k,m,h,e){function c(a,b){return a?b?4:3:b?3:2}function b(a,b,c,d){if(a){if(c)return b&&d?T:S;if(b&&d)return X}else if(b&&d)return S;return R}function g(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function p(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function r(a,b){return b*a.scale[0]+a.translate[0]}function q(a,b){return a.translate[1]-b*a.scale[1]}function l(a){a=a.coords;return{x:a[0],y:a[1]}}function t(a,b){a.coords[0]=b.x;a.coords[1]=b.y;return a}function v(a){a=
a.coords;return{x:a[0],y:a[1],z:a[2]}}function A(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;return a}function x(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function w(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.m;return a}function u(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function y(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;a.coords[3]=b.m;return a}function C(a,b){return a&&b?y:a?A:b?w:t}function z(a,b,d){if(!a)return null;for(var e=c(b,d),f=[],g=0;g<a.coords.length;g+=
e){for(var h=[],l=0;l<e;l++)h.push(a.coords[g+l]);f.push(h)}return b?d?{points:f,hasZ:b,hasM:d}:{points:f,hasZ:b}:d?{points:f,hasM:d}:{points:f}}function D(a,b,d){void 0===d&&(d=c(b.hasZ,b.hasM));a.lengths[0]=b.points.length;var e=a.coords,f=0,g=0;for(b=b.points;g<b.length;g++)for(var h=b[g],l=0;l<d;l++)e[f++]=h[l];return a}function B(a,b,d){if(!a)return null;var e=c(b,d),f=a.coords,g=[],h=0,l=0;for(a=a.lengths;l<a.length;l++){for(var p=a[l],k=[],m=0;m<p;m++){for(var q=[],n=0;n<e;n++)q.push(f[h++]);
k.push(q)}g.push(k)}return b?d?{paths:g,hasZ:b,hasM:d}:{paths:g,hasZ:b}:d?{paths:g,hasM:d}:{paths:g}}function E(a,b,d){void 0===d&&(d=c(b.hasZ,b.hasM));var e=a.lengths,f=a.coords,g=0,h=0;for(b=b.paths;h<b.length;h++){for(var l=b[h],p=0,k=l;p<k.length;p++)for(var m=k[p],q=0;q<d;q++)f[g++]=m[q];e.push(l.length)}return a}function F(a,b,d){if(!a)return null;var e=c(b,d),f=a.coords,g=[],h=0,l=0;for(a=a.lengths;l<a.length;l++){for(var p=a[l],k=[],m=0;m<p;m++){for(var q=[],n=0;n<e;n++)q.push(f[h++]);k.push(q)}g.push(k)}return b?
d?{rings:g,hasZ:b,hasM:d}:{rings:g,hasZ:b}:d?{rings:g,hasM:d}:{rings:g}}function H(a,b,c,d){void 0===c&&(c=b.hasZ);void 0===d&&(d=b.hasM);G(a,b.rings,c,d);return a}function G(a,b,d,e){d=c(d,e);e=a.lengths;for(var f=a.coords,g=0,h=e.length=f.length=0;h<b.length;h++){for(var l=b[h],p=0,k=l;p<k.length;p++)for(var m=k[p],q=0;q<d;q++)f[g++]=m[q];e.push(l.length)}return a}function L(a,b,f,g,h,l){a.length=0;if(!f){for(g=0;g<b.length;g++)h=b[g],a.push(new m.default(null,h.attributes,null,h.attributes[l]));
return a}switch(f){case "esriGeometryPoint":g=C(g,h);for(h=0;h<b.length;h++){var p=b[h];f=p.geometry;var p=p.attributes,k=void 0;f&&(k=g(new e.default,f));a.push(new m.default(k,p,null,p[l]))}break;case "esriGeometryMultipoint":g=c(g,h);for(h=0;h<b.length;h++)p=b[h],f=p.geometry,p=p.attributes,k=void 0,f&&(k=D(new e.default,f,g)),a.push(new m.default(k,p,null,p[l]));break;case "esriGeometryPolyline":g=c(g,h);for(h=0;h<b.length;h++)p=b[h],f=p.geometry,p=p.attributes,k=void 0,f&&(k=E(new e.default,
f,g)),a.push(new m.default(k,p,null,p[l]));break;case "esriGeometryPolygon":for(f=0;f<b.length;f++){var q=b[f],p=q.geometry,k=q.centroid,q=q.attributes,n=void 0;p&&(n=H(new e.default,p,g,h));k?a.push(new m.default(n,q,t(new e.default,k),q[l])):a.push(new m.default(n,q,null,q[l]))}break;default:Q.error("convertToFeatureSet:unknown-geometry",new d("Unable to parse unknown geometry type '"+f+"'")),a.length=0}return a}function K(a,b,c,e,f){a.length=0;switch(c){case "esriGeometryPoint":c=l;e&&f?c=u:e?
c=v:f&&(c=x);for(e=0;e<b.length;e++){var g=b[e];f=g.geometry;g=g.attributes;f=f?c(f):null;a.push({attributes:g,geometry:f})}break;case "esriGeometryMultipoint":for(c=0;c<b.length;c++){var h=b[c],g=h.geometry,h=h.attributes,p=void 0;g&&(p=z(g,e,f));a.push({attributes:h,geometry:p})}break;case "esriGeometryPolyline":for(c=0;c<b.length;c++)h=b[c],g=h.geometry,h=h.attributes,p=void 0,g&&(p=B(g,e,f)),a.push({attributes:h,geometry:p});break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var p=b[c],
h=p.geometry,g=p.attributes,k=p.centroid,p=void 0;h&&(p=F(h,e,f));k?(h=l(k),a.push({attributes:g,centroid:h,geometry:p})):a.push({attributes:g,geometry:p})}break;default:Q.error("convertToFeatureSet:unknown-geometry",new d("Unable to parse unknown geometry type '"+c+"'"))}return a}function J(a,d,e,f,h,l,k,m){void 0===k&&(k=e);void 0===m&&(m=f);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!d||!d.coords.length)return null;h=O[h];var q=d.coords;d=d.lengths;var n=c(e,
f),r=c(e&&k,f&&m);e=b(e,f,k,m);if(!d.length)return e(a.coords,q,0,0,g(l,q[0]),p(l,q[1])),a.lengths.length&&(a.lengths.length=0),a.coords.length=n,a;for(var t,z=0,y,v=0,x=0;x<d.length;x++){var B=d[x];if(!(B<h)){var u=0;y=v;m=f=g(l,q[z]);t=k=p(l,q[z+1]);e(a.coords,q,y,z,m,t);u++;z+=n;y+=r;for(var C=1;C<B;C++,z+=n)if(m=g(l,q[z]),t=p(l,q[z+1]),m!==f||t!==k)e(a.coords,q,y,z,m-f,t-k),y+=r,u++,f=m,k=t;u>=h&&(a.lengths.push(u),v=y)}}a.coords.length=v;return a.coords.length?a:null}function I(a,b,c,d,e,f,g){for(var h=
d,l=0,p,k=f+c;k<g;k+=c){p=b[k];var m=b[k+1],q=b[g],n=b[g+1],r=b[f],t=b[f+1],z=q-r,y=n-t;if(0!==z||0!==y){var v=((p-r)*z+(m-t)*y)/(z*z+y*y);1<v?(r=q,t=n):0<v&&(r+=z*v,t+=y*v)}z=p-r;y=m-t;p=z*z+y*y;p>h&&(l=k,h=p)}h>d&&(l-f>c&&I(a,b,c,d,e,f,l),e(a,b,a.length,l,b[l],b[l+1]),g-l>c&&I(a,b,c,d,e,l,g))}function M(a,b,d,e,f){var g=b.coords,h=b.lengths,l=d?e?T:S:e?S:R;d=c(d,e);if(!g.length)return a!==b&&(a.lengths.length=0,a.coords.length=0),a;if(!h.length)return l(a.coords,g,0,0,r(f,g[0]),q(f,g[1])),a!==b&&
(a.lengths.length=0,a.coords.length=d),a;var p=f.scale;e=p[0];for(var p=p[1],k=0,m=0;m<h.length;m++){var n=h[m];a.lengths[m]=n;var t=r(f,g[k]),z=q(f,g[k+1]);l(a.coords,g,k,k,t,z);for(var k=k+d,y=1;y<n;y++,k+=d)t+=g[k]*e,z-=g[k+1]*p,l(a.coords,g,k,k,t,z)}a!==b&&(a.lengths.length=h.length,a.coords.length=g.length);return a}Object.defineProperty(f,"__esModule",{value:!0});var Q=n.getLogger("esri.tasks.support.optimizedFeatureSet"),O={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},
R=function(a,b,c,d,e,f){a[c]=e;a[c+1]=f},S=function(a,b,c,d,e,f){a[c]=e;a[c+1]=f;a[c+2]=b[d+2]},X=function(a,b,c,d,e,f){a[c]=e;a[c+1]=f;a[c+2]=b[d+3]},T=function(a,b,c,d,e,f){a[c]=e;a[c+1]=f;a[c+2]=b[d+2];a[c+3]=b[d+3]};f.quantizeX=g;f.quantizeY=p;f.hydrateX=r;f.hydrateY=q;f.convertToPoint=function(a,b,c){return a?b?c?u(a):v(a):c?x(a):l(a):null};f.convertFromPoint=function(a,b,c){void 0===c&&(c=C(null!=b.z,null!=b.m));return c(a,b)};f.convertToMultipoint=z;f.convertFromMultipoint=D;f.convertToPolyline=
B;f.convertFromPolyline=E;f.convertToPolygon=F;f.convertFromPolygon=H;f.convertFromNestedArray=G;var N=[],W=[];f.convertFromFeature=function(a,b,c,d,e){N[0]=a;a=L(W,N,b,c,d,e)[0];N.length=W.length=0;return a};f.convertFromFeatures=L;f.convertToFeature=function(a,b,c,d){W[0]=a;K(N,W,b,c,d);a=N[0];N.length=W.length=0;return a};f.convertFromGeometry=function(a,b,f){if(!a)return null;var g=new e.default;"hasZ"in a&&null==b&&(b=a.hasZ);"hasM"in a&&null==f&&(f=a.hasM);if(k.isPoint(a))return C(null!=b?b:
null!=a.z,null!=f?f:null!=a.m)(g,a);if(k.isPolygon(a))return H(g,a,b,f);if(k.isPolyline(a))return E(g,a,c(b,f));if(k.isMultipoint(a))return D(g,a,c(b,f));Q.error("convertFromGeometry:unknown-geometry",new d("Unable to parse unknown geometry type '"+a+"'"))};f.convertToGeometry=function(a,b,c,e){a=a&&("coords"in a?a:a.geometry);if(!a)return null;switch(b){case "esriGeometryPoint":return b=l,c&&e?b=u:c?b=v:e&&(b=x),b(a);case "esriGeometryMultipoint":return z(a,c,e);case "esriGeometryPolyline":return B(a,
c,e);case "esriGeometryPolygon":return F(a,c,e);default:Q.error("convertToGeometry:unknown-geometry",new d("Unable to parse unknown geometry type '"+b+"'"))}};f.convertToFeatures=K;f.convertToFeatureSet=function(a){var b=a.objectIdFieldName,c=a.spatialReference,d=a.transform,e=a.fields,f=a.hasM,g=a.hasZ,h=a.geometryType,l=a.exceededTransferLimit;a={features:K([],a.features,h,g,f),fields:e,geometryType:h,objectIdFieldName:b,spatialReference:c};d&&(a.transform=d);l&&(a.exceededTransferLimit=l);f&&(a.hasM=
f);g&&(a.hasZ=g);return a};f.convertFromFeatureSet=function(a,b){var c=new h.default,e=a.hasM,f=a.hasZ,g=a.features,l=a.objectIdFieldName,p=a.spatialReference,k=a.geometryType,m=a.exceededTransferLimit,q=a.transform;c.fields=a.fields;c.geometryType=k;c.objectIdFieldName=l||b;c.spatialReference=p;if(!c.objectIdFieldName)return Q.error(new d("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),c;g&&L(c.features,g,k,f,e,c.objectIdFieldName);m&&(c.exceededTransferLimit=m);e&&
(c.hasM=e);f&&(c.hasZ=f);q&&(c.transform=q);return c};f.hydrateOptimizedFeatureSet=function(a){var b=a.transform,c=a.hasM,d=a.hasZ;if(!b)return a;for(var e=0,f=a.features;e<f.length;e++){var g=f[e];g.geometry&&M(g.geometry,g.geometry,c,d,b);g.centroid&&M(g.centroid,g.centroid,c,d,b)}a.transform=null;return a};f.quantizeOptimizedFeatureSet=function(a,b){var c=b.geometryType,d=b.features,f=b.hasM,g=b.hasZ;if(!a)return b;for(var h=0;h<d.length;h++){var l=d[h],p=new m.default(new e.default,l.attributes);
J(p.geometry,l.geometry,f,g,c,a);l.centroid&&(p.centroid=new e.default,J(p.centroid,l.centroid,f,g,"esriGeometryPoint",a));d[h]=p}b.transform=a;return b};f.quantizeOptimizedGeometry=J;f.generalizeOptimizedGeometry=function(a,d,e,f,g,h,l,p){void 0===l&&(l=e);void 0===p&&(p=f);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!d||!d.coords.length)return null;g=O[g];var k=d.coords;d=d.lengths;var m=c(e,f),q=c(e&&l,f&&p);e=b(e,f,l,p);if(!d.length)return e(a.coords,k,0,0,k[0],
k[1]),a.lengths.length&&(a.lengths.length=0),a.coords.length=m,a;f=0;h*=h;for(l=0;l<d.length;l++){p=d[l];if(!(p<g)){var n=a.coords.length/q,r=f,t=f+(p-1)*m;e(a.coords,k,a.coords.length,r,k[r],k[r+1]);I(a.coords,k,m,h,e,r,t);e(a.coords,k,a.coords.length,t,k[t],k[t+1]);r=a.coords.length/q-n;r>=g?a.lengths.push(r):a.coords.length=n*q}f+=p*m}return a.coords.length?a:null};f.getBoundsOptimizedGeometry=function(a,b,d,e){d=c(d,e);var f=e=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;
if(b&&b.coords){b=b.coords;for(var l=0;l<b.length;l+=d){var p=b[l],k=b[l+1];e=Math.min(e,p);g=Math.max(g,p);f=Math.min(f,k);h=Math.max(h,k)}}a[0]=e;a[1]=f;a[2]=g;a[3]=h;return a};f.getQuantizedBoundsOptimizedGeometry=function(a,b,d,e){d=c(d,e);e=b.coords;var f=Number.POSITIVE_INFINITY,g=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,p=0,k=0;for(b=b.lengths;k<b.length;k++)for(var m=b[k],q=e[p],n=e[p+1],f=Math.min(q,f),g=Math.min(n,g),h=Math.max(q,h),l=Math.max(n,l),
p=p+d,r=1;r<m;r++,p+=d){var t=e[p],z=e[p+1],q=q+t,n=n+z;0>t&&(f=Math.min(f,q));0<t&&(h=Math.max(h,q));0>z?g=Math.min(g,n):0<z&&(l=Math.max(l,n))}a[0]=f;a[1]=g;a[2]=h;a[3]=l;return a};f.hydrateOptimizedGeometry=M;f.removeZMValues=function(a,d,e,f,g,h){var l,p=c(e,f);e=b(e,f,g,h);f=d.coords;a.coords.length=0;a.lengths.length=0;(l=a.lengths).push.apply(l,d.lengths);for(d=0;d<f.length;d+=p)e(a.coords,f,a.coords.length,d,f[d],f[d+1]);return a};f.removeCollinearVectices=function(a,d,e,f,g){if(!d||!d.coords||
!d.coords.length)return null;e=O[e];var h=d.coords;d=d.lengths;var l=b(f,g,f,g);f=c(f,g);for(var p=g=0,k=0,m=0,q=0;q<d.length;q++){var n=d[q],p=m;l(a.coords,h,p,g,h[g],h[g+1]);g+=f;var r=h[g],t=h[g+1],z=r,y=t,v=t/r,p=p+f;l(a.coords,h,p,g,z,y);g+=f;for(var x=2;x<n;x++){var r=h[g],t=h[g+1],B=t/r,u=v===B||!isFinite(v)&&!isFinite(B),v=u&&isFinite(B)?0<=v&&0<=B||0>=v&&0>=B:0<=y&&0<=t||0>=y&&0>=t;u&&v?(z+=r,y+=t):(z=r,y=t,p+=f);l(a.coords,h,p,g,z,y);g+=f;v=B}p+=f;n=(p-m)/f;n>=e&&(a.lengths[k]=n,m=p,k++)}a.coords.length>
m&&(a.coords.length=m);a.lengths.length>k&&(a.lengths.length=k);return a.coords.length&&a.lengths.length?a:null}})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});a=function(){return function(a,f,k,m){void 0===a&&(a=null);void 0===f&&(f={});this.localId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=a;f&&(this.attributes=f);k&&(this.centroid=k);null!=m&&(this.objectId=m)}}();f.default=
a})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require","exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});a=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();f.default=a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require",
"exports"],function(a,f){Object.defineProperty(f,"__esModule",{value:!0});a=function(){return function(a,f){void 0===a&&(a=[]);void 0===f&&(f=[]);this.lengths=a;this.coords=f}}();f.default=a})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,f,d,n,k,m,h,e){return function(a){function b(b){b=a.call(this,b)||this;b.type="extrude";b.size=void 0;
b.material=null;b.castShadows=!0;b.edges=null;return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var c;d.__decorate([k.enumeration({Extrude:"extrude"})],b.prototype,"type",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);d.__decorate([k.property({type:e.default,json:{write:!0}})],
b.prototype,"material",void 0);d.__decorate([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);d.__decorate([k.property(h.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=c=d.__decorate([k.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(m)})},"esri/symbols/Symbol3DLayer":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,f,d,n,k,m){var h=n.strict()({Icon:"icon",
Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});a=function(a){function c(b){b=a.call(this,b)||this;b.enabled=!0;b.type=null;return b}d.__extends(c,a);c.prototype.writeEnabled=function(a,c,d){a||(c[d]=a)};d.__decorate([m.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0);d.__decorate([m.writer("enabled")],c.prototype,"writeEnabled",null);d.__decorate([m.property({type:h.apiValues,readOnly:!0,
json:{read:!1,write:{ignoreOrigin:!0,writer:h.write}}})],c.prototype,"type",void 0);return c=d.__decorate([m.subclass("esri.symbols.Symbol3DLayer")],c)}(k.JSONSupport);(a||(a={})).typeJSONDictionary=h;return a})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,f,d,n,k){function m(a,d,c){if(!a)return a;switch(a.type){case "solid":return d=new k,d.read(a,c),d;case "sketch":return d=new n,d.read(a,c),d}}Object.defineProperty(f,
"__esModule",{value:!0});f.read=m;f.symbol3dEdgesProperty={types:{key:"type",base:d,typeMap:{solid:k,sketch:n}},json:{read:m,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(a,f,d,n,k,m,h,e,c){return function(a){function b(b){b=a.call(this,b)||this;b.color=new n([0,0,0,1]);b.extensionLength=0;b.size=h.px2pt(1);
return b}d.__extends(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=d.__assign({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:m.clone(this.color),size:this.size,extensionLength:this.extensionLength}};d.__decorate([e.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);d.__decorate([e.property(c.colorAndTransparencyProperty)],b.prototype,"color",void 0);d.__decorate([e.property(d.__assign(d.__assign({},
c.screenSizeProperty),{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);d.__decorate([e.property(c.screenSizeProperty)],b.prototype,"size",void 0);return b=d.__decorate([e.subclass("esri.symbols.edges.Edges3D")],b)}(k.JSONSupport)})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),function(a,f,d,n,k,m){Object.defineProperty(f,
"__esModule",{value:!0});f.colorAndTransparencyProperty={type:d,json:{type:[k.Integer],default:null,read:{source:["color","transparency"],reader:function(a,e){a=null!=e.transparency?m.transparencyToOpacity(e.transparency):1;return(e=e.color)&&Array.isArray(e)?new d([e[0]||0,e[1]||0,e[2]||0,a]):null}},write:{target:{color:{type:[k.Integer]},transparency:{type:k.Integer}},writer:function(a,d){d.color=a.toJSON().slice(0,3);a=m.opacityToTransparency(a.a);0!==a&&(d.transparency=a)}}}};f.screenSizeProperty=
{type:Number,cast:n.toPt,json:{write:!0}};f.stipplePatternProperty={type:[Number],cast:function(a){return null!=a?a:Array.isArray(a)?a.map(n.toPt):null},json:{read:!1,write:!1}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(a,f,d){Object.defineProperty(f,"__esModule",{value:!0});f.opacityToTransparency=function(a){a=d.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};f.transparencyToOpacity=function(a){return Math.max(0,
Math.min(1-a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Edges3D"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.type="sketch";return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e(this.cloneProperties())};var e;d.__decorate([n.property({type:["sketch"]})],f.prototype,"type",void 0);return f=e=d.__decorate([n.subclass("esri.symbols.edges.SketchEdges3D")],f)}(k)})},
"esri/symbols/edges/SolidEdges3D":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Edges3D"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.type="solid";return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e(this.cloneProperties())};var e;d.__decorate([n.property({type:["solid"]})],f.prototype,"type",void 0);return f=e=d.__decorate([n.subclass("esri.symbols.support.SolidEdges3D")],f)}(k)})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports tslib ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,f,d,n,k,m,h){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}d.__extends(c,a);b=c;c.prototype.clone=function(){return new b({color:k.isSome(this.color)?this.color.clone():null})};var b;d.__decorate([m.property(h.colorAndTransparencyProperty)],c.prototype,"color",void 0);return c=b=d.__decorate([m.subclass("esri.symbols.support.Symbol3DMaterial")],c)}(n.JSONSupport);f.Symbol3DMaterial=a;f.default=
a})},"esri/symbols/FillSymbol":function(){define("require exports tslib ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),function(a,f,d,n,k,m,h){var e=new n.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}d.__extends(b,a);b.prototype.hash=function(){return this.type+"."+(this.outline&&this.outline.hash())};d.__decorate([k.property({type:m,json:{default:null,
write:!0}})],b.prototype,"outline",void 0);d.__decorate([k.property({type:e.apiValues,readOnly:!0,json:{type:e.jsonValues}})],b.prototype,"type",void 0);return b=d.__decorate([k.subclass("esri.symbols.FillSymbol")],b)}(h)})},"esri/symbols/SimpleLineSymbol":function(){define("require exports tslib ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol ./LineSymbolMarker".split(" "),function(a,f,d,n,k,m,h,e,c){var b=new n.default({esriSLSSolid:"solid",esriSLSDash:"dash",
esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function e(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type="simple-line";b.style="solid";b.cap="round";
b.join="round";b.marker=null;b.miterLimit=2;return b}d.__extends(e,a);f=e;e.prototype.normalizeCtorArgs=function(a,b,c,d,e,f){if(a&&"string"!==typeof a)return a;var g={};null!=a&&(g.style=a);null!=b&&(g.color=b);null!=c&&(g.width=m.toPt(c));null!=d&&(g.cap=d);null!=e&&(g.join=e);null!=f&&(g.miterLimit=m.toPt(f));return g};e.prototype.clone=function(){var a;return new f({color:k.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null===
(a=this.marker)||void 0===a?void 0:a.clone()})};e.prototype.hash=function(){var b,c;return a.prototype.hash.call(this)+"."+(null===(b=this.color)||void 0===b?void 0:b.hash())+"."+this.style+"."+this.cap+"."+this.join+"."+this.miterLimit+"."+(null===(c=this.marker)||void 0===c?void 0:c.hash())};var f;d.__decorate([h.enumeration({esriSLS:"simple-line"})],e.prototype,"type",void 0);d.__decorate([h.property({type:b.apiValues,json:{read:b.read,write:b.write}})],e.prototype,"style",void 0);d.__decorate([h.property({type:["butt",
"round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],e.prototype,"cap",void 0);d.__decorate([h.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],e.prototype,"join",void 0);d.__decorate([h.property({type:c,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"marker",void 0);d.__decorate([h.property({type:Number,json:{read:!1,
write:!1}})],e.prototype,"miterLimit",void 0);return e=f=d.__decorate([h.subclass("esri.symbols.SimpleLineSymbol")],e)}(e)})},"esri/symbols/LineSymbol":function(){define("require exports tslib ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,f,d,n,k,m){return function(a){function e(c){c=a.call(this,c)||this;c.type="simple-line";c.width=.75;return c}d.__extends(e,a);e.prototype.hash=function(){return this.type+"."+this.width};d.__decorate([k.enumeration({esriSLS:"simple-line"})],
e.prototype,"type",void 0);d.__decorate([k.property({type:Number,cast:n.toPt,json:{write:!0}})],e.prototype,"width",void 0);return e=d.__decorate([k.subclass("esri.symbols.LineSymbol")],e)}(m)})},"esri/symbols/LineSymbolMarker":function(){define("require exports tslib ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.placement="begin-end";b.type="line-marker";b.style="arrow";return b}
d.__extends(c,a);b=c;c.prototype.writeType=function(a,b,c,d){"web-map"!==(null===d||void 0===d?void 0:d.origin)&&(b[c]=a)};c.prototype.writeStyle=function(a,b,c,d){b[c]="web-map"===(null===d||void 0===d?void 0:d.origin)?"arrow":a};Object.defineProperty(c.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});c.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};c.prototype.writeColor=function(a,b,c,d){"web-map"!==(null===d||void 0===
d?void 0:d.origin)&&(b[c]=a)};c.prototype.clone=function(){return new b({color:m.clone(this.color),placement:this.placement,style:this.style})};c.prototype.hash=function(){var a;return this.placement+"."+(null===(a=this.color)||void 0===a?void 0:a.hash())+"."+this.style};var b;d.__decorate([h.property({type:["begin","end","begin-end"],json:{default:"begin-end",write:!0}})],c.prototype,"placement",void 0);d.__decorate([h.property({type:String,readOnly:!0})],c.prototype,"type",void 0);d.__decorate([h.writer("type")],
c.prototype,"writeType",null);d.__decorate([h.property({type:"arrow circle square diamond cross x".split(" ")})],c.prototype,"style",void 0);d.__decorate([h.writer("style")],c.prototype,"writeStyle",null);d.__decorate([h.property({type:n,value:null,json:{write:{allowNull:!0}}})],c.prototype,"color",null);d.__decorate([h.reader("color")],c.prototype,"readColor",null);d.__decorate([h.writer("color")],c.prototype,"writeColor",null);return c=b=d.__decorate([h.subclass("esri.symbols.LineSymbolMarker")],
c)}(k.JSONSupport)})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(a,f,d,n,k,m,h,e,c,b){return function(a){function f(b){b=a.call(this,b)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}d.__extends(f,a);g=f;f.prototype.clone=function(){return new g({edges:n.isSome(this.edges)?
this.edges.clone():null,enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:n.isSome(this.outline)?this.outline.clone():null})};f.fromSimpleFillSymbol=function(a){return new g({material:{color:(a.color||e.transparentWhite).clone()},outline:a.outline?new b.default({size:a.outline.width||0,color:(a.outline.color||e.white).clone()}):null})};var g;d.__decorate([k.enumeration({Fill:"fill"})],f.prototype,"type",void 0);d.__decorate([k.property({type:c.default,
json:{write:!0}})],f.prototype,"material",void 0);d.__decorate([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0);d.__decorate([k.property({type:b.default,json:{write:!0}})],f.prototype,"outline",void 0);d.__decorate([k.property(h.symbol3dEdgesProperty)],f.prototype,"edges",void 0);return f=g=d.__decorate([k.subclass("esri.symbols.FillSymbol3DLayer")],f)}(m)})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],
function(a,f,d){Object.defineProperty(f,"__esModule",{value:!0});f.white=new d("white");f.black=new d("black");f.transparentWhite=new d([255,255,255,0]);f.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports tslib ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),function(a,f,d,n,k,m){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function e(){return null!==a&&a.apply(this,
arguments)||this}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({color:n.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var c;d.__decorate([k.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],e.prototype,"colorMixMode",void 0);return e=c=d.__decorate([k.subclass("esri.symbols.support.Symbol3DFillMaterial")],e)}(m.default);f.Symbol3DFillMaterial=a;f.default=a})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,f,d,n,k,m,h,e,c){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new n([0,0,0,1]);b.size=h.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}d.__extends(b,a);f=b;b.prototype.clone=function(){return new f({color:m.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():
null})};var f;d.__decorate([e.property(c.colorAndTransparencyProperty)],b.prototype,"color",void 0);d.__decorate([e.property(c.screenSizeProperty)],b.prototype,"size",void 0);d.__decorate([e.property(c.stipplePatternProperty)],b.prototype,"stipplePattern",void 0);d.__decorate([e.property({type:n})],b.prototype,"stippleOffColor",void 0);return b=f=d.__decorate([e.subclass("esri.symbols.support.Symbol3DOutline")],b)}(k.JSONSupport);f.Symbol3DOutline=a;f.default=a})},"esri/symbols/Font":function(){define("require exports tslib ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}d.__extends(e,a);c=e;e.prototype.castSize=function(a){return k.toPt(a)};e.prototype.clone=function(){return new c({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};e.prototype.hash=function(){return this.decoration+"."+this.family+"."+this.size+"."+this.style+"."+this.weight};
var c;d.__decorate([m.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],e.prototype,"decoration",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],e.prototype,"family",void 0);d.__decorate([m.property({type:Number,json:{write:{overridePolicy:function(a,c,d){return{enabled:!d||!d.textSymbol3D}}}}})],e.prototype,"size",void 0);d.__decorate([m.cast("size")],e.prototype,"castSize",null);d.__decorate([m.property({type:["normal","italic","oblique"],json:{default:"normal",
write:!0}})],e.prototype,"style",void 0);d.__decorate([m.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],e.prototype,"weight",void 0);return e=c=d.__decorate([m.subclass("esri.symbols.Font")],e)}(n.JSONSupport)})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports tslib ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q){function l(a){var b="width"in a?a.width:a.size,c="height"in a?a.height:a.size,d=t(a.xoffset);a=t(a.yoffset);return(d||a)&&b&&c?{x:-d/b,y:a/c}:null}function t(a){return isFinite(a)?a:0}var v=n.getLogger("esri.symbols.IconSymbol3DLayer"),A={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function e(b){b=a.call(this,b)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";
b.anchorPosition=void 0;b.outline=void 0;return b}d.__extends(e,a);f=e;e.prototype.clone=function(){return new f({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:k.isSome(this.material)?this.material.clone():null,outline:k.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};e.fromSimpleMarkerSymbol=function(a){var b=a.color||c.white,d=l(a),e=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||c.white).clone()}:null,g=f,h=a.size;a=a.style;var p=A[a];p?a=p:(v.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new g({size:h,resource:{primitive:a},material:{color:b},outline:e,anchor:d?"relative":void 0,anchorPosition:d})};e.fromPictureMarkerSymbol=function(a){var b=!a.color||c.isBlack(a.color)?c.white:a.color,d=l(a);return new f({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:d?"relative":
void 0,anchorPosition:d})};e.fromCIMSymbol=function(a){return new f({resource:{href:m.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};var f;d.__decorate([h.property({type:r.default,json:{write:!0}})],e.prototype,"material",void 0);d.__decorate([h.property({type:b.default,json:{write:!0}})],e.prototype,"resource",void 0);d.__decorate([h.enumeration({Icon:"icon"})],e.prototype,"type",void 0);d.__decorate([h.property(g.screenSizeProperty)],e.prototype,"size",void 0);d.__decorate([h.enumeration({center:"center",
left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),h.property({json:{default:"center"}})],e.prototype,"anchor",void 0);d.__decorate([h.property({type:p.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new p.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===
this.anchor}}}}})],e.prototype,"anchorPosition",void 0);d.__decorate([h.property({type:q.default,json:{write:!0}})],e.prototype,"outline",void 0);return e=f=d.__decorate([h.subclass("esri.symbols.IconSymbol3DLayer")],e)}(e)})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators ../../support/persistableUrlUtils".split(" "),function(a,f,d,n,k,m,h,e){Object.defineProperty(f,
"__esModule",{value:!0});var c=n.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a=function(a){function b(b){return a.call(this,b)||this}d.__extends(b,a);f=b;b.prototype.readHref=function(a,b,c){return a?e.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,d){a&&(m.isDataProtocol(a)?b.dataURI=a:(b.href=e.toJSON(a,d),m.isAbsolute(b.href)&&(b.href=m.normalize(b.href))))};b.prototype.clone=function(){return new f({href:this.href,primitive:this.primitive})};
var f;d.__decorate([h.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);d.__decorate([h.reader("href")],b.prototype,"readHref",null);d.__decorate([h.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);d.__decorate([h.enumeration(c)],b.prototype,"primitive",void 0);return b=f=d.__decorate([h.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(k.JSONSupport);f.IconSymbol3DLayerResource=a;f.defaultPrimitive=
"circle";f.default=a})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function f(){var c=null!==a&&a.apply(this,arguments)||this;c.x=0;c.y=0;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({x:this.x,y:this.y})};var e;d.__decorate([k.property({type:Number})],f.prototype,"x",void 0);
d.__decorate([k.property({type:Number})],f.prototype,"y",void 0);return f=e=d.__decorate([k.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],f)}(n);f.Symbol3DAnchorPosition2D=a;f.default=a})},"esri/symbols/LabelSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,f,d,n,k,m,h,e,c,b){var g=n.ofType({base:null,key:"type",
typeMap:{text:e}});return function(a){function f(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new g;b.type="label-3d";return b}d.__extends(f,a);h=f;f.prototype.supportsCallout=function(){return!0};f.prototype.hasVisibleCallout=function(){return c.hasVisibleCallout(this)};f.prototype.hasVisibleVerticalOffset=function(){return c.hasVisibleVerticalOffset(this)};f.prototype.clone=function(){return new h({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),
thumbnail:k.clone(this.thumbnail),callout:k.clone(this.callout),verticalOffset:k.clone(this.verticalOffset)})};f.fromTextSymbol=function(a){return new h({symbolLayers:[e.fromTextSymbol(a)]})};var h;d.__decorate([m.property({type:b.default,json:{write:!0}})],f.prototype,"verticalOffset",void 0);d.__decorate([m.property(c.calloutProperty)],f.prototype,"callout",void 0);d.__decorate([m.property({json:{read:!1,write:!1}})],f.prototype,"styleOrigin",void 0);d.__decorate([m.property({type:g})],f.prototype,
"symbolLayers",void 0);d.__decorate([m.enumeration({LabelSymbol3D:"label-3d"})],f.prototype,"type",void 0);return f=h=d.__decorate([m.subclass("esri.symbols.LabelSymbol3D")],f)}(h)})},"esri/core/Collection":function(){define("require exports tslib ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(a,f,d,n,k,m,h,e,c,b,g){function p(a){return a?a instanceof y?a.toArray():a.length?Array.prototype.slice.apply(a):
[]:[]}function r(a){if(a&&a.length)return a[0]}function q(a,b,c,d){b&&b.forEach(function(b,e,f){a.push(b);q(a,c.call(d,b,e,f),c,d)})}a=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var l=new e(a,null,function(a){a.item=null;a.target=null;a.defaultPrevented=!1;a.cancellable=!1}),t=function(){},v=new Set,
A=new Set,x=new Set,w=new Map,u=0,y=function(a){function e(b){b=a.call(this,b)||this;b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:u++});return b}d.__extends(e,a);f=e;e.isCollection=function(a){return null!=a&&a instanceof f};e.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof f?{items:a}:a:{}};Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges(1)||
(this._splice.apply(this,d.__spreadArrays([0,this.length],p(a))),this._emitAfterChanges(1))},enumerable:!0,configurable:!0});e.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};e.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,d={removed:!1,callback:b};c.push(d);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=t;d.removed=
!0;c.splice(c.indexOf(d),1)}}}return this._emitter.on(a,b)};e.prototype.once=function(a,b){var c=this.on(a,b);return{remove:function(){c.remove()}}};e.prototype.add=function(a,b){if(this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges(1);return this};e.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice.apply(this,d.__spreadArrays([b,0],p(a)));
this._emitAfterChanges(1);return this};e.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges(2);return a};e.prototype.clone=function(){return this._createNewInstance({items:this._items.map(h.clone)})};e.prototype.concat=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(p);return this._createNewInstance({items:(a=this._items).concat.apply(a,b)})};e.prototype.drain=function(a,b){if(this.length&&
!this._emitBeforeChanges(2)){for(var c=this._splice(0,this.length),d=c.length,e=0;e<d;e++)a.call(b,c[e],e,c);this._emitAfterChanges(2)}};e.prototype.every=function(a,b){return this._items.every(a,b)};e.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};e.prototype.find=function(a,b){return k.find(this._items,a,b)};e.prototype.findIndex=function(a,b){return k.findIndex(this._items,a,b)};e.prototype.flatten=
function(a,b){var c=[];q(c,this,a,b);return new f(c)};e.prototype.forEach=function(a,b){return this._items.forEach(a,b)};e.prototype.getItemAt=function(a){return this._items[a]};e.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};e.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};e.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};e.prototype.join=function(a){void 0===
a&&(a=",");return this._items.join(a)};e.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};e.prototype.map=function(a,b){a=this._items.map(a,b);return new f({items:a})};e.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges(4))return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges(4)}return a}};e.prototype.pop=
function(){if(this.length&&!this._emitBeforeChanges(2)){var a=r(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};e.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,d.__spreadArrays([this.length,0],a));this._emitAfterChanges(1);return this.length};e.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};e.prototype.reduceRight=
function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};e.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};e.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=r(this._splice(a,1)),this._emitAfterChanges(2),a};e.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof f?a.toArray():a;for(var b=this._items,c=[],d=a.length,e=0;e<d;e++){var g=b.indexOf(a[e]);
if(-1<g){for(var h=e+1,l=g+1,p=Math.min(a.length-h,b.length-l),k=0;k<p&&a[h+k]===b[l+k];)k++;h=1+k;(g=this._splice(g,h))&&0<g.length&&c.push.apply(c,g);e+=h-1}}this._emitAfterChanges(2);return c};e.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,d.__spreadArrays([0,0],a)));this._emitAfterChanges(4);return this};e.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=r(this._splice(0,
1));this._emitAfterChanges(2);return a}};e.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};e.prototype.some=function(a,b){return this._items.some(a,b)};e.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges(4))return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,d.__spreadArrays([0,0],b));this._emitAfterChanges(4);return this};e.prototype.splice=
function(a,b){for(var c=[],e=2;e<arguments.length;e++)c[e-2]=arguments[e];e=(b?2:0)|(c.length?1:0);if(this._emitBeforeChanges(e))return[];c=this._splice.apply(this,d.__spreadArrays([a,b],c))||[];this._emitAfterChanges(e);return c};e.prototype.toArray=function(){return this._items.slice()};e.prototype.toJSON=function(){return this.toArray()};e.prototype.toLocaleString=function(){return this._items.toLocaleString()};e.prototype.toString=function(){return this._items.toString()};e.prototype.unshift=
function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(!a.length||this._emitBeforeChanges(1))return this.length;this._splice.apply(this,d.__spreadArrays([0,0],a));this._emitAfterChanges(1);return this.length};e.prototype._createNewInstance=function(a){return new this.constructor(a)};e.prototype._splice=function(a,b){for(var e=this,f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];var g=this._items,h=this.constructor.prototype.itemType,k,p;!this._notifications&&this.hasEventListener("change")&&
(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=c.schedule(function(){return e._dispatchChange()}));if(b){p=g.splice(a,b);if(this.hasEventListener("before-remove")){var m=l.acquire();m.target=this;m.cancellable=!0;for(var n=0,q=p.length;n<q;n++)k=p[n],m.reset(k),this.emit("before-remove",m),m.defaultPrevented&&(p.splice(n,1),g.splice(a,0,k),a+=1,--n,--q);l.release(m)}this.length=this._items.length;if(this.hasEventListener("after-remove")){k=
l.acquire();k.target=this;k.cancellable=!1;q=p.length;for(n=0;n<q;n++)k.reset(p[n]),this.emit("after-remove",k);l.release(k)}}if(f&&f.length){if(h){n=[];for(q=0;q<f.length;q++)k=f[q],m=h.ensureType(k),null==m&&null!=k||n.push(m);f=n}h=this.hasEventListener("before-add");n=this.hasEventListener("after-add");q=a===this.length;if(h||n){k=l.acquire();k.target=this;k.cancellable=!0;m=l.acquire();m.target=this;m.cancellable=!1;for(var r=0,t=f;r<t.length;r++){var v=t[r];h?(k.reset(v),this.emit("before-add",
k),k.defaultPrevented||(q?g.push(v):g.splice(a++,0,v),this._set("length",g.length),n&&(m.reset(v),this.emit("after-add",m)))):(q?g.push(v):g.splice(a++,0,v),this._set("length",g.length),m.reset(v),this.emit("after-add",m))}l.release(m);l.release(k)}else{if(q)for(h=0,n=f;h<n.length;h++)g.push(n[h]);else g.splice.apply(g,d.__spreadArrays([a,0],f));this._set("length",g.length)}}(f&&f.length||p&&p.length)&&this._notifyChangeEvent(f,p);return p};e.prototype._emitBeforeChanges=function(a){var b=!1;if(this.hasEventListener("before-changes")){var c=
l.acquire();c.target=this;c.cancellable=!0;c.type=a;this.emit("before-changes",c);b=c.defaultPrevented;l.release(c)}return b};e.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var b=l.acquire();b.target=this;b.cancellable=!1;b.type=a;this.emit("after-changes",b);l.release(b)}};e.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};e.prototype._dispatchChange=
function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;v.clear();A.clear();x.clear();for(var d=0;d<b.length;d++){var e=b[d],f=e.added,e=e.removed;if(f)if(0===x.size&&0===A.size)for(var g=0,h=f;g<h.length;g++)f=h[g],v.add(f);else for(g=0,h=f;g<h.length;g++)f=h[g],A.has(f)?(x.add(f),A.delete(f)):x.has(f)||v.add(f);if(e)if(0===x.size&&0===v.size)for(g=0;g<e.length;g++)f=e[g],A.add(f);
else for(g=0;g<e.length;g++)f=e[g],v.has(f)?v.delete(f):(x.delete(f),A.add(f))}var l=n.acquire();v.forEach(function(a){l.push(a)});var k=n.acquire();A.forEach(function(a){k.push(a)});var p=c._items,m=a.items,q=n.acquire();x.forEach(function(a){m.indexOf(a)!==p.indexOf(a)&&q.push(a)});if(a.listeners&&(l.length||k.length||q.length))for(b={target:c,added:l,removed:k,moved:q},d=a.listeners.length,f=0;f<d;f++)e=a.listeners[f],e.removed||e.callback.call(c,b);n.release(l);n.release(k);n.release(q)},c=this,
d=0;d<a.length;d++)b(a[d]);v.clear();A.clear();x.clear()}};var f;e.ofType=function(a){if(!a)return f;if(w.has(a))return w.get(a);var c;if("function"===typeof a)c=a.prototype.declaredClass;else if(a.base)c=a.base.prototype.declaredClass;else for(var e in a.typeMap){var h=a.typeMap[e].prototype.declaredClass;c=c?c+(" | "+h):h}e=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}d.__extends(e,a);return e=d.__decorate([b.subclass("esri.core.Collection\x3c"+c+"\x3e")],e)}(f);h={Type:a,
ensureType:"function"===typeof a?g.ensureType(a):g.ensureOneOfType(a)};Object.defineProperty(e.prototype,"itemType",{value:h});w.set(a,e);return e};d.__decorate([b.property()],e.prototype,"length",void 0);d.__decorate([b.property()],e.prototype,"items",null);return e=f=d.__decorate([b.subclass("esri.core.Collection")],e)}(m.EventedAccessor);return y})},"esri/core/Evented":function(){define("require exports tslib ./Accessor ./handleUtils ./accessorSupport/decorators".split(" "),function(a,f,d,n,k,
m){var h=function(){function a(){this._emitter=new a.EventEmitter}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){var c=function(){function a(){}a.prototype.clear=function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=function(a,b){a=this._listenersMap&&
this._listenersMap.get(a);if(!a)return!1;d.__spreadArrays(a).forEach(function(a){a.call(null,b)});return 0<a.length};a.prototype.on=function(a,b){var c=this;if(Array.isArray(a)){var d=a.map(function(a){return c.on(a,b)});return k.handlesGroup(d)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);d=this._listenersMap.get(a)||[];d.push(b);this._listenersMap.set(a,d);return{remove:function(){var d=
c._listenersMap&&c._listenersMap.get(a)||[];0<=d.indexOf(b)&&d.splice(d.indexOf(b),1)}}};a.prototype.once=function(a,b){var c;return c=this.on(a,function(a){c.remove();b.call(null,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();a.EventEmitter=c;a.EventedMixin=function(a){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._emitter=new c;return b}d.__extends(b,a);b.prototype.emit=function(a,
b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b=d.__decorate([m.subclass("esri.core.Evented")],b)}(a)};var b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._emitter=new h.EventEmitter;return b}d.__extends(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=
function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b=d.__decorate([m.subclass("esri.core.Evented")],b)}(n);a.EventedAccessor=b})(h||(h={}));return h})},"esri/symbols/Symbol3D":function(){define("require exports tslib ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ../support/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v,A,x,w,u,y,C,z){var D={icon:l,object:v,line:t,path:A,fill:q,extrude:r,text:u,water:y},B=n.ofType({base:w,key:"type",typeMap:D}),E=m.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),F=h.getLogger("esri.symbols.Symbol3D");return function(a){function f(b){b=a.call(this,b)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&
b.__accessor__.metadatas.symbolLayers;b._set("symbolLayers",new (c&&c.type||n));return b}d.__extends(f,a);Object.defineProperty(f.prototype,"color",{get:function(){return null},set:function(a){F.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"symbolLayers",{set:function(a){k.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});
f.prototype.readSymbolLayers=function(a,b,d){b=[];for(var e=0;e<a.length;e++){var f=a[e],g=w.typeJSONDictionary.read(f.type),h=g&&D[g];h?(f=new h,f.read(a[e],d),b.push(f)):(F.warn("Unknown symbol layer type: "+g),d&&d.messages&&d.messages.push(new c("symbol-layer:unsupported","Symbol layers of type '"+(g||f.type||"unknown")+"' are not supported",{definition:f,context:d})))}return b};f.prototype.readStyleOrigin=function(a,b,d){if(a.styleUrl&&a.name)return b=p.fromJSON(a.styleUrl,d),new C({styleUrl:b,
name:a.name});if(a.styleName&&a.name)return new C({portal:d&&d.portal||g.getDefault(),styleName:a.styleName,name:a.name});d&&d.messages&&d.messages.push(new c("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:d,definition:a}))};f.prototype.writeStyleOrigin=function(a,b,d,f){a.styleUrl&&a.name?(d=p.toJSON(a.styleUrl,f),e.isAbsolute(d)&&(d=e.normalize(d)),b.styleOrigin={styleUrl:d,name:a.name}):a.styleName&&a.name&&(a.portal&&
f&&f.portal&&!e.hasSamePortal(a.portal.restUrl,f.portal.restUrl)?f&&f.messages&&f.messages.push(new c("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};f.prototype.normalizeCtorArgs=function(a){return a instanceof w||a&&D[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};d.__decorate([b.property({json:{read:!1,write:!1}})],
f.prototype,"color",null);d.__decorate([b.property({type:B,nonNullable:!0,json:{write:!0}}),b.cast(k.castForReferenceSetter)],f.prototype,"symbolLayers",null);d.__decorate([b.reader("symbolLayers")],f.prototype,"readSymbolLayers",null);d.__decorate([b.property({type:C})],f.prototype,"styleOrigin",void 0);d.__decorate([b.reader("styleOrigin")],f.prototype,"readStyleOrigin",null);d.__decorate([b.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],
f.prototype,"writeStyleOrigin",null);d.__decorate([b.property({type:z.default,json:{read:!1}})],f.prototype,"thumbnail",void 0);d.__decorate([b.property({type:E.apiValues,readOnly:!0,json:{type:E.jsonValues,read:!1}})],f.prototype,"type",void 0);return f=d.__decorate([b.subclass("esri.symbols.Symbol3D")],f)}(x)})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(a,f,d){Object.defineProperty(f,"__esModule",{value:!0});f.referenceSetter=function(a,f,m){void 0===
m&&(m=d);f||(f=new m);if(f===a)return f;f.removeAll();a&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?f.addMany(a):a&&f.add(a);return f};f.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports tslib ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(a,f,d,n,k,m,h,e,c,b,g){return function(a){function e(b){b=
a.call(this,b)||this;b.material=null;b.type="line";b.join="miter";b.cap="butt";b.size=m.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}d.__extends(e,a);f=e;e.prototype.clone=function(){return new f({enabled:this.enabled,material:k.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};e.fromSimpleLineSymbol=
function(a){return new f({size:a.width||1,cap:a.cap||"butt",join:a.join||"miter",material:{color:(a.color||c.white).clone()}})};var f;d.__decorate([h.property({type:g.default,json:{write:!0}})],e.prototype,"material",void 0);d.__decorate([h.enumeration({Line:"line"})],e.prototype,"type",void 0);d.__decorate([h.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],e.prototype,"join",void 0);d.__decorate([h.property({type:["butt","square","round"],json:{write:!0,default:"butt"}})],
e.prototype,"cap",void 0);d.__decorate([h.property(b.screenSizeProperty)],e.prototype,"size",void 0);d.__decorate([h.property(b.stipplePatternProperty)],e.prototype,"stipplePattern",void 0);d.__decorate([h.property({type:n})],e.prototype,"stippleOffColor",void 0);return e=f=d.__decorate([h.subclass("esri.symbols.LineSymbol3DLayer")],e)}(e)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,f,d,n,k,m,h,e,c){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}d.__extends(b,a);f=b;b.prototype.clone=function(){return new f({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var f;d.__decorate([k.property({type:c.default,json:{write:!0}})],b.prototype,"material",void 0);d.__decorate([k.property({type:Boolean,nonNullable:!0,
json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);d.__decorate([k.property({type:h.default,json:{write:!0}})],b.prototype,"resource",void 0);d.__decorate([k.enumeration({Object:"object"})],b.prototype,"type",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);d.__decorate([k.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),k.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);d.__decorate([k.property({type:e.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new e.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);d.__decorate([k.property({type:Number,
json:{write:!0}})],b.prototype,"heading",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);d.__decorate([k.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=f=d.__decorate([k.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(m)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../support/persistableUrlUtils".split(" "),
function(a,f,d,n,k,m,h){Object.defineProperty(f,"__esModule",{value:!0});var e=n.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;d.__decorate([m.property({type:String,json:{read:h.read,write:h.write}})],b.prototype,"href",
void 0);d.__decorate([m.enumeration(e)],b.prototype,"primitive",void 0);return b=c=d.__decorate([m.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(k.JSONSupport);f.ObjectSymbol3DLayerResource=a;f.defaultPrimitive="sphere";f.default=a})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function f(){var c=
null!==a&&a.apply(this,arguments)||this;c.x=0;c.y=0;c.z=0;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({x:this.x,y:this.y,z:this.z})};var e;d.__decorate([k.property({type:Number})],f.prototype,"x",void 0);d.__decorate([k.property({type:Number})],f.prototype,"y",void 0);d.__decorate([k.property({type:Number})],f.prototype,"z",void 0);return f=e=d.__decorate([k.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],f)}(n);f.Symbol3DAnchorPosition3D=a;f.default=a})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),
function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}d.__extends(c,a);b=c;Object.defineProperty(c.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=
this.width=a},enumerable:!0,configurable:!0});c.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};c.prototype.clone=function(){return new b({enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var b;d.__decorate([k.property({type:h.default,json:{write:!0}})],c.prototype,
"material",void 0);d.__decorate([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);d.__decorate([k.enumeration({Path:"path"})],c.prototype,"type",void 0);d.__decorate([k.property({type:Number})],c.prototype,"size",null);d.__decorate([k.reader("size")],c.prototype,"readSize",null);d.__decorate([k.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],c.prototype,"profile",void 0);d.__decorate([k.property({type:["miter","bevel","round"],
json:{write:!0,default:"miter"}})],c.prototype,"join",void 0);d.__decorate([k.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],c.prototype,"cap",void 0);d.__decorate([k.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],c.prototype,"width",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);d.__decorate([k.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],
c.prototype,"anchor",void 0);d.__decorate([k.property({type:["heading","all"],json:{write:!0,default:"all"}})],c.prototype,"profileRotation",void 0);return c=b=d.__decorate([k.subclass("esri.symbols.PathSymbol3DLayer")],c)}(m)})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports tslib ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),function(a,f,d,n,k,m,h,e,c,
b,g){return function(a){function e(b){b=a.call(this,b)||this;b._userSize=void 0;b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}d.__extends(e,a);f=e;Object.defineProperty(e.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});e.prototype.writeFont=function(a,b,c,e){c=d.__assign(d.__assign({},e),{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(e.prototype,
"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new f({enabled:this.enabled,font:this.font&&n.clone(this.font),halo:this.halo&&n.clone(this.halo),material:k.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};e.fromTextSymbol=function(a){var b;
b=a.haloColor;var c=a.haloSize;b=b&&0<c?{color:n.clone(b),size:c}:null;c=a.font?a.font.clone():new h;return new f({size:c.size,font:c,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var f;d.__decorate([m.property({type:h,json:{write:!0}})],e.prototype,"font",null);d.__decorate([m.writer("font")],e.prototype,"writeFont",null);d.__decorate([m.property({type:b.default,json:{write:!0}})],e.prototype,"halo",void 0);d.__decorate([m.property({type:g.default,json:{write:!0}})],e.prototype,
"material",void 0);d.__decorate([m.property(c.screenSizeProperty),m.property({dependsOn:["font.size"]})],e.prototype,"size",null);d.__decorate([m.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);d.__decorate([m.enumeration({Text:"text"})],e.prototype,"type",void 0);return e=f=d.__decorate([m.subclass("esri.symbols.TextSymbol3DLayer")],e)}(e)})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,f,d,n,k,m,h,e){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new n([0,0,0,1]);b.size=0;return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({color:m.clone(this.color),size:this.size})};var c;d.__decorate([h.property(e.colorAndTransparencyProperty)],b.prototype,"color",void 0);d.__decorate([h.property(e.screenSizeProperty)],b.prototype,"size",void 0);return b=c=d.__decorate([h.subclass("esri.symbols.support.Symbol3DHalo")],
b)}(k.JSONSupport);f.Symbol3DHalo=a;f.default=a})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports tslib ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(a,f,d,n,k,m,h,e){a=function(a){function b(b){b=a.call(this,b)||this;b.color=c.clone();b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}d.__extends(b,a);e=b;b.prototype.clone=function(){return new e({color:k.clone(this.color),
waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var e;d.__decorate([m.property({type:n,nonNullable:!0,json:{type:[h.Integer],write:function(a,b,c){return b[c]=a.toArray(1)},default:function(){return c.clone()},defaultEquals:function(a){return a.toCss(!0)===c.toCss(!0)}}})],b.prototype,"color",void 0);d.__decorate([m.enumeration({Water:"water"})],b.prototype,"type",void 0);d.__decorate([m.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],
b.prototype,"waterbodySize",void 0);d.__decorate([m.property({type:Number,json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);d.__decorate([m.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=e=d.__decorate([m.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(e);var c=new n([0,119,190]);return a})},"esri/symbols/support/StyleOrigin":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(a,f,d,n,k,m){return function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var c;d.__decorate([k.property({type:String})],e.prototype,"name",void 0);d.__decorate([k.property({type:String})],e.prototype,"styleUrl",void 0);d.__decorate([k.property({type:String})],e.prototype,"styleName",void 0);d.__decorate([k.property({type:m})],
e.prototype,"portal",void 0);return e=c=d.__decorate([k.subclass("esri.symbols.support.StyleOrigin")],e)}(n)})},"esri/symbols/support/Thumbnail":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({url:this.url})};var e;d.__decorate([k.property({type:String})],
f.prototype,"url",void 0);return f=e=d.__decorate([k.subclass("esri.symbols.support.Thumbnail")],f)}(n);f.Thumbnail=a;f.default=a})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(a,f,d,n){function k(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function m(a,d,c){if(!a)return a;switch(a.type){case "line":return d=new n,d.read(a,c),d}}Object.defineProperty(f,"__esModule",{value:!0});
f.hasVisibleVerticalOffset=k;f.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var d=a.callout;return d&&d.visible?k(a)?!0:!1:!1};f.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};f.read=m;f.calloutProperty={types:{key:"type",base:d,typeMap:{line:n}},json:{read:m,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,
f,d,n,k){return function(a){function f(d){d=a.call(this,d)||this;d.visible=!0;return d}d.__extends(f,a);f.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=d.__assign({},a),delete a.type);return a};f.prototype.clone=function(){};d.__decorate([k.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],f.prototype,"type",void 0);d.__decorate([k.property({readOnly:!0})],f.prototype,"visible",void 0);return f=d.__decorate([k.subclass("esri.symbols.callouts.Callout3D")],f)}(n.JSONSupport)})},
"esri/symbols/callouts/LineCallout3D":function(){define("require exports tslib ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),function(a,f,d,n,k,m,h,e,c,b,g){return function(a){function c(b){b=a.call(this,b)||this;b.type="line";b.color=new n([0,0,0,1]);b.size=h.px2pt(1);b.border=null;return b}d.__extends(c,a);f=c;Object.defineProperty(c.prototype,"visible",{get:function(){return 0<
this.size&&m.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new f({color:k.clone(this.color),size:this.size,border:k.clone(this.border)})};var f;d.__decorate([e.property({type:["line"]})],c.prototype,"type",void 0);d.__decorate([e.property(g.colorAndTransparencyProperty)],c.prototype,"color",void 0);d.__decorate([e.property(g.screenSizeProperty)],c.prototype,"size",void 0);d.__decorate([e.property({type:b.default,json:{write:!0}})],c.prototype,
"border",void 0);d.__decorate([e.property({dependsOn:["size","color"],readOnly:!0})],c.prototype,"visible",null);return c=f=d.__decorate([e.subclass("esri.symbols.callouts.LineCallout3D")],c)}(c)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(a,f,d,n,k,m,h,e){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function b(){var b=
null!==a&&a.apply(this,arguments)||this;b.color=new n("white");return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({color:m.clone(this.color)})};var c;d.__decorate([h.property(e.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=d.__decorate([h.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(k.JSONSupport);f.LineCallout3DBorder=a;f.default=a})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,f,d,n,k,m){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var c;d.__decorate([k.property(m.screenSizeProperty)],e.prototype,"screenLength",void 0);d.__decorate([k.property({type:Number,json:{write:!0,default:0}})],
e.prototype,"minWorldLength",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],e.prototype,"maxWorldLength",void 0);return e=c=d.__decorate([k.subclass("esri.symbols.support.Symbol3DVerticalOffset")],e)}(n.JSONSupport);f.Symbol3DVerticalOffset=a;f.default=a})},"esri/symbols/LineSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,f,d,n,k,m,h,e,c){var b=
n.ofType({base:null,key:"type",typeMap:{line:h,path:e}}),g=n.ofType({base:null,key:"type",typeMap:{line:h,path:e}});return function(a){function c(c){c=a.call(this,c)||this;c.symbolLayers=new b;c.type="line-3d";return c}d.__extends(c,a);e=c;c.prototype.clone=function(){return new e({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};c.fromSimpleLineSymbol=function(a){return new e({symbolLayers:[h.fromSimpleLineSymbol(a)]})};var e;d.__decorate([m.property({type:b,
json:{type:g}})],c.prototype,"symbolLayers",void 0);d.__decorate([m.enumeration({LineSymbol3D:"line-3d"})],c.prototype,"type",void 0);return c=e=d.__decorate([m.subclass("esri.symbols.LineSymbol3D")],c)}(c)})},"esri/symbols/MarkerSymbol":function(){define("require exports tslib ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,f,d,n,k,m,h){var e=new n.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=
a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}d.__extends(b,a);b.prototype.hash=function(){return this.type+"."+this.angle+"."+this.size+"."+this.xoffset+"."+this.yoffset};d.__decorate([m.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);d.__decorate([m.property({type:e.apiValues,readOnly:!0,json:{type:e.jsonValues}})],b.prototype,"type",void 0);d.__decorate([m.property({type:Number,
cast:k.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);d.__decorate([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);d.__decorate([m.property({type:Number,cast:function(a){return"auto"===a?a:k.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=d.__decorate([m.subclass("esri.symbols.MarkerSymbol")],b)}(h)})},"esri/symbols/MeshSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,f,d,n,k,m,h,e){var c=n.ofType({base:null,key:"type",typeMap:{fill:h}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new c;b.type="mesh-3d";return b}d.__extends(b,a);e=b;b.prototype.clone=function(){return new e({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};var e;d.__decorate([m.property({type:c})],b.prototype,"symbolLayers",void 0);d.__decorate([m.enumeration({MeshSymbol3D:"mesh-3d"})],b.prototype,
"type",void 0);return b=e=d.__decorate([m.subclass("esri.symbols.MeshSymbol3D")],b)}(e)})},"esri/symbols/PictureFillSymbol":function(){define("require exports tslib ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(a,f,d,n,k,m,h,e){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=1;b.width=12;b.height=12;b.xoffset=
0;b.yoffset=0;b.source=null;return b}d.__extends(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=c&&(e.width=k.toPt(c));null!=d&&(e.height=k.toPt(d));return e};b.prototype.clone=function(){var a=new c({color:n.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});
a._set("source",n.clone(this.source));return a};b.prototype.hash=function(){return a.prototype.hash.call(this)+"."+this.color.hash()+"."+this.height+"."+this.url+"."+this.width+"."+this.xoffset+"."+this.xscale+"."+this.yoffset+"."+this.yscale};var c;d.__decorate([m.enumeration({esriPFS:"picture-fill"})],b.prototype,"type",void 0);d.__decorate([m.property(e.urlPropertyDefinition)],b.prototype,"url",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);d.__decorate([m.property({type:Number,
json:{write:!0}})],b.prototype,"yscale",void 0);d.__decorate([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"width",void 0);d.__decorate([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"height",void 0);d.__decorate([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);d.__decorate([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);d.__decorate([m.property(e.sourcePropertyDefinition)],b.prototype,
"source",void 0);return b=c=d.__decorate([m.subclass("esri.symbols.PictureFillSymbol")],b)}(h)})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils","../../support/persistableUrlUtils"],function(a,f,d,n){function k(a,c,b){return c.imageData?d.makeData({mediaType:c.contentType||"image/png",isBase64:!0,data:c.imageData}):m(c.url,b)}function m(a,c){return!c||"service"!==c.origin&&"portal-item"!==c.origin||!c.layer||"feature"!==c.layer.type&&"stream"!==c.layer.type||
d.isAbsolute(a)||!c.layer.parsedUrl?n.fromJSON(a,c):d.join(c.layer.parsedUrl.path,"images",a)}function h(a,c,b,f){d.isDataProtocol(a)?(a=d.dataComponents(a),c.contentType=a.mediaType,c.imageData=a.data,b&&b.imageData===c.imageData&&b.url&&n.write(b.url,c,"url",f)):n.write(a,c,"url",f)}Object.defineProperty(f,"__esModule",{value:!0});f.readImageDataOrUrl=k;f.read=m;f.writeImageDataAndUrl=h;f.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:k},write:{writer:function(a,c,b,d){h(a,
c,this.source,d)}}}};f.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,c,b){a={};c.imageData&&(a.imageData=c.imageData);c.contentType&&(a.contentType=c.contentType);c.url&&(a.url=m(c.url,b));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports tslib ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(a,f,d,n,k,m,h,e){return function(a){function b(){for(var b=
[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.color=null;b.type="picture-marker";b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}d.__extends(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=k.toPt(b));null!=c&&(d.height=k.toPt(c));return d};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=
function(){var a=new c({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",n.clone(this.source));return a};b.prototype.hash=function(){return a.prototype.hash.call(this)+"."+this.height+"."+this.url+"."+this.width};var c;d.__decorate([m.property({json:{write:!1}})],b.prototype,"color",void 0);d.__decorate([m.enumeration({esriPMS:"picture-marker"})],b.prototype,"type",void 0);d.__decorate([m.property(e.urlPropertyDefinition)],
b.prototype,"url",void 0);d.__decorate([m.property(e.sourcePropertyDefinition)],b.prototype,"source",void 0);d.__decorate([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"height",void 0);d.__decorate([m.reader("height",["height","size"])],b.prototype,"readHeight",null);d.__decorate([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"width",void 0);d.__decorate([m.property({json:{write:!1}})],b.prototype,"size",void 0);return b=c=d.__decorate([m.subclass("esri.symbols.PictureMarkerSymbol")],
b)}(h)})},"esri/symbols/PointSymbol3D":function(){define("require exports tslib ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,f,d,n,k,m,h,e,c,b,g,p,r){var q=n.ofType({base:null,key:"type",typeMap:{icon:e,object:c,text:g}}),l=n.ofType({base:null,key:"type",typeMap:{icon:e,object:c}});return function(a){function b(b){b=
a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new q;b.type="point-3d";return b}d.__extends(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new k("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=
function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return p.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return p.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:m.clone(this.verticalOffset),callout:m.clone(this.callout),styleOrigin:m.clone(this.styleOrigin),
symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[e.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[e.fromPictureMarkerSymbol(a)]})};b.fromCIMSymbol=function(a){return new c({symbolLayers:[e.fromCIMSymbol(a)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};b.fromTextSymbol=function(a){return new c({symbolLayers:[g.fromTextSymbol(a)]})};
var c;d.__decorate([h.property({type:r.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);d.__decorate([h.property(p.calloutProperty)],b.prototype,"callout",void 0);d.__decorate([h.property({type:q,json:{type:l,origins:{"web-scene":{type:l}}}})],b.prototype,"symbolLayers",void 0);d.__decorate([h.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);d.__decorate([h.enumeration({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=d.__decorate([h.subclass("esri.symbols.PointSymbol3D")],
b)}(b)})},"esri/symbols/PolygonSymbol3D":function(){define("require exports tslib ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t){var v=n.ofType({base:null,key:"type",typeMap:{extrude:c,fill:b,icon:g,line:p,object:r,text:l,water:t}}),A=n.ofType({base:null,
key:"type",typeMap:{extrude:c,fill:b,icon:g,line:p,object:r,water:t}});return function(a){function c(b){b=a.call(this,b)||this;b.type="polygon-3d";return b}d.__extends(c,a);f=c;c.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new k("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},
d)}).toArray()};c.prototype.clone=function(){return new f({styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};c.fromJSON=function(a){var b=new f;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=b.symbolLayers.getItemAt(0),d=b.symbolLayers.getItemAt(1);!d.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(c.outline={size:d.size,
color:h.isSome(d.material)?d.material.color:null});b.symbolLayers.removeAt(1)}return b};c.fromSimpleFillSymbol=function(a){return new f({symbolLayers:[b.fromSimpleFillSymbol(a)]})};var f;d.__decorate([e.property({type:v,json:{type:A}})],c.prototype,"symbolLayers",void 0);d.__decorate([e.writer("web-scene","symbolLayers")],c.prototype,"writeSymbolLayers",null);d.__decorate([e.enumeration({PolygonSymbol3D:"polygon-3d"})],c.prototype,"type",void 0);return c=f=d.__decorate([e.subclass("esri.symbols.PolygonSymbol3D")],
c)}(q)})},"esri/symbols/SimpleFillSymbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,f,d,n,k,m,h,e,c){var b=new k.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function e(){for(var b=
[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.color=new n([0,0,0,.25]);b.outline=new c;b.type="simple-fill";b.style="solid";return b}d.__extends(e,a);f=e;e.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};e.prototype.clone=function(){return new f({color:m.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};e.prototype.hash=function(){return""+a.prototype.hash.call(this)+
this.style+"."+(this.color&&this.color.hash())};var f;d.__decorate([h.property()],e.prototype,"color",void 0);d.__decorate([h.property()],e.prototype,"outline",void 0);d.__decorate([h.enumeration({esriSFS:"simple-fill"})],e.prototype,"type",void 0);d.__decorate([h.property({type:b.apiValues,json:{read:b.read,write:b.write}})],e.prototype,"style",void 0);return e=f=d.__decorate([h.subclass("esri.symbols.SimpleFillSymbol")],e)}(e)})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,f,d,n,k,m,h,e,c,b){var g=new k.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(a){function c(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];c=a.apply(this,c)||this;c.color=new n([255,255,255,.25]);c.type="simple-marker";c.size=12;c.style="circle";c.outline=new b;return c}d.__extends(c,a);f=c;c.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&
"string"!==typeof a)return a;var e={};a&&(e.style=a);null!=b&&(e.size=h.toPt(b));c&&(e.outline=c);d&&(e.color=d);return e};c.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(c.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new f({angle:this.angle,color:m.clone(this.color),outline:this.outline&&this.outline.clone(),
path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};c.prototype.hash=function(){var b;return a.prototype.hash.call(this)+"."+(this.color&&this.color.hash())+"."+this.path+"."+this.style+"."+(null===(b=this.outline)||void 0===b?void 0:b.hash())};var f;d.__decorate([e.property()],c.prototype,"color",void 0);d.__decorate([e.writer("color")],c.prototype,"writeColor",null);d.__decorate([e.enumeration({esriSMS:"simple-marker"})],c.prototype,"type",void 0);d.__decorate([e.property()],
c.prototype,"size",void 0);d.__decorate([e.property({type:g.apiValues,json:{read:g.read,write:g.write}})],c.prototype,"style",void 0);d.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"path",null);d.__decorate([e.property({type:b,json:{default:null,write:!0}})],c.prototype,"outline",void 0);return c=f=d.__decorate([e.subclass("esri.symbols.SimpleMarkerSymbol")],c)}(c)})},"esri/symbols/TextSymbol":function(){define("require exports tslib ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),
function(a,f,d,n,k,m,h,e,c){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new e;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;b.lineWidth=192;b.lineHeight=1;return b}d.__extends(b,a);c=b;b.prototype.normalizeCtorArgs=
function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};b.prototype.writeLineWidth=function(a,b,c,d){d&&"string"!==typeof d||(b[c]=a)};b.prototype.castLineWidth=function(a){return m.toPt(a)};b.prototype.writeLineHeight=function(a,b,c,d){d&&"string"!==typeof d||(b[c]=a)};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:k.clone(this.backgroundColor),borderLineColor:k.clone(this.borderLineColor),borderLineSize:this.borderLineSize,
color:k.clone(this.color),font:this.font&&this.font.clone(),haloColor:k.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return(this.backgroundColor&&this.backgroundColor.hash())+"."+this.borderLineColor+
"."+this.borderLineSize+"."+this.color.hash()+"."+(this.font&&this.font.hash())+"."+(this.haloColor&&this.haloColor.hash())+"."+this.haloSize+"."+this.horizontalAlignment+"."+this.kerning+"."+this.rightToLeft+"."+this.rotated+"."+this.text+"."+this.verticalAlignment+"."+this.width+"."+this.xoffset+"."+this.yoffset+"."+this.lineHeight+"."+this.lineWidth+"."+this.angle};var c;d.__decorate([h.property({type:n,json:{write:!0}})],b.prototype,"backgroundColor",void 0);d.__decorate([h.property({type:n,json:{write:!0}})],
b.prototype,"borderLineColor",void 0);d.__decorate([h.property({type:Number,json:{write:!0}})],b.prototype,"borderLineSize",void 0);d.__decorate([h.property({type:e,json:{write:!0}})],b.prototype,"font",void 0);d.__decorate([h.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);d.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);d.__decorate([h.property({type:n,json:{write:!0}})],b.prototype,"haloColor",
void 0);d.__decorate([h.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);d.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"rightToLeft",void 0);d.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);d.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);d.__decorate([h.property({type:String,readOnly:!0})],b.prototype,"type",void 0);d.__decorate([h.property({type:["baseline","top",
"middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);d.__decorate([h.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);d.__decorate([h.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);d.__decorate([h.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);d.__decorate([h.property({type:Number,json:{write:!0}})],b.prototype,"width",
void 0);d.__decorate([h.property({type:Number})],b.prototype,"lineWidth",void 0);d.__decorate([h.writer("lineWidth")],b.prototype,"writeLineWidth",null);d.__decorate([h.cast("lineWidth")],b.prototype,"castLineWidth",null);d.__decorate([h.property({type:Number})],b.prototype,"lineHeight",void 0);d.__decorate([h.writer("lineHeight")],b.prototype,"writeLineHeight",null);return b=c=d.__decorate([h.subclass("esri.symbols.TextSymbol")],b)}(c)})},"esri/symbols/WebStyleSymbol":function(){define("require exports tslib ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ../portal/Portal ../support/persistableUrlUtils ./Symbol ./support/Thumbnail @dojo/framework/shim/Promise".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g){function p(){return new Promise(function(b,c){a(["./support/styleUtils"],b,c)})}var r=k.getLogger("esri.symbols.WebStyleSymbol"),q=n.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}d.__extends(b,a);f=b;b.prototype.read=function(b,c){this.portal=c?c.portal:void 0;a.prototype.read.call(this,b,c)};b.prototype.clone=
function(){return new f({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};b.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};b.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};b.prototype._fetchSymbol=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c,e;return d.__generator(this,function(d){switch(d.label){case 0:return[4,p()];case 1:return c=d.sent(),m.throwIfAborted(b),e=c.resolveWebStyleSymbol(this,
{portal:this.portal},a,b),e.catch(function(a){r.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,e]}})})};var f;d.__decorate([h.property({json:{write:!1}})],b.prototype,"color",void 0);d.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);d.__decorate([h.property({type:e,json:{write:!1}})],b.prototype,"portal",void 0);d.__decorate([h.property({type:String,json:{read:c.read,write:c.write}})],b.prototype,"styleUrl",void 0);d.__decorate([h.property({type:g.default,
json:{read:!1}})],b.prototype,"thumbnail",void 0);d.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);d.__decorate([h.property({type:q.apiValues,readOnly:!0,json:{type:q.jsonValues,read:!1,write:q.write}})],b.prototype,"type",void 0);return b=f=d.__decorate([h.subclass("esri.symbols.WebStyleSymbol")],b)}(b)})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v,A,x,w,u){function y(a,b,c){b=a?z[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;a&&(b="Symbols of type '"+(a.type||"unknown")+"' are not supported",c&&c.messages&&c.messages.push(new k("symbol:unsupported",b,{definition:a,context:c})),D.error(b));return null}function C(a,b,c){if(!a)return null;if(!(!c||"web-scene"!==c.origin||a instanceof v||a instanceof x)){var e="cim"!==a.type?u.to3D(a):{symbol:null,error:new d("symbol-conversion:unsupported-cim-symbol",
"CIM symbol is unsupported in web scenes",{symbol:a})};if(e.symbol)return e.symbol.write(b,c);c.messages&&c.messages.push(new d("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:e.error}));return null}return c&&"web-map"===c.origin&&"web-style"===a.type?(c.messages&&c.messages.push(new d("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.",
{symbol:a,context:c})),null):a.write(b,c)}Object.defineProperty(f,"__esModule",{value:!0});var z={esriSMS:t,esriPMS:g,esriTS:A,esriSLS:l,esriSFS:q,esriPFS:b,PointSymbol3D:p,LineSymbol3D:e,PolygonSymbol3D:r,MeshSymbol3D:c,LabelSymbol3D:h,styleSymbolReference:x,CIMSymbolReference:m},D=n.getLogger("esri.symbols.support.jsonUtils");f.read=y;f.writeTarget=function(a,b,c,d){(a=C(a,{},d))&&(b[c]=a)};f.write=C;f.fromJSON=function(a,b){return y(a,null,b)};f.readCallout3D=function(a,b){if(!a||!a.type)return null;
var c=null;switch(a.type){case "line":c=new w}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(a,f,d,n){Object.defineProperty(f,"__esModule",{value:!0});f.to3D=function(a,f,h,e){void 0===f&&(f=!1);void 0===h&&(h=!1);void 0===e&&(e=!0);if(!a)return{symbol:null};if(d.isSymbol3D(a)||a instanceof d.WebStyleSymbol)e=a.clone();else if("cim"===a.type)e=d.PointSymbol3D.fromCIMSymbol(a);else if(a instanceof
d.SimpleLineSymbol)e=d.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof d.SimpleMarkerSymbol)e=d.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof d.PictureMarkerSymbol)e=d.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof d.SimpleFillSymbol)e=d.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof d.TextSymbol)e=e?d.LabelSymbol3D.fromTextSymbol(a):d.PointSymbol3D.fromTextSymbol(a);else return{error:new n("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+
(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};f&&(e.id=a.id);if(h&&d.isSymbol3D(e))for(a=0;a<e.symbolLayers.length;++a)e.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:e}}})},"esri/renderers/Renderer":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/SetUtils ../core/accessorSupport/decorators ./support/AuthoringInfo".split(" "),function(a,f,d,n,k,m,h,e){var c=new n.default({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",
heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});return function(a){function b(b){b=a.call(this,b)||this;b.authoringInfo=null;b.type=null;return b}d.__extends(b,a);b.prototype.getRequiredFields=function(a){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(c){switch(c.label){case 0:if(!this.collectRequiredFields)return[2,[]];b=new Set;return[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,m.valuesOfSet(b).sort()]}})})};
b.prototype.getSymbol=function(a,b){};b.prototype.getSymbolAsync=function(a,b){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(a){return[2]})})};b.prototype.getSymbols=function(){return[]};b.prototype.getAttributeHash=function(){return JSON.stringify(this)};b.prototype.getMeshHash=function(){return JSON.stringify(this)};d.__decorate([h.property({type:e,json:{write:!0}})],b.prototype,"authoringInfo",void 0);d.__decorate([h.property({type:c.apiValues,readOnly:!0,
json:{type:c.jsonValues,read:!1,write:{writer:c.write,ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=d.__decorate([h.subclass("esri.renderers.Renderer")],b)}(k.JSONSupport)})},"esri/renderers/support/AuthoringInfo":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),function(a,
f,d,n,k,m,h,e,c,b,g){var p=new n.default({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),r=new n.default({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),q="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");
return function(a){function f(b){b=a.call(this,b)||this;b.colorRamp=null;b.lengthUnit=null;b.maxSliderValue=null;b.minSliderValue=null;b.visualVariables=null;return b}d.__extends(f,a);l=f;Object.defineProperty(f.prototype,"classificationMethod",{get:function(){var a=this._get("classificationMethod"),b=this.type;return b&&"relationship"!==b?"class-breaks-size"===b||"class-breaks-color"===b?a||"manual":null:a},set:function(a){this._set("classificationMethod",a)},enumerable:!0,configurable:!0});f.prototype.readColorRamp=
function(a){if(a)return g.fromJSON(a)};Object.defineProperty(f.prototype,"fields",{get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(a){this._set("fields",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"field1",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(a){this._set("field1",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"field2",{get:function(){return this.type&&
"relationship"!==this.type?null:this._get("field2")},set:function(a){this._set("field2",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"focus",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(a){this._set("focus",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"numClasses",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(a){this._set("numClasses",a)},
enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"standardDeviationInterval",{get:function(){var a=this.type;return a&&"relationship"!==a&&"class-breaks-size"!==a&&"class-breaks-color"!==a?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(a){this._set("standardDeviationInterval",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"type",{get:function(){return this._get("type")},
set:function(a){var b=a;"classed-size"===a?b="class-breaks-size":"classed-color"===a&&(b="class-breaks-color");this._set("type",b)},enumerable:!0,configurable:!0});f.prototype.clone=function(){return new l({classificationMethod:this.classificationMethod,colorRamp:m.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:m.clone(this.field1),field2:m.clone(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,
standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(function(a){return a.clone()})})};var l;d.__decorate([h.property({type:p.apiValues,value:null,dependsOn:["type"],json:{type:p.jsonValues,read:p.read,write:p.write,origins:{"web-document":{default:"manual",type:p.jsonValues,read:p.read,write:p.write}}}})],f.prototype,"classificationMethod",null);d.__decorate([h.property({types:g.types,json:{write:!0}})],f.prototype,
"colorRamp",void 0);d.__decorate([h.reader("colorRamp")],f.prototype,"readColorRamp",null);d.__decorate([h.property({type:[String],value:null,dependsOn:["type"],json:{write:!0}})],f.prototype,"fields",null);d.__decorate([h.property({type:c.default,value:null,dependsOn:["type"],json:{write:!0}})],f.prototype,"field1",null);d.__decorate([h.property({type:c.default,value:null,dependsOn:["type"],json:{write:!0}})],f.prototype,"field2",null);d.__decorate([h.property({type:["HH","HL","LH","LL"],value:null,
dependsOn:["type"],json:{write:!0}})],f.prototype,"focus",null);d.__decorate([h.property({type:Number,value:null,dependsOn:["type"],json:{type:e.Integer,write:!0}})],f.prototype,"numClasses",null);d.__decorate([h.property({type:q,json:{type:q,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],f.prototype,"lengthUnit",void 0);d.__decorate([h.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"maxSliderValue",void 0);d.__decorate([h.property({type:Number,
json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"minSliderValue",void 0);d.__decorate([h.property({type:[.25,.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],f.prototype,"standardDeviationInterval",null);d.__decorate([h.property({type:String,value:null,json:{type:r.jsonValues,read:r.read,write:r.write,origins:{"web-scene":{type:r.jsonValues.filter(function(a){return"dotDensity"!==a}),read:r.read,write:r.write}}}})],f.prototype,
"type",null);d.__decorate([h.property({type:[b],json:{write:!0}})],f.prototype,"visualVariables",void 0);return f=l=d.__decorate([h.subclass("esri.renderers.support.AuthoringInfo")],f)}(k.JSONSupport)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("require exports tslib ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./AuthoringInfoClassBreakInfo".split(" "),function(a,f,d,n,k,m,h){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function c(b){b=
a.call(this,b)||this;b.field="";b.normalizationField="";b.label="";b.classBreakInfos=[];return b}d.__extends(c,a);b=c;c.prototype.clone=function(){return new b({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:k.clone(this.classBreakInfos)})};var b;d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);d.__decorate([m.property({type:String,
json:{write:!0}})],c.prototype,"label",void 0);d.__decorate([m.property({type:[h.default],json:{write:!0}})],c.prototype,"classBreakInfos",void 0);return c=b=d.__decorate([m.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],c)}(n.JSONSupport);f.AuthoringInfoFieldInfo=a;f.default=a})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,f,d,n,k){Object.defineProperty(f,
"__esModule",{value:!0});a=function(a){function f(c){c=a.call(this,c)||this;c.minValue=0;c.maxValue=0;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({minValue:this.minValue,maxValue:this.maxValue})};var e;d.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"minValue",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"maxValue",void 0);return f=e=d.__decorate([k.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],f)}(n.JSONSupport);
f.AuthoringInfoClassBreakInfo=a;f.default=a})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast".split(" "),function(a,f,d,n,k,m,h){var e=new n.default({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),c=new n.default({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),b={key:function(a){return"number"===
typeof a?"number":"string"},typeMap:{number:Number,string:String},base:null},g=["high-to-low","above-and-below","centered-on","extremes"],p="seconds minutes hours days months years".split(" ");return function(a){function f(b){b=a.call(this,b)||this;b.endTime=null;b.field=null;b.maxSliderValue=null;b.minSliderValue=null;b.startTime=null;b.type=null;b.units=null;return b}d.__extends(f,a);l=f;f.prototype.castEndTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};f.prototype.castStartTime=
function(a){return"string"===typeof a||"number"===typeof a?a:null};Object.defineProperty(f.prototype,"style",{get:function(){return"color"===this.type?this._get("style"):null},set:function(a){this._set("style",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"theme",{get:function(){return"color"===this.type?this._get("theme")||"high-to-low":null},set:function(a){this._set("theme",a)},enumerable:!0,configurable:!0});f.prototype.clone=function(){return new l({endTime:this.endTime,
field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};var l;d.__decorate([m.property({types:b,json:{write:!0}})],f.prototype,"endTime",void 0);d.__decorate([h.cast("endTime")],f.prototype,"castEndTime",null);d.__decorate([m.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],f.prototype,"maxSliderValue",
void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],f.prototype,"minSliderValue",void 0);d.__decorate([m.property({types:b,json:{write:!0}})],f.prototype,"startTime",void 0);d.__decorate([h.cast("startTime")],f.prototype,"castStartTime",null);d.__decorate([m.property({type:e.apiValues,value:null,dependsOn:["type"],json:{type:e.jsonValues,read:e.read,write:e.write}})],f.prototype,"style",null);d.__decorate([m.property({type:g,value:null,dependsOn:["type"],json:{type:g,write:!0}})],f.prototype,
"theme",null);d.__decorate([m.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],f.prototype,"type",void 0);d.__decorate([m.property({type:p,json:{type:p,write:!0}})],f.prototype,"units",void 0);return f=l=d.__decorate([m.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],f)}(k.JSONSupport)})},"esri/tasks/support/colorRamps":function(){define(["require","exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,f,d,n,k){Object.defineProperty(f,
"__esModule",{value:!0});f.types={key:"type",base:n,typeMap:{algorithmic:d,multipart:k}};f.fromJSON=function(a){return a&&a.type?"algorithmic"===a.type?d.fromJSON(a):"multipart"===a.type?k.fromJSON(a):null:null}})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("require exports tslib ../../Color ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ColorRamp".split(" "),function(a,f,d,n,k,m,h,e){return function(a){function b(b){b=a.call(this,b)||
this;b.algorithm=null;b.fromColor=null;b.toColor=null;b.type="algorithmic";return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({fromColor:k.clone(this.fromColor),toColor:k.clone(this.toColor),algorithm:this.algorithm})};var c;d.__decorate([m.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],b.prototype,"algorithm",void 0);d.__decorate([m.property({type:n,json:{type:[h.Integer],write:!0}})],b.prototype,"fromColor",void 0);d.__decorate([m.property({type:n,
json:{type:[h.Integer],write:!0}})],b.prototype,"toColor",void 0);d.__decorate([m.property({type:["algorithmic"]})],b.prototype,"type",void 0);return b=c=d.__decorate([m.subclass("esri.tasks.support.AlgorithmicColorRamp")],b)}(e)})},"esri/tasks/support/ColorRamp":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(d){d=a.call(this,d)||this;d.type=null;return d}d.__extends(f,a);d.__decorate([k.property({readOnly:!0,
json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=d.__decorate([k.subclass("esri.tasks.support.ColorRamp")],f)}(n.JSONSupport)})},"esri/tasks/support/MultipartColorRamp":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./AlgorithmicColorRamp ./ColorRamp".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.colorRamps=null;b.type="multipart";return b}d.__extends(c,a);b=c;c.prototype.clone=function(){return new b({colorRamps:n.clone(this.colorRamps)})};
var b;d.__decorate([k.property({type:[m],json:{write:!0}})],c.prototype,"colorRamps",void 0);d.__decorate([k.property({type:["multipart"]})],c.prototype,"type",void 0);return c=b=d.__decorate([k.subclass("esri.tasks.support.MultipartColorRamp")],c)}(h)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("require exports tslib ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g){Object.defineProperty(f,"__esModule",{value:!0});var p={base:b,key:"type",typeMap:{opacity:h,color:m,rotation:e,size:c}};f.VisualVariablesMixin=function(a){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._vvFactory=new g;return b}d.__extends(b,a);Object.defineProperty(b.prototype,"visualVariables",{set:function(a){this._vvFactory.visualVariables=a;this._set("visualVariables",this._vvFactory.visualVariables)},enumerable:!0,configurable:!0});
b.prototype.readVisualVariables=function(a,b,c){return this._vvFactory.readVariables(a,b,c)};b.prototype.writeVisualVariables=function(a,b,c,d){b[c]=this._vvFactory.writeVariables(a,d)};Object.defineProperty(b.prototype,"arcadeRequiredForVisualVariables",{get:function(){if(!this.visualVariables)return!1;for(var a=0,b=this.visualVariables;a<b.length;a++)if(b[a].arcadeRequired)return!0;return!1},enumerable:!0,configurable:!0});b.prototype.hasVisualVariables=function(a,b){return a?!!this.getVisualVariablesForType(a,
b):!!(this.getVisualVariablesForType("size",b)||this.getVisualVariablesForType("color",b)||this.getVisualVariablesForType("opacity",b)||this.getVisualVariablesForType("rotation",b))};b.prototype.getVisualVariablesForType=function(a,b){var c=this.visualVariables;if(c&&(c=c.filter(function(c){return c.type===a&&("string"===typeof b?c.target===b:!1===b?!c.target:!0)}),!c||0!==c.length))return c};b.prototype.collectVVRequiredFields=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c,
e,f,g;return d.__generator(this,function(d){switch(d.label){case 0:c=[],this.visualVariables&&(c=c.concat(this.visualVariables)),e=0,f=c,d.label=1;case 1:if(!(e<f.length))return[3,4];g=f[e];if(!g)return[3,3];g.field&&k.collectField(a,b,g.field);g.normalizationField&&k.collectField(a,b,g.normalizationField);return g.valueExpression?[4,k.collectArcadeFieldNames(a,b,g.valueExpression)]:[3,3];case 2:d.sent(),d.label=3;case 3:return e++,[3,1];case 4:return[2]}})})};d.__decorate([n.property({types:[p],
value:null,json:{write:!0}})],b.prototype,"visualVariables",null);d.__decorate([n.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],b.prototype,"readVisualVariables",null);d.__decorate([n.writer("visualVariables")],b.prototype,"writeVisualVariables",null);return b=d.__decorate([n.subclass("esri.renderers.mixins.VisualVariablesMixin")],b)}(a)}})},"esri/renderers/visualVariables/ColorVariable":function(){define("require exports tslib ../../core/accessorSupport/decorators ./VisualVariable ./support/ColorStop".split(" "),
function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.type="color";b.normalizationField=null;return b}d.__extends(e,a);c=e;Object.defineProperty(e.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
a)},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new c({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};e.prototype.getAttributeHash=function(){return a.prototype.getAttributeHash.call(this)+"-"+this.normalizationField};e.prototype._interpolateData=function(){return this.stops&&
this.stops.map(function(a){return a.value||0})};var c;d.__decorate([n.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],e.prototype,"cache",null);d.__decorate([n.property({type:["color"],json:{type:["colorInfo"]}})],e.prototype,"type",void 0);d.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);d.__decorate([n.property({type:[m],json:{write:!0}})],e.prototype,"stops",null);return e=c=d.__decorate([n.subclass("esri.renderers.visualVariables.ColorVariable")],
e)}(k)})},"esri/renderers/visualVariables/VisualVariable":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),function(a,f,d,n,k,m,h,e,c){var b=m.getLogger("esri.renderers.visualVariables.VisualVariable"),g=new n.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});return function(a){function f(b){b=
a.call(this,b)||this;b.index=null;b.type=null;b.field=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;return b}d.__extends(f,a);f.prototype.castField=function(a){return null==a?a:"function"===typeof a?(b.error(".field: field must be a string value"),null):e.ensureString(a)};Object.defineProperty(f.prototype,"arcadeRequired",{get:function(){return!!this.valueExpression},enumerable:!0,configurable:!0});f.prototype.clone=function(){};f.prototype.getAttributeHash=function(){return this.type+
"-"+this.field+"-"+this.valueExpression};d.__decorate([h.property()],f.prototype,"index",void 0);d.__decorate([h.property({type:g.apiValues,readOnly:!0,json:{read:g.read,write:g.write}})],f.prototype,"type",void 0);d.__decorate([h.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);d.__decorate([h.cast("field")],f.prototype,"castField",null);d.__decorate([h.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);d.__decorate([h.property({type:String,json:{write:!0}})],
f.prototype,"valueExpressionTitle",void 0);d.__decorate([h.property({readOnly:!0,dependsOn:["valueExpression"]})],f.prototype,"arcadeRequired",null);d.__decorate([h.property({type:c,json:{write:!0}})],f.prototype,"legendOptions",void 0);return f=d.__decorate([h.subclass("esri.renderers.visualVariables.VisualVariable")],f)}(k.JSONSupport)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators",
"../../support/LegendOptions"],function(a,f,d,n,k){return function(a){function f(){var c=null!==a&&a.apply(this,arguments)||this;c.showLegend=null;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({title:this.title,showLegend:this.showLegend})};var e;d.__decorate([n.property({type:Boolean,json:{write:!0}})],f.prototype,"showLegend",void 0);return f=e=d.__decorate([n.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],f)}(k.default)})},"esri/renderers/support/LegendOptions":function(){define(["require",
"exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,f,d,n,k){Object.defineProperty(f,"__esModule",{value:!0});a=function(a){function f(){var c=null!==a&&a.apply(this,arguments)||this;c.title=null;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({title:this.title})};var e;d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);return f=e=d.__decorate([k.subclass("esri.renderers.support.LegendOptions")],f)}(n.JSONSupport);
f.LegendOptions=a;f.default=a})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.color=null;b.label=null;b.value=null;return b}d.__extends(c,a);b=c;c.prototype.writeValue=function(a,b,c){b[c]=null==a?0:a};c.prototype.clone=function(){return new b({color:this.color&&
this.color.clone(),label:this.label,value:this.value})};var b;d.__decorate([m.property({type:n,json:{type:[h.Integer],write:!0}})],c.prototype,"color",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);d.__decorate([m.property({type:Number,json:{write:{allowNull:!0}}})],c.prototype,"value",void 0);d.__decorate([m.writer("value")],c.prototype,"writeValue",null);return c=b=d.__decorate([m.subclass("esri.renderers.visualVariables.support.ColorStop")],c)}(k.JSONSupport)})},
"esri/renderers/visualVariables/OpacityVariable":function(){define("require exports tslib ../../core/accessorSupport/decorators ./VisualVariable ./support/OpacityStop".split(" "),function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.type="opacity";b.normalizationField=null;return b}d.__extends(e,a);c=e;Object.defineProperty(e.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});
Object.defineProperty(e.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",a)},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new c({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&
this.legendOptions.clone()})};e.prototype.getAttributeHash=function(){return a.prototype.getAttributeHash.call(this)+"-"+this.normalizationField};e.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||0})};var c;d.__decorate([n.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],e.prototype,"cache",null);d.__decorate([n.property({type:["opacity"],json:{type:["transparencyInfo"]}})],e.prototype,"type",void 0);d.__decorate([n.property({type:String,
json:{write:!0}})],e.prototype,"normalizationField",void 0);d.__decorate([n.property({type:[m],json:{write:!0}})],e.prototype,"stops",null);return e=c=d.__decorate([n.subclass("esri.renderers.visualVariables.OpacityVariable")],e)}(k)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../webdoc/support/opacityUtils".split(" "),function(a,f,
d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.label=null;b.opacity=null;b.value=null;return b}d.__extends(c,a);b=c;c.prototype.readOpacity=function(a,b){return h.transparencyToOpacity(b.transparency)};c.prototype.writeOpacity=function(a,b,c){b[c]=h.opacityToTransparency(a)};c.prototype.clone=function(){return new b({label:this.label,opacity:this.opacity,value:this.value})};var b;d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);d.__decorate([k.property({type:Number,
json:{type:m.Integer,write:{target:"transparency"}}})],c.prototype,"opacity",void 0);d.__decorate([k.reader("opacity",["transparency"])],c.prototype,"readOpacity",null);d.__decorate([k.writer("opacity")],c.prototype,"writeOpacity",null);d.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=b=d.__decorate([k.subclass("esri.renderers.visualVariables.support.OpacityStop")],c)}(n.JSONSupport)})},"esri/renderers/visualVariables/RotationVariable":function(){define("require exports tslib ../../core/Error ../../core/accessorSupport/decorators ./VisualVariable".split(" "),
function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.axis=null;b.type="rotation";b.rotationType="geographic";b.valueExpressionTitle=null;return b}d.__extends(e,a);c=e;Object.defineProperty(e.prototype,"cache",{get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});e.prototype.writeValueExpressionTitleWebScene=function(a,c,d,e){e&&e.messages&&e.messages.push(new n("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:"visualVariables["+this.index+"].valueExpressionTitle",context:e}))};e.prototype.clone=function(){return new c({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};var c;d.__decorate([k.property({readOnly:!0,dependsOn:["valueExpression"]})],e.prototype,"cache",null);d.__decorate([k.property({type:["heading","tilt",
"roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],e.prototype,"axis",void 0);d.__decorate([k.property({type:["rotation"],json:{type:["rotationInfo"]}})],e.prototype,"type",void 0);d.__decorate([k.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],e.prototype,"rotationType",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);d.__decorate([k.writer("web-scene",
"valueExpressionTitle")],e.prototype,"writeValueExpressionTitleWebScene",null);return e=c=d.__decorate([k.subclass("esri.renderers.visualVariables.RotationVariable")],e)}(m)})},"esri/renderers/visualVariables/SizeVariable":function(){define("require exports tslib ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r){function q(a){if(null!=a){if("string"===typeof a||"number"===typeof a)return h.toPt(a);if("size"===a.type){if(p.isSizeVariable(a))return a;a=d.__assign({},a);delete a.type;return new x(a)}}}function l(a,b,c){if("object"!==typeof a)return a;b=new x;b.read(a,c);return b}var t=m.getLogger("esri.renderers.visualVariables.SizeVariable"),v=new k.default({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),A=new k.default({unknown:"unknown",
inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"}),x=function(a){function c(b){b=a.call(this,b)||this;b.axis=null;b.legendOptions=null;b.normalizationField=null;b.scaleBy=null;b.target=null;b.type="size";b.useSymbolValue=null;b.valueExpression=null;b.valueRepresentation=null;b.valueUnit=null;return b}d.__extends(c,a);
f=c;Object.defineProperty(c.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:r.viewScaleRE.test(this.valueExpression)}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"expression",{set:function(a){t.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===a?(this.valueExpression="$view.scale",this._set("expression",
a)):this._set("expression",null)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"index",{set:function(a){p.isSizeVariable(this.maxSize)&&(this.maxSize.index="visualVariables["+a+"].maxSize");p.isSizeVariable(this.minSize)&&(this.minSize.index="visualVariables["+a+"].minSize");this._set("index",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"inputValueType",{get:function(){return p.getInputValueType(this)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"maxDataValue",{set:function(a){a&&this.stops&&(t.warn("cannot set maxDataValue when stops is not null."),a=null);this._set("maxDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"maxSize",{set:function(a){a&&this.stops&&(t.warn("cannot set maxSize when stops is not null."),a=null);this._set("maxSize",a)},enumerable:!0,configurable:!0});c.prototype.castMaxSize=function(a){return q(a)};c.prototype.readMaxSize=function(a,b,c){return l(a,b,c)};Object.defineProperty(c.prototype,
"minDataValue",{set:function(a){a&&this.stops&&(t.warn("cannot set minDataValue when stops is not null."),a=null);this._set("minDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"minSize",{set:function(a){a&&this.stops&&(t.warn("cannot set minSize when stops is not null."),a=null);this._set("minSize",a)},enumerable:!0,configurable:!0});c.prototype.castMinSize=function(a){return q(a)};c.prototype.readMinSize=function(a,b,c){return l(a,b,c)};Object.defineProperty(c.prototype,
"arcadeRequired",{get:function(){return this.valueExpression?!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"stops",{set:function(a){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value})):a&&
(t.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),a=null);this._set("stops",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"transformationType",{get:function(){return p.getTransformationType(this,this.inputValueType)},enumerable:!0,configurable:!0});c.prototype.readValueExpression=function(a,b){return a||b.expression&&"$view.scale"};c.prototype.writeValueExpressionWebScene=function(a,b,c,d){"$view.scale"===a?d&&d.messages&&(a=
this.index,d.messages.push(new n("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof a?a:"visualVariables["+a+"]")+".valueExpression",context:d}))):b[c]=a};c.prototype.readValueUnit=function(a){return a?A.read(a):null};c.prototype.clone=function(){return new f({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
maxDataValue:this.maxDataValue,maxSize:p.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:p.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(function(a){return a.clone()}),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};
c.prototype.flipSizes=function(){if("clamped-linear"===this.transformationType){var a=this.minSize;this.minSize=this.maxSize;this.maxSize=a;return this}if("stops"===this.transformationType)for(var a=this.stops,b=a.map(function(a){return a.size}).reverse(),c=a.length,d=0;d<c;d++)a[d].size=b[d];return this};c.prototype.getAttributeHash=function(){return a.prototype.getAttributeHash.call(this)+"-"+this.target+"-"+this.normalizationField};c.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||
0})};var f;d.__decorate([e.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],c.prototype,"cache",null);d.__decorate([e.property({type:v.apiValues,json:{type:v.jsonValues,origins:{"web-map":{read:!1}},read:v.read,write:v.write}})],c.prototype,"axis",void 0);d.__decorate([e.property({type:String,value:null,json:{read:!1}})],c.prototype,"expression",null);d.__decorate([e.property()],c.prototype,"index",null);d.__decorate([e.property({type:String,readOnly:!0,dependsOn:["field","valueExpression"]})],
c.prototype,"inputValueType",null);d.__decorate([e.property({type:g,json:{write:!0}})],c.prototype,"legendOptions",void 0);d.__decorate([e.property({type:Number,value:null,json:{write:!0}})],c.prototype,"maxDataValue",null);d.__decorate([e.property({type:Number,value:null,json:{write:!0}})],c.prototype,"maxSize",null);d.__decorate([e.cast("maxSize")],c.prototype,"castMaxSize",null);d.__decorate([e.reader("maxSize")],c.prototype,"readMaxSize",null);d.__decorate([e.property({type:Number,value:null,
json:{write:!0}})],c.prototype,"minDataValue",null);d.__decorate([e.property({type:Number,value:null,json:{write:!0}})],c.prototype,"minSize",null);d.__decorate([e.cast("minSize")],c.prototype,"castMinSize",null);d.__decorate([e.reader("minSize")],c.prototype,"readMinSize",null);d.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);d.__decorate([e.property({readOnly:!0,dependsOn:["valueExpression","minSize.arcadeRequired","maxSize.arcadeRequired"]})],c.prototype,
"arcadeRequired",null);d.__decorate([e.property({type:String})],c.prototype,"scaleBy",void 0);d.__decorate([e.property({type:[b],value:null,json:{write:!0}})],c.prototype,"stops",null);d.__decorate([e.property({type:["outline"],json:{write:!0}})],c.prototype,"target",void 0);d.__decorate([e.property({type:String,readOnly:!0,dependsOn:"minDataValue maxDataValue minSize maxSize valueUnit inputValueType stops".split(" ")})],c.prototype,"transformationType",null);d.__decorate([e.property({type:["size"],
json:{type:["sizeInfo"]}})],c.prototype,"type",void 0);d.__decorate([e.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],c.prototype,"useSymbolValue",void 0);d.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);d.__decorate([e.reader("valueExpression",["valueExpression","expression"])],c.prototype,"readValueExpression",null);d.__decorate([e.writer("web-scene","valueExpression")],c.prototype,"writeValueExpressionWebScene",null);d.__decorate([e.property({type:["radius",
"diameter","area","width","distance"],json:{write:!0}})],c.prototype,"valueRepresentation",void 0);d.__decorate([e.property({type:A.apiValues,json:{write:A.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],c.prototype,"valueUnit",void 0);d.__decorate([e.reader("valueUnit")],c.prototype,"readValueUnit",null);return c=f=d.__decorate([e.subclass("esri.renderers.visualVariables.SizeVariable")],c)}(c);return x})},"esri/renderers/visualVariables/support/SizeStop":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators".split(" "),
function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.label=null;b.size=null;b.value=null;return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({label:this.label,size:this.size,value:this.value})};var c;d.__decorate([m.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);d.__decorate([m.property({type:Number,cast:k.toPt,json:{write:!0}})],e.prototype,"size",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],e.prototype,"value",
void 0);return e=c=d.__decorate([m.subclass("esri.renderers.visualVariables.support.SizeStop")],e)}(n.JSONSupport)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./VisualVariableLegendOptions"],function(a,f,d,n,k){return function(a){function f(){var c=null!==a&&a.apply(this,arguments)||this;c.customValues=null;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({title:this.title,
showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};var e;d.__decorate([n.property({type:[Number],json:{write:!0}})],f.prototype,"customValues",void 0);return f=e=d.__decorate([n.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],f)}(k)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["require","exports"],function(a,f){function d(a){return a.valueExpression?"expression":a.field&&"string"===typeof a.field?
"field":"unknown"}Object.defineProperty(f,"__esModule",{value:!0});f.isSizeVariable=function(a){return a&&"esri.renderers.visualVariables.SizeVariable"===a.declaredClass};f.isValidNumber=function(a){return null!=a&&!isNaN(a)&&isFinite(a)};f.getInputValueType=d;f.getTransformationType=function(a,f){return"unknown"===(f||d(a))?"constant":a.stops?"stops":null!=a.minSize&&null!=a.maxSize&&null!=a.minDataValue&&null!=a.maxDataValue?"clamped-linear":"unknown"===(a.valueUnit||"unknown")?null!=a.minSize&&
null!=a.minDataValue?a.minSize&&a.minDataValue?"proportional":"additive":"identity":"real-world-size"}})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("require exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/utils ./sizeVariableUtils".split(" "),function(a,f,d,n,k,m,h,e,c){function b(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"color"===a.type})[0]:
a)if("esri.renderers.visualVariables.ColorVariable"!==a.declaredClass)x.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var e="number"===typeof b,f=e?null:b,g=f&&f.attributes,l=e?b:null,k=a.field,m=a.cache;b=m.ipData;var p=m.hasExpression,m=a.cache.compiledFunc;if(!k&&!p)return(c=a.stops)&&c[0]&&c[0].color;if("number"!==typeof l)if(p){if(!h.isSome(c)||!h.isSome(c.arcade)){x.error("Use of arcade expressions requires an arcade context");return}l=
c.arcade.arcadeUtils;k=l.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});f=l.createExecContext(f,k);m||(m=l.createSyntaxTree(a.valueExpression),m=l.createFunction(m),a.cache.compiledFunc=m);l=l.executeFunction(m,f)}else g&&(l=g[k]);f=a.normalizationField;g=g?parseFloat(g[f]):void 0;if(null!=l&&(!f||e||!isNaN(g)&&0!==g)&&(isNaN(g)||e||(l/=g),e=A(l,b)))return g=e[0],b=e[1],c=g===b?a.stops[g].color:d.blendColors(a.stops[g].color,a.stops[b].color,e[2],h.isSome(c)?
c.color:void 0),new d(c)}}function g(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"opacity"===a.type})[0]:a)if("esri.renderers.visualVariables.OpacityVariable"!==a.declaredClass)x.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var d="number"===typeof b,e=d?null:b,f=e&&e.attributes,g=d?b:null,l=a.field,k=a.cache;b=k.ipData;var m=k.hasExpression,k=a.cache.compiledFunc;if(!l&&!m)return(a=a.stops)&&
a[0]&&a[0].opacity;if("number"!==typeof g)if(m){if(h.isNone(c)||h.isNone(c.arcade)){x.error("Use of arcade expressions requires an arcade context");return}g=c.arcade.arcadeUtils;c=g.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=g.createExecContext(e,c);k||(e=g.createSyntaxTree(a.valueExpression),k=g.createFunction(e),a.cache.compiledFunc=k);g=g.executeFunction(k,c)}else f&&(g=f[l]);c=a.normalizationField;f=f?parseFloat(f[c]):void 0;if(null!=g&&(!c||d||
!isNaN(f)&&0!==f)&&(isNaN(f)||d||(g/=f),d=A(g,b))){b=d[0];f=d[1];if(b===f)return a.stops[b].opacity;b=a.stops[b].opacity;return b+(a.stops[f].opacity-b)*d[2]}}}function p(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"rotation"===a.type})[0]:a)if("esri.renderers.visualVariables.RotationVariable"!==a.declaredClass)x.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");else{var d=a.axis||"heading",e="heading"===
d&&"arithmetic"===a.rotationType?90:0,d="heading"===d&&"arithmetic"===a.rotationType?-1:1,f="number"===typeof b?null:b,g=f&&f.attributes,l=a.field,k=a.cache.hasExpression;b=a.cache.compiledFunc;var m=0;if(!l&&!k)return m;if(k){if(h.isNone(c)||h.isNone(c.arcade)){x.error("Use of arcade expressions requires an arcade context");return}g=c.arcade.arcadeUtils;c=g.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=g.createExecContext(f,c);b||(b=g.createSyntaxTree(a.valueExpression),
b=g.createFunction(b),a.cache.compiledFunc=b);m=g.executeFunction(b,c)}else g&&(m=g[l]||0);return m="number"!==typeof m||isNaN(m)?null:e+d*m}}function r(a,b,d){var e="number"===typeof b,f=e?null:b,g=f&&f.attributes,l=e?b:null;b=a.cache.compiledFunc;if(a.cache.isScaleDriven)f=h.isSome(d)?d.scale:void 0,d=h.isSome(d)?d.view:void 0,null==f||d&&"3d"===d.type?(f=d=null,(f=a.stops)?(d=f[0].value,f=f[f.length-1].value):(d=a.minDataValue||0,f=a.maxDataValue||0),d=(d+f)/2):d=f,l=d;else if(!e)switch(a.inputValueType){case "expression":if(h.isNone(d)||
h.isNone(d.arcade)){x.error("Use of arcade expressions requires an arcade context");return}l=d.arcade.arcadeUtils;d=l.getViewInfo({viewingMode:d.viewingMode,scale:d.scale,spatialReference:d.spatialReference});d=l.createExecContext(f,d);b||(f=l.createSyntaxTree(a.valueExpression),b=l.createFunction(f),a.cache.compiledFunc=b);l=l.executeFunction(b,d);break;case "field":g&&(l=g[a.field]);break;case "unknown":l=null}if(!c.isValidNumber(l))return null;if(e||!a.normalizationField)return l;a=g?parseFloat(g[a.normalizationField]):
null;return c.isValidNumber(a)&&0!==a?l/a:null}function q(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"size"===a.type})[0]:a)if("esri.renderers.visualVariables.SizeVariable"!==a.declaredClass)x.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var d=r(a,b,c);b=v(d,a,b,c,a.cache.ipData);return null===b||void 0===b||isNaN(b)?0:b}}function l(a,b,d){return null==a?null:c.isSizeVariable(a)?q(a,b,d):c.isValidNumber(a)?
a:null}function t(a,b,d){return c.isValidNumber(d)&&a>d?d:c.isValidNumber(b)&&a<b?b:a}function v(a,b,c,d,f){switch(b.transformationType){case "additive":return d=l(b.minSize,c,d),a+(d||b.minDataValue);case "constant":return a=(a=b.stops)&&a.length&&a[0].size,null==a&&(a=b.minSize),l(a,c,d);case "clamped-linear":f=(a-b.minDataValue)/(b.maxDataValue-b.minDataValue);var g=l(b.minSize,c,d);c=l(b.maxSize,c,d);d=h.isSome(d)?d.shape:void 0;a<=b.minDataValue?b=g:a>=b.maxDataValue?b=c:"area"===b.scaleBy&&
d?(d=(b="circle"===d)?u*Math.pow(g/2,2):g*g,d+=f*((b?u*Math.pow(c/2,2):c*c)-d),b=b?2*Math.sqrt(d/u):Math.sqrt(d)):b=g+f*(c-g);return b;case "proportional":return f=h.isSome(d)?d.shape:void 0,a/=b.minDataValue,g=l(b.minSize,c,d),b=l(b.maxSize,c,d),d=null,d="circle"===f?2*Math.sqrt(a*Math.pow(g/2,2)):"square"===f||"diamond"===f||"image"===f?Math.sqrt(a*Math.pow(g,2)):a*g,t(d,g,b);case "stops":return f=A(a,f),g=f[0],a=f[1],f=f[2],g===a?b=l(b.stops[g].size,c,d):(g=l(b.stops[g].size,c,d),b=l(b.stops[a].size,
c,d),b=g+(b-g)*f),b;case "real-world-size":return f=(h.isSome(d)&&d.resolution?d.resolution:1)*e.meterIn[b.valueUnit],g=l(b.minSize,c,d),d=l(b.maxSize,c,d),b=b.valueRepresentation,c=null,c="area"===b?2*Math.sqrt(a/u)/f:"radius"===b||"distance"===b?2*a/f:a/f,t(c,g,d);case "identity":return a;case "unknown":return null}}function A(a,b){if(b){var c=0,d=b.length-1;b.some(function(b,e){if(a<b)return d=e,!0;c=e;return!1});return[c,d,(a-b[c])/(b[d]-b[c])]}}Object.defineProperty(f,"__esModule",{value:!0});
var x=m.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),w=new n,u=Math.PI;f.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;f.getColor=b;f.getOpacity=g;f.getRotationAngle=p;f.getSize=q;f.getSizeFromNumberOrVariable=l;f.getSizeForValue=v;f.getSizeRangeAtScale=function(a,b,c){var d=c&&"3d"===c.type;if(!(a.cache.isScaleDriven&&d||b))return null;c={scale:b,view:c};b=l(a.minSize,w,c);a=l(a.maxSize,w,c);if(null!=b||null!=a)return b>a&&(c=a,a=b,b=c),{minSize:b,maxSize:a}};
f.getVisualVariableValues=function(a,c,d){if(a.visualVariables){var e=[],f=[],h=[],l=[],k=[],m=0;for(a=a.visualVariables;m<a.length;m++){var n=a[m];switch(n.type){case "color":f.push(n);break;case "opacity":h.push(n);break;case "rotation":k.push(n);break;case "size":l.push(n)}}f.forEach(function(a){var f=b(a,c,d);e.push({variable:a,value:f})});h.forEach(function(a){var b=g(a,c,d);e.push({variable:a,value:b})});k.forEach(function(a){var b=p(a,c,d);e.push({variable:a,value:b})});l.forEach(function(a){var b=
q(a,c,d);e.push({variable:a,value:b})});return e.filter(function(a){return null!=a.value})}};f.getAllSizes=function(a,b,c){for(var d=["proportional","proportional","proportional"],e=0;e<a.length;e++){var f=a[e],g=f.useSymbolValue?"symbol-value":q(f,b,c);switch(f.axis){case "width":d[0]=g;break;case "depth":d[1]=g;break;case "height":d[2]=g;break;case "width-and-depth":d[0]=g;d[1]=g;break;case "all":case void 0:case null:d[0]=g;d[1]=g;d[2]=g;break;default:k.neverReached(f.axis)}}return d}})},"esri/Graphic":function(){define("require exports tslib ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p){a=function(a){function f(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.layer=null;b.popupTemplate=null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:h.generateUID()});return b}d.__extends(f,a);h=f;f.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(f.prototype,"attributes",{set:function(a){var b=this._get("attributes");
b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,
"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});f.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&c.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};f.prototype.getAttribute=function(a){return this.attributes&&
this.attributes[a]};f.prototype.setAttribute=function(a,b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c={},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};f.prototype.getObjectId=function(){return this.sourceLayer?this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};f.prototype.toJSON=function(){return{geometry:c.isSome(this.geometry)?this.geometry.toJSON():null,symbol:c.isSome(this.symbol)?
this.symbol.toJSON():null,attributes:d.__assign({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};f.prototype.clone=function(){return new h(this.cloneProperties())};f.prototype.cloneProperties=function(){return{attributes:e.clone(this.attributes),geometry:e.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:e.clone(this.symbol),visible:this.visible}};f.prototype._notifyLayer=function(a,
b,c,d){this.layer&&this.layer.graphicChanged&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var h;d.__decorate([b.property({value:null})],f.prototype,"attributes",null);d.__decorate([b.property({value:null,types:n.geometryTypes,json:{read:g.fromJSON}})],f.prototype,"geometry",null);d.__decorate([b.property()],f.prototype,"layer",void 0);d.__decorate([b.property({type:k})],f.prototype,"popupTemplate",void 0);d.__decorate([b.property()],
f.prototype,"sourceLayer",void 0);d.__decorate([b.property({value:null,types:m.symbolTypes,json:{read:p.read}})],f.prototype,"symbol",null);d.__decorate([b.property({type:Boolean,value:!0})],f.prototype,"visible",null);return f=h=d.__decorate([b.subclass("esri.Graphic")],f)}(h.JSONSupport);var r=0;(function(a){a.generateUID=function(){return r++}})(a||(a={}));return a})},"esri/PopupTemplate":function(){define("require exports tslib ./core/arrayUtils ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/SetUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/CustomContent ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v,A,x,w,u,y,C,z,D,B,E,F){var H=k.ofType({key:"type",defaultKeyValue:"button",base:B,typeMap:{button:E,toggle:F}}),G={base:w,key:"type",typeMap:{media:C,custom:u,text:z,attachments:x,fields:y}},L=e.getLogger("esri.PopupTemplate"),K=["attachments","fields","media","text"];return function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=
!0;b.outFields=null;b.overwriteActions=!1;b.title="";b.relatedRecordsInfo=null;return b}d.__extends(e,a);f=e;e.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return p.ensureOneOfType(G,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||c.isPromiseLike(a))return a;L.error("content error","unsupported content value",{value:a});return null};e.prototype.readContent=function(a,b){a=b.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(b):
this._readPopupInfo(b)};e.prototype.writeContent=function(a,b){var c=this;"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=a.filter(function(a){return-1!==K.indexOf(a.type)}).map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"===a.type?c._writeAttachmentContent(b):"media"===a.type?c._writeMediaContent(a,b):"text"===a.type&&c._writeTextContent(a,b)}))};e.prototype.writeFieldInfos=function(a,b){var c=this.content,c=Array.isArray(c)?c:null;if(a){var d=
c?c.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):!1;b.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();d||(a.visible=!1);return a})}if(c)for(a=0;a<c.length;a++){var e=c[a];"fields"===e.type&&this._writeFieldsContent(e,b)}};e.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};e.prototype.writeTitle=function(a,b){b.title=a||""};e.prototype.clone=function(){var a=this.actions,
a=a?h.clone(a.toArray()):[];return new f({actions:a,content:Array.isArray(this.content)?h.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?h.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?h.clone(this.fieldInfos):null,layerOptions:this.layerOptions?h.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?h.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,
relatedRecordsInfo:this.relatedRecordsInfo?h.clone(this.relatedRecordsInfo):null})};e.prototype.collectRequiredFields=function(a,b){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),r.collectFields(a,b,d.__spreadArrays(this.outFields||[],this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};
e.prototype.getRequiredFields=function(a){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(d){switch(d.label){case 0:return c=new Set,[4,this.collectRequiredFields(c,a)];case 1:return d.sent(),[2,b.valuesOfSet(c).sort()]}})})};e.prototype._writeFieldsContent=function(a,b){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=h.clone(a.fieldInfos),Array.isArray(b.fieldInfos)?a.forEach(function(a){var c=n.find(b.fieldInfos,function(b){return b.fieldName.toLowerCase()===
a.fieldName.toLowerCase()});c?c.visible=!0:b.fieldInfos.push(a)}):b.fieldInfos=a)};e.prototype._writeAttachmentContent=function(a){a.showAttachments||(a.showAttachments=!0)};e.prototype._writeTextContent=function(a,b){!b.description&&a.text&&(b.description=a.text)};e.prototype._writeMediaContent=function(a,b){Array.isArray(a.mediaInfos)&&a.mediaInfos.length&&(a=h.clone(a.mediaInfos),Array.isArray(b.mediaInfos)?b.mediaInfos=d.__spreadArrays(b.mediaInfos,a):b.mediaInfos=a)};e.prototype._readPopupInfoElements=
function(a){var b=a.description,c=a.mediaInfos,d=!1,e=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||!c||e||(a.mediaInfos=c,e=!0),C.fromJSON(a);if("text"===a.type)return a.text||!b||d||(a.text=b,d=!0),z.fromJSON(a);if("attachments"===a.type)return x.fromJSON(a);if("fields"===a.type)return y.fromJSON(a)}).filter(Boolean)};e.prototype._readPopupInfo=function(a){var b=a.description,c=a.mediaInfos;a=a.showAttachments;var d=[];b?d.push(new z({text:b})):d.push(new y);
Array.isArray(c)&&c.length&&d.push(C.fromJSON({mediaInfos:c}));a&&d.push(x.fromJSON({displayType:"list"}));return d.length?d:b};e.prototype._getContentElementFields=function(a){var b=this;if(!a||"attachments"===a.type)return[];if("custom"===a.type)return a.outFields||[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,c){return d.__spreadArrays(a,b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};
e.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},e=c.fields,f=void 0===e?[]:e,e=c.normalizeField,g=c.tooltipField,h=c.sourceURL,c=c.linkURL;a=d.__spreadArrays(this._extractFieldNames(a.title),this._extractFieldNames(b),this._extractFieldNames(h),this._extractFieldNames(c),f);e&&a.push(e);g&&a.push(g);return a};e.prototype._getContentFields=function(a){var b=this;return"string"===typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return d.__spreadArrays(a,
b._getContentElementFields(c))},[]):[]};e.prototype._collectExpressionInfoFields=function(a,b,e){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(d){switch(d.label){case 0:return e?[4,c.all(e.map(function(c){return r.collectArcadeFieldNames(a,b,c.expression)}))]:[2];case 1:return d.sent(),[2]}})})};e.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===
a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};e.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return d.__spreadArrays(a,b._getActionFields(c))},[]):[]};e.prototype._getActionFields=function(a){var b=a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return d.__spreadArrays(this._extractFieldNames(a.title),this._extractFieldNames(b),this._extractFieldNames(c))};e.prototype._getTitleFields=function(a){return"string"===typeof a?
this._extractFieldNames(a):[]};e.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var f;d.__decorate([g.property({type:H})],e.prototype,"actions",void 0);d.__decorate([g.property()],e.prototype,"content",void 0);d.__decorate([g.cast("content")],
e.prototype,"castContent",null);d.__decorate([g.reader("content",["description","popupElements","mediaInfos","showAttachments"])],e.prototype,"readContent",null);d.__decorate([g.writer("content",{popupElements:{type:k.ofType(q.types)},showAttachments:{type:Boolean},mediaInfos:{type:k.ofType(D.types)},description:{type:String}})],e.prototype,"writeContent",null);d.__decorate([g.property({type:[l],json:{write:!0}})],e.prototype,"expressionInfos",void 0);d.__decorate([g.property({type:[t]})],e.prototype,
"fieldInfos",void 0);d.__decorate([g.writer("fieldInfos")],e.prototype,"writeFieldInfos",null);d.__decorate([g.property({type:v})],e.prototype,"layerOptions",void 0);d.__decorate([g.writer("layerOptions")],e.prototype,"writeLayerOptions",null);d.__decorate([g.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],e.prototype,"lastEditInfoEnabled",void 0);d.__decorate([g.property()],e.prototype,"outFields",void 0);d.__decorate([g.property()],
e.prototype,"overwriteActions",void 0);d.__decorate([g.property({json:{type:String}})],e.prototype,"title",void 0);d.__decorate([g.writer("title")],e.prototype,"writeTitle",null);d.__decorate([g.property({type:A,json:{write:!0}})],e.prototype,"relatedRecordsInfo",void 0);return e=f=d.__decorate([g.subclass("esri.PopupTemplate")],e)}(m.JSONSupport)})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(a,f,d,n,k,m,h,e){Object.defineProperty(f,"__esModule",{value:!0});f.AttachmentsContent=d;f.BaseContent=n;f.CustomContent=k;f.FieldsContent=m;f.MediaContent=h;f.TextContent=e;f.isContent=function(a){return a instanceof n};f.types={base:null,key:"type",typeMap:{attachment:d,custom:k,fields:m,media:h,text:e}}})},"esri/popup/content/AttachmentsContent":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Content"],function(a,f,d,n,k){return function(a){function f(c){c=
a.call(this,c)||this;c.displayType=null;c.type="attachments";return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({displayType:this.displayType})};var e;d.__decorate([n.property({type:["preview","list"],json:{write:!0}})],f.prototype,"displayType",void 0);d.__decorate([n.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=e=d.__decorate([n.subclass("esri.popup.content.AttachmentsContent")],f)}(k)})},"esri/popup/content/Content":function(){define(["require",
"exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(d){d=a.call(this,d)||this;d.type=null;return d}d.__extends(f,a);d.__decorate([k.property({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=d.__decorate([k.subclass("esri.popup.content.Content")],f)}(n.JSONSupport)})},"esri/popup/content/CustomContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./Content".split(" "),
function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.creator=null;b.destroyer=null;b.outFields=null;b.type="custom";return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?n.clone(this.outFields):null})};var c;d.__decorate([k.property()],e.prototype,"creator",void 0);d.__decorate([k.property()],e.prototype,"destroyer",void 0);d.__decorate([k.property()],e.prototype,"outFields",
void 0);d.__decorate([k.property({type:["custom"],readOnly:!0})],e.prototype,"type",void 0);return e=c=d.__decorate([k.subclass("esri.popup.content.CustomContent")],e)}(m)})},"esri/popup/content/FieldsContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.fieldInfos=null;b.type="fields";return b}d.__extends(c,a);b=c;c.prototype.writeFieldInfos=
function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};c.prototype.clone=function(){return new b({fieldInfos:Array.isArray(this.fieldInfos)?n.clone(this.fieldInfos):null})};var b;d.__decorate([k.property({type:[m]})],c.prototype,"fieldInfos",void 0);d.__decorate([k.writer("fieldInfos")],c.prototype,"writeFieldInfos",null);d.__decorate([k.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b=d.__decorate([k.subclass("esri.popup.content.FieldsContent")],
c)}(h)})},"esri/popup/FieldInfo":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(a,f,d,n,k,m,h,e){var c=new n.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(a){function b(b){b=a.call(this,b)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;
return b}d.__extends(b,a);f=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=c.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return c.fromJSON(a)};b.prototype.clone=function(){return new f({fieldName:this.fieldName,format:this.format?m.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var f;d.__decorate([h.property({type:String,
json:{write:!0}})],b.prototype,"fieldName",void 0);d.__decorate([h.property({type:e,json:{write:!0}})],b.prototype,"format",void 0);d.__decorate([h.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);d.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);d.__decorate([h.property({type:c.apiValues,json:{write:!0,default:"text-box",type:c.jsonValues}})],b.prototype,"stringFieldOption",void 0);d.__decorate([h.writer("stringFieldOption")],
b.prototype,"writeStringFieldOption",null);d.__decorate([h.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);d.__decorate([h.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);d.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);d.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);return b=f=d.__decorate([h.subclass("esri.popup.FieldInfo")],b)}(k.JSONSupport)})},
"esri/popup/support/FieldInfoFormat":function(){define("require exports tslib ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),function(a,f,d,n,k,m,h,e,c){return function(a){function b(b){b=a.call(this,b)||this;b.dateFormat=null;b.digitSeparator=!1;b.places=null;return b}d.__extends(b,a);f=b;b.prototype.clone=function(){return new f({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,
places:this.places})};b.prototype.format=function(a){return this.dateFormat?e.formatDate(a,e.convertDateFormatToIntlOptions(this.dateFormat)):c.formatNumber(a,c.convertNumberFormatToIntlOptions(this))};var f;d.__decorate([m.enumeration(n.dictionary)],b.prototype,"dateFormat",void 0);d.__decorate([m.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);d.__decorate([m.property({type:h.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=f=d.__decorate([m.subclass("esri.popup.support.FieldInfoFormat")],
b)}(k.JSONSupport)})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(a,f,d){Object.defineProperty(f,"__esModule",{value:!0});f.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')",
"long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')",
"day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')",
"long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')",
"long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};f.dictionary=d.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",
shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",
dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});f.toJSON=f.dictionary.toJSON.bind(f.dictionary);f.fromJSON=f.dictionary.fromJSON.bind(f.dictionary);f.getFormat=
function(a){return f.formats[a]}})},"esri/popup/content/MediaContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(a,f,d,n,k,m,h,e,c,b,g,p){return function(a){function e(b){b=a.call(this,b)||this;b.mediaInfos=null;b.type="media";return b}d.__extends(e,a);f=e;e.prototype.readMediaInfos=function(a){return a&&
a.map(function(a){if("image"===a.type)return c.fromJSON(a);if("barchart"===a.type)return m.fromJSON(a);if("columnchart"===a.type)return h.fromJSON(a);if("linechart"===a.type)return b.fromJSON(a);if("piechart"===a.type)return g.fromJSON(a)}).filter(Boolean)};e.prototype.writeMediaInfos=function(a,b){b.mediaInfos=a&&a.map(function(a){return a.toJSON()})};e.prototype.clone=function(){return new f({mediaInfos:this.mediaInfos?n.clone(this.mediaInfos):null})};var f;d.__decorate([k.property({types:[p.types]})],
e.prototype,"mediaInfos",void 0);d.__decorate([k.reader("mediaInfos")],e.prototype,"readMediaInfos",null);d.__decorate([k.writer("mediaInfos")],e.prototype,"writeMediaInfos",null);d.__decorate([k.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=d.__decorate([k.subclass("esri.popup.content.MediaContent")],e)}(e)})},"esri/popup/content/BarChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.type="bar-chart";return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;d.__decorate([n.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:m.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=c=d.__decorate([n.subclass("esri.popup.content.BarChartMediaInfo")],e)}(k)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports tslib ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,f,d,n,k,m){return function(a){function e(c){c=a.call(this,c)||this;c.type=null;c.value=null;return c}d.__extends(e,a);d.__decorate([n.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);d.__decorate([n.property({type:m,json:{write:!0}})],e.prototype,"value",void 0);return e=d.__decorate([n.subclass("esri.popup.content.mixins.ChartMediaInfo")],e)}(k)})},"esri/popup/content/mixins/MediaInfo":function(){define(["require",
"exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(d){d=a.call(this,d)||this;d.altText=null;d.caption="";d.title="";d.type=null;return d}d.__extends(f,a);d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"altText",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"caption",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);
d.__decorate([k.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=d.__decorate([k.subclass("esri.popup.content.mixins.MediaInfo")],f)}(n.JSONSupport)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=
a.call(this,b)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}d.__extends(c,a);b=c;c.prototype.clone=function(){return new b({fields:k.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var b;d.__decorate([m.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"normalizeField",void 0);d.__decorate([m.property({type:[h],json:{read:!1}})],c.prototype,
"series",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=b=d.__decorate([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)}(n.JSONSupport)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define(["require","exports","tslib","../../../core/Accessor","../../../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.tooltip=null;c.x=null;c.y=null;return c}
d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({tooltip:this.tooltip,x:this.x,y:this.y})};var e;d.__decorate([k.property()],f.prototype,"tooltip",void 0);d.__decorate([k.property()],f.prototype,"x",void 0);d.__decorate([k.property()],f.prototype,"y",void 0);return f=e=d.__decorate([k.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],f)}(n)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require","exports","../../../core/jsonMap"],function(a,
f,d){Object.defineProperty(f,"__esModule",{value:!0});f.chartTypeKebabDict=d.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.type="column-chart";return b}d.__extends(e,a);c=e;
e.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;d.__decorate([n.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:m.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=c=d.__decorate([n.subclass("esri.popup.content.ColumnChartMediaInfo")],e)}(k)})},"esri/popup/content/ImageMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var c;d.__decorate([n.property({type:Number,json:{write:!0}})],e.prototype,"refreshInterval",void 0);d.__decorate([n.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],
e.prototype,"type",void 0);d.__decorate([n.property({type:m,json:{write:!0}})],e.prototype,"value",void 0);return e=c=d.__decorate([n.subclass("esri.popup.content.ImageMediaInfo")],e)}(k)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.linkURL=null;c.sourceURL=null;return c}d.__extends(f,a);e=f;f.prototype.clone=
function(){return new e({linkURL:this.linkURL,sourceURL:this.sourceURL})};var e;d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"linkURL",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"sourceURL",void 0);return f=e=d.__decorate([k.subclass("esri.popup.content.support.ImageMediaInfoValue")],f)}(n.JSONSupport)})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.type="line-chart";return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;d.__decorate([n.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:m.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=c=d.__decorate([n.subclass("esri.popup.content.LineChartMediaInfo")],e)}(k)})},
"esri/popup/content/PieChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.type="pie-chart";return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;d.__decorate([n.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],
read:!1,write:m.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=c=d.__decorate([n.subclass("esri.popup.content.PieChartMediaInfo")],e)}(k)})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),function(a,f,d,n,k,m,h,e){Object.defineProperty(f,"__esModule",{value:!0});f.types={base:e,key:"type",defaultKeyValue:"image",
typeMap:{"bar-chart":d,"column-chart":n,"line-chart":m,"pie-chart":h,image:k}};f.default=f.types})},"esri/popup/content/TextContent":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Content"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.text=null;c.type="text";return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({text:this.text})};var e;d.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,
"text",void 0);d.__decorate([n.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=e=d.__decorate([n.subclass("esri.popup.content.TextContent")],f)}(k)})},"esri/popup/ExpressionInfo":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.name=null;c.title=null;c.expression=null;c.returnType=null;return c}d.__extends(f,a);e=
f;f.prototype.clone=function(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var e;d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"expression",void 0);d.__decorate([k.property({type:["string","number"],json:{write:!0}})],f.prototype,"returnType",void 0);
return f=e=d.__decorate([k.subclass("esri.popup.ExpressionInfo")],f)}(n.JSONSupport)})},"esri/popup/LayerOptions":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.returnTopmostRaster=null;c.showNoDataRecords=null;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};
var e;d.__decorate([k.property({type:Boolean,json:{write:!0}})],f.prototype,"returnTopmostRaster",void 0);d.__decorate([k.property({type:Boolean,json:{write:!0}})],f.prototype,"showNoDataRecords",void 0);return f=e=d.__decorate([k.subclass("esri.popup.LayerOptions")],f)}(n.JSONSupport)})},"esri/popup/RelatedRecordsInfo":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),function(a,f,d,n,k,
m,h){return function(a){function c(b){b=a.call(this,b)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}d.__extends(c,a);b=c;c.prototype.clone=function(){return new b({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?k.clone(this.orderByFields):null})};var b;d.__decorate([m.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);d.__decorate([m.property({type:[h],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=b=d.__decorate([m.subclass("esri.popup.RelatedRecordsInfo")],
c)}(n.JSONSupport)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.field=null;c.order=null;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({field:this.field,order:this.order})};var e;d.__decorate([k.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);d.__decorate([k.property({type:["asc",
"desc"],json:{write:!0}})],f.prototype,"order",void 0);return f=e=d.__decorate([k.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],f)}(n.JSONSupport)})},"esri/support/actions/ActionBase":function(){define("require exports tslib ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(a,f,d,n,k,m){return function(a){function e(b){b=a.call(this,b)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;
b.visible=!0;return b}d.__extends(e,a);c=e;e.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var c;d.__decorate([m.property()],e.prototype,"active",void 0);d.__decorate([m.property()],e.prototype,"className",void 0);d.__decorate([m.property()],e.prototype,"disabled",void 0);d.__decorate([m.property()],e.prototype,"id",void 0);d.__decorate([m.property()],e.prototype,
"indicator",void 0);d.__decorate([m.property()],e.prototype,"title",void 0);d.__decorate([m.property()],e.prototype,"type",void 0);d.__decorate([m.property()],e.prototype,"visible",void 0);return e=c=d.__decorate([m.subclass("esri.support.actions.ActionBase")],e)}(k.IdentifiableMixin(n))})},"esri/core/Identifiable":function(){define(["require","exports","tslib","./accessorSupport/decorators"],function(a,f,d,n){Object.defineProperty(f,"__esModule",{value:!0});var k=0;f.IdentifiableMixin=function(a){return function(a){function e(){for(var c=
[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;Object.defineProperty(c,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+k++});return c}d.__extends(e,a);return e=d.__decorate([n.subclass("esri.core.Identifiable")],e)}(a)};a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this}d.__extends(f,a);return f=d.__decorate([n.subclass("esri.core.Identifiable")],f)}(f.IdentifiableMixin(function(){return function(){}}()));f.Identifiable=a})},
"esri/support/actions/ActionButton":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.image=null;c.type="button";return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var e;d.__decorate([n.property()],
f.prototype,"image",void 0);return f=e=d.__decorate([n.subclass("esri.support.Action.ActionButton")],f)}(k)})},"esri/support/actions/ActionToggle":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(a,f,d,n,k){return function(a){function f(c){c=a.call(this,c)||this;c.image=null;c.type="toggle";c.value=!1;return c}d.__extends(f,a);e=f;f.prototype.clone=function(){return new e({active:this.active,className:this.className,disabled:this.disabled,
id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var e;d.__decorate([n.property()],f.prototype,"image",void 0);d.__decorate([n.property()],f.prototype,"value",void 0);return f=e=d.__decorate([n.subclass("esri.support.Action.ActionToggle")],f)}(k)})},"esri/renderers/support/utils":function(){define("require exports ../../core/arrayUtils ../../core/Logger ../../core/unitUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop".split(" "),
function(a,f,d,n,k,m,h,e){function c(a,b,c){var d="";0===b?d=r.lt+" ":b===c&&(d=r.gt+" ");return d+a}function b(a){var b=a.minValue,c=a.maxValue,d=a.isFirstBreak?"":r.gt+" ";a="percent-of-total"===a.normalizationType?r.pct:"";b=null==b?"":h.format(b);c=null==c?"":h.format(c);return d+b+a+" "+r.ld+" "+c+a}function g(a,b){return"normalizationField"in a&&a.normalizationField?{type:"normalized-field",field:a.field,normalizationField:a.normalizationField}:"field"in a&&a.field?{type:"field",field:a.field}:
"valueExpression"in a&&a.valueExpression?{type:"expression",expression:a.valueExpression,title:a.valueExpressionTitle,returnType:b}:null}Object.defineProperty(f,"__esModule",{value:!0});var p=n.getLogger("esri.renderers.support.utils"),r={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},q={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},l={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",
day:"long-month-day-year",month:"long-month-day-year",year:"year"};f.meterIn={inches:k.convertUnit(1,"meters","inches"),feet:k.convertUnit(1,"meters","feet"),"us-feet":k.convertUnit(1,"meters","us-feet"),yards:k.convertUnit(1,"meters","yards"),miles:k.convertUnit(1,"meters","miles"),"nautical-miles":k.convertUnit(1,"meters","nautical-miles"),millimeters:k.convertUnit(1,"meters","millimeters"),centimeters:k.convertUnit(1,"meters","centimeters"),decimeters:k.convertUnit(1,"meters","decimeters"),meters:k.convertUnit(1,
"meters","meters"),kilometers:k.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/k.lengthToDegrees(1,"meters")};f.timelineDateFormatOptions=m.convertDateFormatToIntlOptions("short-date");f.createColorStops=function(a){var b=a.values,d=a.colors,f=a.labelIndexes,g=a.isDate,l=a.dateFormatOptions;return b.map(function(a,k){var p=null;if(!f||-1<f.indexOf(k)){var n=void 0;(n=g?m.formatDate(a,l):h.format(a))&&(p=c(n,k,b.length-1))}return new e({value:a,color:d[k],label:p})})};f.updateColorStops=
function(a){var b=a.stops,d=a.changes,e=a.isDate,f=a.dateFormatOptions,g=b.map(function(a){return a.value});a=[];for(var l=0;l<d.length;l++){var k=d[l];a.push(k.index);g[k.index]=k.value}var p=h.round(g,{indexes:a});b.forEach(function(a,d){a.value=g[d];if(null!=a.label){var l=void 0,k=null;(l=e?m.formatDate(p[d],f):h.format(p[d]))&&(k=c(l,d,b.length-1));a.label=k}})};f.createClassBreakLabel=b;f.setLabelsForClassBreaks=function(a){var c=a.classBreakInfos,d=a.normalizationType,e=[];if(c&&c.length)if("standard-deviation"===
a.classificationMethod)p.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");else if(a.round){e.push(c[0].minValue);for(a=0;a<c.length;a++)e.push(c[a].maxValue);e=h.round(e);c.forEach(function(a,c){a.label=b({minValue:0===c?e[0]:e[c],maxValue:e[c+1],isFirstBreak:0===c,normalizationType:d})})}else c.forEach(function(a,c){a.label=b({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===c,normalizationType:d})})};f.updateClassBreak=function(a){if("standard-deviation"===
a.classificationMethod)p.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");else{var c=a.classBreaks,d=a.change,e=d.index,d=d.value,f=c.length,g=-1,h=-1;0===e?g=e:e===f?h=e-1:(h=e-1,g=e);a=a.normalizationType;e=null;-1<g&&g<f&&(e=c[g],e.minValue=d,e.label=b({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===g,normalizationType:a}));-1<h&&h<f&&(e=c[h],e.maxValue=d,e.label=b({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===h,
normalizationType:a}))}};f.calculateDateFormatInterval=function(a){a=a.map(function(a){return new Date(a)});for(var b=a.length,c=Infinity,d=null,e=0;e<b-1;e++){for(var f=a[e],g=[],h=Infinity,l=null,k=e+1;k<b;k++){var m=a[k],m=f.getFullYear()!==m.getFullYear()&&"year"||f.getMonth()!==m.getMonth()&&"month"||f.getDate()!==m.getDate()&&"day"||f.getHours()!==m.getHours()&&"hour"||f.getMinutes()!==m.getMinutes()&&"minute"||f.getSeconds()!==m.getSeconds()&&"second"||"millisecond",p=q[m];p<h&&(h=p,l=m);g.push(m)}h<
c&&(c=h,d=l)}return d};f.createUniqueValueLabel=function(a){var b=a.value,c=a.domain,d=a.fieldInfo;a=a.dateFormatInterval;var e=String(b);(c=c&&"codedValues"in c&&c.codedValues?c.getName(b):null)?e=c:"number"===typeof b&&(e=d&&"date"===d.type?m.formatDate(b,a&&m.convertDateFormatToIntlOptions(l[a])):h.format(b));return e};f.getAttribute=g;f.getAttributes=function(a,b){var c=[];if("class-breaks"===a.type||"heatmap"===a.type)c.push(g(a,"number"));else if("unique-value"===a.type){var e=a.authoringInfo;
if(e&&"relationship"===e.type){if(e.field1&&e.field2){var f=e.field2.field,h=e.field2.normalizationField;c.push(g({field:e.field1.field,normalizationField:e.field1.normalizationField}));c.push(g({field:f,normalizationField:h}))}}else f=a.uniqueValueInfos[0],e=null,f&&f.value&&(f=typeof a.uniqueValueInfos[0].value,"string"===f||"number"===f)&&(e=f),c.push(g(a,e)),[a.field2,a.field3].forEach(function(a){return a&&c.push({type:"field",field:a})})}else"dot-density"===a.type&&a.attributes.forEach(function(a){return c.push(g(a,
"number"))});(a=b?b(a):"visualVariables"in a?a.visualVariables:null)&&a.forEach(function(a){return c.push(g(a,"number"))});return d.unique(c.filter(Boolean),function(a,b){return"field"===a.type&&"field"===b.type?a.field===b.field:"normalized-field"===a.type&&"normalized-field"===b.type?a.field===b.field&&a.normalizationField===b.normalizationField:"expression"===a.type&&"expression"===b.type?a.expression===b.expression:!1})}})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),
function(a,f,d,n,k,m,h){function e(a){if(a=C[a])return a;throw Error("unknown measure");}function c(a){return y[a].baseUnit}function b(a,b){void 0===b&&(b=null);b=b||e(a);return y[b].baseUnit===a}function g(a,c,d){if(c===d)return a;var f=e(c);if(f!==e(d))throw Error("incompatible units");a=b(c,f)?a:a*y[f].units[c].inBaseUnits;return b(d,f)?a:a/y[f].units[d].inBaseUnits}function p(a){return u.fromJSON(a.toLowerCase())||null}function r(a,b){void 0===b&&(b=t);return q(a,!0)||b}function q(a,b){void 0===
b&&(b=!1);var c,d,e;null!=a&&("object"===typeof a?(c=a.wkid,d=a.wkt):"number"===typeof a?c=a:"string"===typeof a&&(d=a));c?(e=x.values[x[c]],!e&&b&&w.has(c)&&(e=v)):d&&-1!==d.search(/^PROJCS/i)&&(a=A.exec(d))&&a[1]&&(e=parseFloat(a[1].split(",")[1]));return e}function l(a){var b,c,d;null!=a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?d=x.units[x[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=A.exec(c))&&a[1]&&(d=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);
return d?p(d):null}Object.defineProperty(f,"__esModule",{value:!0});f.inchesPerMeter=39.37;var t=m.wgs84Radius*Math.PI/180,v=m.wgs84Radius*Math.PI/200,A=/UNIT\[([^\]]+)\]\]$/i,x=h,w=k.SetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),u=n.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});a={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};n={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},
hectares:{inBaseUnits:1E4}};var y={length:{baseUnit:"meters",units:a},area:{baseUnit:"square-meters",units:n},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},C=function(){var a={},b;for(b in y)for(var c in y[b].units)a[c]=b;return a}();f.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");f.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");f.measureForUnit=e;f.baseUnitForMeasure=
c;f.baseUnitForUnit=function(a){return c(e(a))};f.isBaseUnit=b;f.convertUnit=g;f.preferredMetricLengthUnit=function(a,b){return 3E3>g(a,b,"meters")?"meters":"kilometers"};f.preferredMetricVerticalLengthUnit=function(a,b){return 1E5>g(a,b,"meters")?"meters":"kilometers"};f.preferredImperialLengthUnit=function(a,b){return 1E3>g(a,b,"feet")?"feet":"miles"};f.preferredImperialVerticalLengthUnit=function(a,b){return 1E5>g(a,b,"feet")?"feet":"miles"};f.preferredMetricAreaUnit=function(a,b){return 3E6>g(a,
b,"square-meters")?"square-meters":"square-kilometers"};f.preferredImperialAreaUnit=function(a,b){return 1E6>g(a,b,"square-feet")?"square-feet":"square-miles"};f.lengthToDegrees=function(a,b,c){void 0===c&&(c=m.wgs84Radius);return g(a,b,"meters")/(c*Math.PI/180)};f.unitFromRESTJSON=p;f.unitToRESTJSON=function(a){return u.toJSON(a)||null};f.getMetersPerVerticalUnitForSR=function(a){a=r(a);return 1E5<a?1:a};f.getVerticalUnitStringForSR=function(a){return 1E5<r(a)?"meters":l(a)};f.getMetersPerUnitForSR=
r;f.getMetersPerUnit=q;f.getUnitString=l;f.getDefaultUnitSystem=function(a){if(!a)return null;a=l(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;
default:d.neverReached(a)}return null}})},"esri/renderers/support/numberUtils":function(){define(["require","exports","../../intl"],function(a,f,d){function n(a,b){return a-b}function k(a,b){var c;c=Number(a.toFixed(b));c<a?a=c+1/Math.pow(10,b):(a=c,c-=1/Math.pow(10,b));c=Number(c.toFixed(b));a=Number(a.toFixed(b));return[c,a]}function m(a,b,c,d,f){a=e(a,b,c,d);b=null==a.next||a.next<=f;return(null==a.previous||a.previous<=f)&&b||a.previous+a.next<=2*f}function h(a){a=String(a);var b=a.match(c);if(b&&
b[1])return{integer:b[1].split("").length,fractional:b[3]?b[3].split("").length:0};if(-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b)){a=Number(a);var b=Number(b),d=0<b;d||(b=Math.abs(b));a=h(a);d?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b);return a}return{integer:0,fractional:0}}function e(a,b,c,d){var e={previous:null,next:null};if(null!=c){var f=a-c;e.previous=Math.floor(Math.abs(100*(b-c-f)/f))}null!=d&&
(f=d-a,e.next=Math.floor(Math.abs(100*(d-b-f)/f)));return e}Object.defineProperty(f,"__esModule",{value:!0});var c=/^-?(\d+)(\.(\d+))?$/i;f.numDigits=h;f.percentChange=e;f.round=function(a,b){void 0===b&&(b={});a=a.slice(0);var c=b.tolerance,c=void 0===c?2:c,d=b.strictBounds,d=void 0===d?!1:d;b=b.indexes;b=void 0===b?a.map(function(a,b){return b}):b;b.sort(n);for(var e=0;e<b.length;e++){var f=b[e],g=a[f],p=0===f?null:a[f-1],x=f===a.length-1?null:a[f+1],w=h(g).fractional;if(w){for(var u=0,y=!1,C=void 0;u<=
w&&!y;)y=k(g,u),C=d&&0===e?y[1]:y[0],y=m(g,C,p,x,c),u++;y&&(a[f]=C)}}return a};var b={maximumFractionDigits:20};f.format=function(a){return d.formatNumber(a,b)}})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("require exports tslib ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),function(a,f,d,n,k,m,h,e,c,b,g,p){var r=m.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),
q={color:c,size:p,opacity:b,rotation:g},l=new k.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),t=/^\[([^\]]+)\]$/i;return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.colorVariables=null;b.opacityVariables=null;b.rotationVariables=null;b.sizeVariables=null;return b}d.__extends(b,a);Object.defineProperty(b.prototype,"visualVariables",{set:function(a){this._resetVariables();if((a=a&&a.filter(function(a){return!!a}))&&a.length){for(var b=
0,c=a;b<c.length;b++){var d=c[b];switch(d.type){case "color":this.colorVariables.push(d);break;case "opacity":this.opacityVariables.push(d);break;case "rotation":this.rotationVariables.push(d);break;case "size":this.sizeVariables.push(d)}}this.sizeVariables.length&&this.sizeVariables.some(function(a){return!!a.target})&&a.sort(function(a,b){var c=null;return c=a.target===b.target?0:a.target?1:-1});for(b=0;b<a.length;b++)d=a[b],d.index=b}this._set("visualVariables",a)},enumerable:!0,configurable:!0});
b.prototype.readVariables=function(a,b,c){var d=b.rotationExpression;b=b.rotationType;if(d=(d=d&&d.match(t))&&d[1])a||(a=[]),a.push({type:"rotationInfo",rotationType:b,field:d});if(a)return a.map(function(a){var b=l.read(a.type),d=q[b];d||(r.warn("Unknown variable type: "+b),c&&c.messages&&c.messages.push(new h("visual-variable:unsupported","visualVariable of type '"+b+"' is not supported",{definition:a,context:c})));b=new d;b.read(a,c);return b})};b.prototype.writeVariables=function(a,b){for(var c=
[],d=0;d<a.length;d++){var e=a[d].toJSON(b);e&&c.push(e)}return c};b.prototype._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};d.__decorate([e.property()],b.prototype,"visualVariables",null);return b=d.__decorate([e.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)}(n)})},"esri/renderers/support/ClassBreakInfo":function(){define("require exports tslib ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.description=null;b.label=null;b.minValue=null;b.maxValue=0;b.symbol=null;return b}d.__extends(c,a);b=c;c.prototype.clone=function(){return new b({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol);return this.minValue+"."+this.maxValue+"."+a};var b;d.__decorate([m.property({type:String,
json:{write:!0}})],c.prototype,"description",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);d.__decorate([m.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);d.__decorate([m.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);d.__decorate([m.property({types:n.symbolTypesRenderer,json:{origins:{"web-scene":{types:n.symbolTypesRenderer3D,
read:h.read,write:h.writeTarget}},read:h.read,write:h.writeTarget}})],c.prototype,"symbol",void 0);return c=b=d.__decorate([m.subclass("esri.renderers.support.ClassBreakInfo")],c)}(k.JSONSupport)})},"esri/renderers/RasterColormapRenderer":function(){define("require exports tslib ../core/JSONSupport ../core/accessorSupport/decorators ./support/ColormapInfo ./support/colorRampUtils".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.colormapInfos=null;b.type=
"raster-colormap";return b}d.__extends(c,a);b=c;c.createFromColormap=function(a,c){function d(a){return c?c[a]||"":String(a[0])}if(!a)return null;var e=5===a[0].length;a=a.sort(function(a){return a[0][0]-a[1][0]});e=e?a.map(function(a){return m.fromJSON({value:a[0],color:a.slice(1,5),label:d(a[0])})}):a.map(function(a){return m.fromJSON({value:a[0],color:a.slice(1,4).concat([255]),label:d(a[0])})});return new b({colormapInfos:e})};c.createFromColorramp=function(a){a=h.convertColorRampToColormap(a,
256);return b.createFromColormap(a)};c.prototype.clone=function(){return new b({colormapInfos:this.colormapInfos.map(function(a){return a.toJSON()})})};c.prototype.extractColormap=function(){return this.colormapInfos.map(function(a){return[a.value,a.color.r,a.color.g,a.color.b,1<a.color.a?a.color.a:255*a.color.a&255]}).sort(function(a,b){return a[0]-b[0]})};var b;d.__decorate([k.property({type:[m],json:{write:!0}})],c.prototype,"colormapInfos",void 0);d.__decorate([k.enumeration({rasterColormap:"raster-colormap"})],
c.prototype,"type",void 0);return c=b=d.__decorate([k.subclass("esri.renderers.RasterColormapRenderer")],c)}(n.JSONSupport)})},"esri/renderers/support/ColormapInfo":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,f,d,n,k,m){return function(a){function e(){var c=null!==a&&a.apply(this,arguments)||this;c.value=null;c.label=null;c.color=null;return c}d.__extends(e,a);d.__decorate([m.property({type:Number,json:{write:!0}})],
e.prototype,"value",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);d.__decorate([m.property({type:n,json:{write:!0}})],e.prototype,"color",void 0);return e=d.__decorate([m.subclass("esri.renderers.support.ColormapInfo")],e)}(k.JSONSupport)})},"esri/renderers/support/colorRampUtils":function(){define(["require","exports","../../Color","../../core/colorUtils"],function(a,f,d,n){function k(a,c){if(!a||!c||a.length!==c.length)return!1;for(var b=0;b<a.length;b++)if(a[b]>
c[b]+2||a[b]<c[b]-2)return!1;return!0}function m(a,c,b){a=n.toLAB(a);c=n.toLAB(c);return n.toRGB({l:a.l*(1-b)+b*c.l,a:a.a*(1-b)+b*c.a,b:a.b*(1-b)+b*c.b})}function h(a,c){if(a){c=c?c:f.PREDEFINED_JSON_COLOR_RAMPS;var b=null,e;"algorithmic"===a.type?c.some(function(c){if(k(a.fromColor.toRgb(),c.fromColor)&&k(a.toColor.toRgb(),c.toColor))return b=c.id,!0}):"multipart"===a.type&&c.some(function(c){if(a.colorRamps&&c.colorRamps&&a.colorRamps.length===c.colorRamps.length&&(e=a.colorRamps,!c.colorRamps.some(function(a,
b){if(!k(e[b].fromColor.toRgb(),(new d(a.fromColor)).toRgb())||!k(e[b].toColor.toRgb(),(new d(a.toColor)).toRgb()))return!0}))){if(b)return!0;b=c.id}});return b}}Object.defineProperty(f,"__esModule",{value:!0});f.PREDEFINED_JSON_COLOR_RAMPS=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,
254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",
fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,
214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",
type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,
171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,
10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,
233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],
toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",
colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,
250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,
12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,
255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,
191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],
toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],
toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,
128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,
245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}];f.PREDEFINED_COLOR_RAMP_NAME_MAP={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",
brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",
errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",
pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",
purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",
spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};f.getColorRampId=h;f.getColorRampName=
function(a){return(a=h(a))?f.PREDEFINED_COLOR_RAMP_NAME_MAP[a]:null};f.convertColorRampToColormap=function(a,c){if(a&&c){for(var b="multipart"===a.type?a.colorRamps.length:1,e=[],f=[],h,k,l,n,v,A=0,x=0;x<b;x++)e[x]={start:null,end:null},e[x].start=A,e[x].end=A+1/b,A=e[x].end;b=function(b){n=b/c;e.forEach(function(e,g){n>=e.start&&n<e.end&&(v=(n-e.start)/(e.end-e.start),"multipart"===a.type?(h=new d(a.colorRamps[g].fromColor),k=new d(a.colorRamps[g].toColor)):(h=new d(a.fromColor),k=new d(a.toColor)),
l=m(h,k,v),0===b?f.push([b,h.r,h.g,h.b]):b===c-1?f.push([b,k.r,k.g,k.b]):(l=m(h,k,v),f.push([b,l.r,l.g,l.b])))})};for(x=0;x<c;x++)b(x);return f}}})},"esri/core/colorUtils":function(){define(["require","exports"],function(a,f){function d(a,b){var c=[],d,e;if(a[0].length!==b.length)throw"dimensions do not match";var f=a.length,g=a[0].length,h=0;for(d=0;d<f;d++){for(e=h=0;e<g;e++)h+=a[d][e]*b[e];c.push(h)}return c}function n(a){a=[a.r/255,a.g/255,a.b/255].map(function(a){return.04045>=a?a/12.92:Math.pow((a+
.055)/1.055,2.4)});a=d(c,a);return{x:100*a[0],y:100*a[1],z:100*a[2]}}function k(a){a=d(b,[a.x/100,a.y/100,a.z/100]).map(function(a){return Math.min(1,Math.max(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055,0))});return{r:Math.round(255*a[0]),g:Math.round(255*a[1]),b:Math.round(255*a[2])}}function m(a){a=[a.x/95.047,a.y/100,a.z/108.883].map(function(a){return a>Math.pow(6/29,3)?Math.pow(a,1/3):1/3*Math.pow(29/6,2)*a+4/29});return{l:116*a[1]-16,a:500*(a[0]-a[1]),b:200*(a[1]-a[2])}}function h(a){var b=
a.l;a=[(b+16)/116+a.a/500,(b+16)/116,(b+16)/116-a.b/200].map(function(a){return a>6/29?Math.pow(a,3):3*Math.pow(6/29,2)*(a-4/29)});return{x:95.047*a[0],y:100*a[1],z:108.883*a[2]}}function e(a){if("r"in a&&"g"in a&&"b"in a)return a;if("l"in a&&"c"in a&&"h"in a){var b=a.c,c=a.h;return k(h({l:a.l,a:b*Math.cos(c),b:b*Math.sin(c)}))}if("l"in a&&"a"in a&&"b"in a)return k(h(a));if("x"in a&&"y"in a&&"z"in a)return k(a);if("h"in a&&"s"in a&&"v"in a){c=(a.h+360)%360/60;b=a.v/100*255;a=a.s/100*b;var d=a*(1-
Math.abs(c%2-1));switch(Math.floor(c)){case 0:c={r:a,g:d,b:0};break;case 1:c={r:d,g:a,b:0};break;case 2:c={r:0,g:a,b:d};break;case 3:c={r:0,g:d,b:a};break;case 4:c={r:d,g:0,b:a};break;case 5:case 6:c={r:a,g:0,b:d};break;default:c={r:0,g:0,b:0}}c.r=Math.round(c.r+b-a);c.g=Math.round(c.g+b-a);c.b=Math.round(c.b+b-a);return c}}Object.defineProperty(f,"__esModule",{value:!0});var c=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],b=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,
1.057]];f.toRGB=e;f.toHSV=function(a){if("h"in a&&"s"in a&&"v"in a)return a;var b=e(a);a=b.r;var c=b.g,b=b.b,d=Math.max(a,c,b),f=d-Math.min(a,c,b),g;0===f?g=0:d===a?g=(c-b)/f%6:d===c?g=(b-a)/f+2:d===b&&(g=(a-c)/f+4);0>g&&(g+=6);return{h:60*g,s:100*(0===f?0:f/d),v:100/255*d}};f.toLAB=function(a){return"l"in a&&"a"in a&&"b"in a?a:m(n(e(a)))};f.toLCH=function(a){if(!("l"in a&&"c"in a&&"h"in a)){var b=m(n(e(a)));a=b.l;var c=b.a,d=b.b,b=Math.sqrt(c*c+d*d),c=Math.atan2(d,c),c=0<c?c:c+2*Math.PI;a={l:a,c:b,
h:c}}return a};f.toXYZ=function(a){return"x"in a&&"y"in a&&"z"in a?a:n(e(a))};f.darken=function(a,b){a=m(n(a));a.l*=1-b;return k(h(a))}})},"esri/renderers/RasterShadedReliefRenderer":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ../tasks/support/colorRamps".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.altitude=45;b.azimuth=315;b.colorRamp=null;b.hillshadeType="multi-directional";b.pixelSizePower=
.664;b.pixelSizeFactor=.024;b.scalingType="none";b.type="raster-shaded-relief";b.zFactor=1;return b}d.__extends(c,a);b=c;c.prototype.readColorRamp=function(a){return h.fromJSON(a)};c.prototype.clone=function(){return new b({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:k.clone(this.colorRamp)})};var b;d.__decorate([m.property({type:Number,
json:{write:!0}})],c.prototype,"altitude",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],c.prototype,"azimuth",void 0);d.__decorate([m.property({types:h.types,json:{write:!0}})],c.prototype,"colorRamp",void 0);d.__decorate([m.reader("colorRamp")],c.prototype,"readColorRamp",null);d.__decorate([m.property({type:["traditional","multi-directional"],json:{write:!0}})],c.prototype,"hillshadeType",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],c.prototype,"pixelSizePower",
void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],c.prototype,"pixelSizeFactor",void 0);d.__decorate([m.property({type:["none","adjusted"],json:{write:!0}})],c.prototype,"scalingType",void 0);d.__decorate([m.enumeration({rasterShadedRelief:"raster-shaded-relief"})],c.prototype,"type",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],c.prototype,"zFactor",void 0);return c=b=d.__decorate([m.subclass("esri.renderers.RasterShadedReliefRenderer")],c)}(n.JSONSupport)})},"esri/renderers/RasterStretchRenderer":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/stretchRendererUtils ../tasks/support/colorRamps".split(" "),
function(a,f,d,n,k,m,h,e){return function(a){function b(b){b=a.call(this,b)||this;b.colorRamp=null;b.computeGamma=!1;b.dynamicRangeAdjustment=!1;b.gamma=[];b.maxPercent=null;b.minPercent=null;b.numberOfStandardDeviations=null;b.outputMax=null;b.outputMin=null;b.sigmoidStrengthLevel=null;b.statistics=[];b.histograms=null;b.useGamma=!1;b.stretchType="none";b.type="raster-stretch";return b}d.__extends(b,a);c=b;b.prototype.readColorRamp=function(a){if(a)return e.fromJSON(a)};b.prototype.writeStatistics=
function(a,b,c){null==a||0===a.length?a=null:a[0]instanceof Array||(a=a.map(function(a){return[a.min,a.max,a.avg,a.stddev]}));b[c]=a};b.prototype.readStretchType=function(a,b){a=b.stretchType;"number"===typeof a&&(a=h.stretchTypeFunctionEnum[a]);return h.stretchTypeJSONDict.read(a)};b.prototype.clone=function(){return new c({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:k.clone(this.statistics),gamma:k.clone(this.gamma),
sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:k.clone(this.colorRamp),histograms:k.clone(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})};var c;d.__decorate([m.property({types:e.types,json:{write:!0}})],b.prototype,"colorRamp",void 0);d.__decorate([m.reader("colorRamp")],b.prototype,"readColorRamp",null);d.__decorate([m.property({type:Boolean,json:{write:!0}})],
b.prototype,"computeGamma",void 0);d.__decorate([m.property({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],b.prototype,"dynamicRangeAdjustment",void 0);d.__decorate([m.property({type:[Number],json:{write:{allowNull:!0}}})],b.prototype,"gamma",void 0);d.__decorate([m.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"maxPercent",void 0);d.__decorate([m.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"minPercent",void 0);d.__decorate([m.property({type:Number,
json:{write:{allowNull:!0}}})],b.prototype,"numberOfStandardDeviations",void 0);d.__decorate([m.property({type:Number,json:{read:{source:"max"},write:{target:"max",allowNull:!0}}})],b.prototype,"outputMax",void 0);d.__decorate([m.property({type:Number,json:{read:{source:"min"},write:{target:"min",allowNull:!0}}})],b.prototype,"outputMin",void 0);d.__decorate([m.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"sigmoidStrengthLevel",void 0);d.__decorate([m.property({json:{write:{allowNull:!0}}})],
b.prototype,"statistics",void 0);d.__decorate([m.property()],b.prototype,"histograms",void 0);d.__decorate([m.writer("statistics")],b.prototype,"writeStatistics",null);d.__decorate([m.property({type:Boolean,json:{write:!0}})],b.prototype,"useGamma",void 0);d.__decorate([m.property({type:h.stretchTypeJSONDict.apiValues,json:{type:h.stretchTypeJSONDict.jsonValues,write:h.stretchTypeJSONDict.write}})],b.prototype,"stretchType",void 0);d.__decorate([m.reader("stretchType",["stretchType"])],b.prototype,
"readStretchType",null);d.__decorate([m.enumeration({rasterStretch:"raster-stretch"})],b.prototype,"type",void 0);return b=c=d.__decorate([m.subclass("esri.renderers.RasterStretchRenderer")],b)}(n.JSONSupport)})},"esri/renderers/support/stretchRendererUtils":function(){define(["require","exports","../../core/jsonMap"],function(a,f,d){Object.defineProperty(f,"__esModule",{value:!0});f.stretchTypeJSONDict=new d.default({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",
minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"});f.stretchTypeFunctionEnum={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}})},"esri/renderers/UniqueValueRenderer":function(){define("require exports tslib ../symbols ../symbols ../core/arrayUtils ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../support/persistableUrlUtils ../symbols/support/jsonUtils ../symbols/support/styleUtils".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v,A,x,w,u,y,C,z){var D=c.getLogger("esri.renderers.UniqueValueRenderer"),B=q.ensureType(w);return function(a){function c(b){b=a.call(this,b)||this;b._valueInfoMap={};b._isDefaultSymbolDerived=!1;b.type="unique-value";b.backgroundFillSymbol=null;b.field=null;b.field2=null;b.field3=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;b.defaultLabel=null;b.fieldDelimiter=null;b.portal=null;b.styleOrigin=null;b.diff={uniqueValueInfos:function(a,
b){if(a||b){if(!a||!b)return{type:"complete",oldValue:a,newValue:b};for(var c=!1,d={type:"collection",added:[],removed:[],changed:[],unchanged:[]},e=function(e){var f=m.find(a,function(a){return a.value===b[e].value});f?r.diff(f,b[e])?(d.changed.push({type:"complete",oldValue:f,newValue:b[e]}),c=!0):d.unchanged.push({oldValue:f,newValue:b[e]}):(d.added.push(b[e]),c=!0)},f=0;f<b.length;f++)e(f);e=function(e){m.find(b,function(b){return b.value===a[e].value})||(d.removed.push(a[e]),c=!0)};for(f=0;f<
a.length;f++)e(f);return c?d:void 0}}};b._set("uniqueValueInfos",[]);return b}d.__extends(c,a);f=c;Object.defineProperty(c.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});c.prototype.writeBackgroundFillSymbolWebScene=function(a,b,c,d){C.writeTarget(a,b,c,d)};c.prototype.castField=function(a){return null==a||"function"===typeof a?a:q.ensureString(a)};c.prototype.writeField=function(a,b,c,d){"string"===typeof a?b[c]=a:d&&d.messages?d.messages.push(new h("property:unsupported",
"UniqueValueRenderer.field set to a function cannot be written to JSON")):D.error(".field: cannot write field to JSON since it's not a string value")};Object.defineProperty(c.prototype,"defaultSymbol",{set:function(a){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",a)},enumerable:!0,configurable:!0});c.prototype.readDefaultSymbol=function(a,b,c){return C.read(a,b,c)};c.prototype.writeDefaultSymbolWebScene=function(a,b,c,d){this._isDefaultSymbolDerived||C.writeTarget(a,b,c,d)};c.prototype.writeDefaultSymbol=
function(a,b,c,d){this._isDefaultSymbolDerived||C.writeTarget(a,b,c,d)};c.prototype.readPortal=function(a,b,c){return c.portal||t.getDefault()};c.prototype.readStyleOrigin=function(a,b,c){if(b.styleName)return Object.freeze({styleName:b.styleName});if(b.styleUrl)return a=y.fromJSON(b.styleUrl,c),Object.freeze({styleUrl:a})};c.prototype.writeStyleOrigin=function(a,b,c,d){a.styleName?b.styleName=a.styleName:a.styleUrl&&(b.styleUrl=y.toJSON(a.styleUrl,d))};Object.defineProperty(c.prototype,"uniqueValueInfos",
{set:function(a){this.styleOrigin?D.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",a),this._updateValueInfoMap())},enumerable:!0,configurable:!0});c.prototype.addUniqueValueInfo=function(a,b){this.styleOrigin?D.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(a="object"===typeof a?B(a):new w({value:a,symbol:k.ensureType(b)}),this.uniqueValueInfos.push(a),
this._valueInfoMap[a.value]=a)};c.prototype.removeUniqueValueInfo=function(a){if(this.styleOrigin)D.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var b=0;b<this.uniqueValueInfos.length;b++)if(this.uniqueValueInfos[b].value===a+""){delete this._valueInfoMap[a];this.uniqueValueInfos.splice(b,1);break}};c.prototype.getUniqueValueInfo=function(a,c){return d.__awaiter(this,void 0,void 0,function(){var e,f,g;return d.__generator(this,
function(h){switch(h.label){case 0:e=c;if(!this.valueExpression||!b.isNone(c)&&!b.isNone(c.arcade))return[3,2];f=[d.__assign({},e)];g={};return[4,u.loadArcade()];case 1:e=d.__assign.apply(void 0,f.concat([(g.arcade=h.sent(),g)])),h.label=2;case 2:return[2,this._getUniqueValueInfo(a,e)]}})})};c.prototype.getSymbol=function(a,c){if(this.valueExpression&&(b.isNone(c)||b.isNone(c.arcade)))D.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(a=this._getUniqueValueInfo(a,
c))&&a.symbol||this.defaultSymbol};c.prototype.getSymbolAsync=function(a,c){return d.__awaiter(this,void 0,void 0,function(){var e,f,g,h;return d.__generator(this,function(k){switch(k.label){case 0:e=c;if(!this.valueExpression||!b.isNone(e)&&!b.isNone(e.arcade))return[3,2];f=[d.__assign({},e)];g={};return[4,u.loadArcade()];case 1:e=d.__assign.apply(void 0,f.concat([(g.arcade=k.sent(),g)])),k.label=2;case 2:return h=this._getUniqueValueInfo(a,e),[2,h&&h.symbol||this.defaultSymbol]}})})};c.prototype.getSymbols=
function(){for(var a=[],b=0,c=this.uniqueValueInfos;b<c.length;b++){var d=c[b];d.symbol&&a.push(d.symbol)}this.defaultSymbol&&a.push(this.defaultSymbol);return a};c.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),c=this.uniqueValueInfos.reduce(function(a,b){return a+b.getMeshHash()},
"");return a+"."+b+"."+c+"."+(this.field+"."+this.field2+"."+this.field3+"."+this.fieldDelimiter)+"."+this.valueExpression};c.prototype.clone=function(){var a=new f({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:e.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:e.clone(this.visualVariables),legendOptions:e.clone(this.legendOptions),
authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:e.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(a._isDefaultSymbolDerived=!0);a._set("portal",this.portal);var b=e.clone(this.uniqueValueInfos);this.styleOrigin&&(a._set("styleOrigin",Object.freeze(e.clone(this.styleOrigin))),Object.freeze(b));a._set("uniqueValueInfos",b);a._updateValueInfoMap();return a};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||
!!this.valueExpression},enumerable:!0,configurable:!0});c.prototype.collectRequiredFields=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(d){switch(d.label){case 0:return c=[this.collectVVRequiredFields(a,b),this.collectSymbolFields(a,b)],[4,g.all(c)];case 1:return d.sent(),[2]}})})};c.prototype.collectSymbolFields=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(e){switch(e.label){case 0:return c=
d.__spreadArrays(this.getSymbols().map(function(c){return c.collectRequiredFields(a,b)}),[l.collectArcadeFieldNames(a,b,this.valueExpression)]),l.collectField(a,b,this.field),l.collectField(a,b,this.field2),l.collectField(a,b,this.field3),[4,g.all(c)];case 1:return e.sent(),[2]}})})};c.prototype.populateFromStyle=function(){var a=this;return z.fetchStyle(this.styleOrigin,{portal:this.portal}).then(function(b){var c=[];a._valueInfoMap={};b&&b.data&&Array.isArray(b.data.items)&&b.data.items.forEach(function(d){var e=
new n.WebStyleSymbol({styleUrl:b.styleUrl,styleName:b.styleName,portal:a.portal,name:d.name});a.defaultSymbol||d.name!==b.data.defaultItem||(a.defaultSymbol=e,a._isDefaultSymbolDerived=!0);e=new w({value:d.name,symbol:e});c.push(e);a._valueInfoMap[d.name]=e});a._set("uniqueValueInfos",Object.freeze(c));!a.defaultSymbol&&a.uniqueValueInfos.length&&(a.defaultSymbol=a.uniqueValueInfos[0].symbol,a._isDefaultSymbolDerived=!0);return a})};c.prototype._updateValueInfoMap=function(){var a=this;this._valueInfoMap=
{};this.uniqueValueInfos.forEach(function(b){return a._valueInfoMap[b.value+""]=b})};c.prototype._getUniqueValueInfo=function(a,b){return this.valueExpression?this._getUnqiueValueInfoForExpression(a,b):this._getUnqiueValueInfoForFields(a)};c.prototype._getUnqiueValueInfoForExpression=function(a,c){var d=b.unwrapOr(c,{});c=d.viewingMode;var e=d.scale,f=d.spatialReference,g=this._cache.compiledFunc,d=b.unwrap(d.arcade).arcadeUtils;g||(g=d.createSyntaxTree(this.valueExpression),g=d.createFunction(g),
this._cache.compiledFunc=g);a=d.executeFunction(g,d.createExecContext(a,d.getViewInfo({viewingMode:c,scale:e,spatialReference:f})));return this._valueInfoMap[a+""]};c.prototype._getUnqiueValueInfoForFields=function(a){var b=this.field,c=a.attributes,d;if("function"!==typeof b&&this.field2){a=this.field2;d=this.field3;var e=[];b&&e.push(c[b]);a&&e.push(c[a]);d&&e.push(c[d]);d=e.join(this.fieldDelimiter||"")}else"function"===typeof b?d=b(a):b&&(d=c[b]);return this._valueInfoMap[d+""]};c.fromPortalStyle=
function(a,b){var c=new f(b&&b.properties);c._set("styleOrigin",Object.freeze({styleName:a}));c._set("portal",b&&b.portal||t.getDefault());b=c.populateFromStyle();b.catch(function(b){D.error("#fromPortalStyle('"+a+"'[, ...])","Failed to create unique value renderer from style name",b)});return b};c.fromStyleUrl=function(a,b){b=new f(b&&b.properties);b._set("styleOrigin",Object.freeze({styleUrl:a}));b=b.populateFromStyle();b.catch(function(b){D.error("#fromStyleUrl('"+a+"'[, ...])","Failed to create unique value renderer from style URL",
b)});return b};var f;d.__decorate([p.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"_cache",null);d.__decorate([p.enumeration({uniqueValue:"unique-value"})],c.prototype,"type",void 0);d.__decorate([p.property({types:{base:n.BaseSymbol,key:"type",typeMap:{"simple-fill":k.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":k.symbolTypesRenderer.typeMap["picture-fill"],"polygon-3d":k.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{read:C.read,write:C.writeTarget}})],c.prototype,
"backgroundFillSymbol",void 0);d.__decorate([p.writer("web-scene","backgroundFillSymbol",{backgroundFillSymbol:{type:n.PolygonSymbol3D}})],c.prototype,"writeBackgroundFillSymbolWebScene",null);d.__decorate([p.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],c.prototype,"field",void 0);d.__decorate([p.cast("field")],c.prototype,"castField",null);d.__decorate([p.writer("field")],c.prototype,"writeField",null);d.__decorate([p.property({type:String,json:{write:!0}})],c.prototype,
"field2",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],c.prototype,"field3",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);d.__decorate([p.property({type:x.default,json:{write:!0}})],c.prototype,"legendOptions",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",void 0);d.__decorate([p.property({types:k.symbolTypesRenderer})],
c.prototype,"defaultSymbol",null);d.__decorate([p.reader("defaultSymbol")],c.prototype,"readDefaultSymbol",null);d.__decorate([p.writer("web-scene","defaultSymbol",{defaultSymbol:{types:k.symbolTypesRenderer3D}})],c.prototype,"writeDefaultSymbolWebScene",null);d.__decorate([p.writer("defaultSymbol")],c.prototype,"writeDefaultSymbol",null);d.__decorate([p.property({type:String,json:{write:!0}})],c.prototype,"fieldDelimiter",void 0);d.__decorate([p.property({type:t,readOnly:!0})],c.prototype,"portal",
void 0);d.__decorate([p.reader("portal",["styleName"])],c.prototype,"readPortal",null);d.__decorate([p.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],c.prototype,"styleOrigin",void 0);d.__decorate([p.reader("styleOrigin",["styleName","styleUrl"])],c.prototype,"readStyleOrigin",null);d.__decorate([p.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],c.prototype,"writeStyleOrigin",null);d.__decorate([p.property({type:[w],json:{write:{overridePolicy:function(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],c.prototype,"uniqueValueInfos",null);return c=f=d.__decorate([p.subclass("esri.renderers.UniqueValueRenderer")],c)}(A.VisualVariablesMixin(v))})},"esri/core/accessorSupport/diffUtils":function(){define("require exports ../Accessor ../Collection ../maybe ./utils".split(" "),function(a,f,d,n,k,m){function h(a){return a instanceof n?Object.keys(a.items):a instanceof d?m.getProperties(a).keys():a?Object.keys(a):[]}function e(a,b){return a instanceof n?a.items[b]:a[b]}function c(a,
b){return Array.isArray(a)&&Array.isArray(b)?a.length!==b.length:!1}function b(a){return a?a.declaredClass:null}function g(a,f){var l,m=a.diff;if(m&&"function"===typeof m)return m(a,f);var p=h(a),n=h(f);if(0!==p.length||0!==n.length){if(!p.length||!n.length||c(a,f))return{type:"complete",oldValue:a,newValue:f};var q=n.filter(function(a){return-1===p.indexOf(a)}),u=p.filter(function(a){return-1===n.indexOf(a)}),q=p.filter(function(b){return-1<n.indexOf(b)&&e(a,b)!==e(f,b)}).concat(q,u).sort();if((u=
b(a))&&-1<r.indexOf(u)&&q.length)return{type:"complete",oldValue:a,newValue:f};for(var y,u=a instanceof d&&f instanceof d,C=0;C<q.length;C++){var z=q[C],D=e(a,z),B=e(f,z),E=void 0;!(u||"function"!==typeof D&&"function"!==typeof B)||D===B||null==D&&null==B||(E=m&&m[z]&&"function"===typeof m[z]?m[z](D,B):"object"===typeof D&&"object"===typeof B&&b(D)===b(B)?g(D,B):{type:"complete",oldValue:D,newValue:B},k.isSome(E)&&(k.isSome(y)?y.diff[z]=E:y={type:"partial",diff:(l={},l[z]=E,l)}))}return y}}function p(a){if(k.isNone(a))return!0;
switch(a.type){case "complete":return!1;case "collection":for(var b=0,c=a.added;b<c.length;b++){var d=c[b];if(!p(d))return!1}b=0;for(c=a.removed;b<c.length;b++)if(d=c[b],!p(d))return!1;b=0;for(a=a.changed;b<a.length;b++)if(d=a[b],!p(d))return!1;return!0;case "partial":for(b in a.diff)if(d=a.diff[b],!p(d))return!1;return!0}}Object.defineProperty(f,"__esModule",{value:!0});var r=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];
f.diff=function(a,c){if("function"!==typeof a&&"function"!==typeof c&&(a||c))return!a||!c||"object"===typeof a&&"object"===typeof c&&b(a)!==b(c)?{type:"complete",oldValue:a,newValue:c}:g(a,c)};f.isEmpty=p})},"esri/renderers/support/UniqueValueInfo":function(){define("require exports tslib ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.description=
null;b.label=null;b.symbol=null;b.value=null;return b}d.__extends(c,a);b=c;c.prototype.clone=function(){return new b({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol&&this.symbol.toJSON());return this.value+"."+a};var b;d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,
"label",void 0);d.__decorate([m.property({types:n.symbolTypesRenderer,json:{origins:{"web-scene":{types:n.symbolTypesRenderer3D,read:h.read,write:h.writeTarget}},read:h.read,write:h.writeTarget}})],c.prototype,"symbol",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],c.prototype,"value",void 0);return c=b=d.__decorate([m.subclass("esri.renderers.support.UniqueValueInfo")],c)}(k.JSONSupport)})},"esri/symbols/support/styleUtils":function(){define("require exports tslib ../../request ../../symbols ../../core/arrayUtils ../../core/devEnvironmentUtils ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags ../../support/persistableUrlUtils ./jsonUtils ./StyleOrigin ./Thumbnail".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p,r,q,l,t,v){function A(a,c){return B(a,c).then(function(c){return{data:c.data,baseUrl:b.removeFile(a),styleUrl:a}})}function x(a,b,c){b=b.portal||g.getDefault();var d,e=b.url+" - "+(b.user&&b.user.username)+" - "+a;E[e]||(E[e]=w(a,b,c).then(function(a){d=a;return a.fetchData()}).then(function(b){return{data:b,baseUrl:d.itemUrl,styleName:a}}));return E[e]}function w(a,b,c){return b.load(c).then(function(){var d=new p({disableExtraQuery:!0,query:"owner:"+F+" AND type:"+
H+' AND typekeywords:"'+a+'"'});return b.queryItems(d,c)}).then(function(b){b=b.results;var d=null,f=a.toLowerCase();if(b&&Array.isArray(b))for(var g=0;g<b.length;g++){var h=b[g];if(h.typeKeywords.some(function(a){return a.toLowerCase()===f})&&h.type===H&&h.owner===F){d=h;break}}if(!d)throw new e("symbolstyleutils:style-not-found","The style '"+a+"' could not be found",{styleName:a});return d.load(c)})}function u(a,b,d){return a.styleUrl?A(a.styleUrl,d):a.styleName?x(a.styleName,b,d):c.reject(new e("symbolstyleutils:style-url-and-name-missing",
"Either styleUrl or styleName is required to resolve a style"))}function y(a,d,f,g,p){var n=a.data,r={portal:f.portal,url:b.urlToObject(a.baseUrl),origin:"portal-item"},n=m.find(n.items,function(a){return a.name===d});if(!n)return c.reject(new e("symbolstyleutils:symbol-name-not-found","The symbol name '"+d+"' could not be found",{symbolName:d}));var u=q.fromJSON(z(n,g),r),w=n.thumbnail&&n.thumbnail.href,x=n.thumbnail&&n.thumbnail.imageData;h.isDevEnvironment()&&(u=h.adjustStaticAGOUrl(u),w=h.adjustStaticAGOUrl(w));
var y={portal:f.portal,url:b.urlToObject(b.removeFile(u)),origin:"portal-item"};return B(u,p).then(function(b){b="cimRef"===g?C(b.data):b.data;if((b=l.fromJSON(b,y))&&k.isSymbol3D(b)){if(w){var c=q.fromJSON(w,r);b.thumbnail=new v.default({url:c})}else x&&(b.thumbnail=new v.default({url:"data:image/png;base64,"+x}));a.styleUrl?b.styleOrigin=new t({portal:f.portal,styleUrl:a.styleUrl,name:d}):a.styleName&&(b.styleOrigin=new t({portal:f.portal,styleName:a.styleName,name:d}))}return b})}function C(a){return null===
a||"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}}function z(a,b){if("cimRef"===b)return a.cimRef;if(a.formatInfos&&!r.enableWebStyleForceWOSR()){b=0;for(var c=a.formatInfos;b<c.length;b++){var d=c[b];if("gltf"===d.type)return d.href}}return a.webRef}function D(a,c,d){var e=G.replace(/\{SymbolName\}/gi,a.name);return B(e,d).then(function(a){a=C(a.data);return l.fromJSON(a,{portal:c.portal,url:b.urlToObject(b.removeFile(e)),origin:"portal-item"})})}function B(a,c){c=d.__assign({responseType:"json",
query:{f:"json"}},c);return n(b.normalize(a),c)}Object.defineProperty(f,"__esModule",{value:!0});var E={};f.fetchStyle=u;f.resolveWebStyleSymbol=function(a,b,d,f){return a.name?a.styleName&&"Esri2DPointSymbolsStyle"===a.styleName?D(a,b,f):u(a,b,f).then(function(c){return y(c,a.name,b,d,f)}):c.reject(new e("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};f.fetchSymbolFromStyle=y;f.styleNameFromItem=function(a){var b=0;for(a=a.typeKeywords;b<a.length;b++){var c=
a[b];if(/^Esri.*Style$/.test(c)&&"Esri Style"!==c)return c}};var F="esri_en",H="Style",G="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson"})},"esri/core/devEnvironmentUtils":function(){define(["require","exports","./global"],function(a,f,d){Object.defineProperty(f,"__esModule",{value:!0});f.isDevEnvironment=function(a){a=a||d.location.hostname;return e.some(function(b){return null!=a.match(b)})};f.adjustStaticAGOUrl=
function(a,b){if(!a)return a;b=b||d.location.hostname;return null!=b.match(n)||null!=b.match(m)?a.replace("static.arcgis.com","staticdev.arcgis.com"):null!=b.match(k)||null!=b.match(h)?a.replace("static.arcgis.com","staticqa.arcgis.com"):a};f.isTelemetryDevEnvironment=function(a){a=a||d.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(e).some(function(b){return null!=a.match(b)})};var n=/^devext.arcgis.com$/,k=/^qaext.arcgis.com$/,m=/^[\w-]*\.mapsdevext.arcgis.com$/,h=/^[\w-]*\.mapsqa.arcgis.com$/,
e=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,n,k,/^jsapps.esri.com$/,m,h]})},"esri/support/featureFlags":function(){define(["require","exports","../core/has"],function(a,f,d){function n(a,f){return!!d("enable-feature:"+a+"/"+f)}Object.defineProperty(f,"__esModule",{value:!0});f.hasEnableFeature=n;f.enableWebStyleForceWOSR=function(){return n("jschmid","force-wosr")}})},"esri/layers/support/RasterInfo":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ../../geometry/Extent ../../tasks/support/FeatureSet".split(" "),
function(a,f,d,n,k,m,h){return function(a){function c(b){b=a.call(this,b)||this;b.attributeTable=null;b.bandCount=null;b.colormap=null;b.extent=null;b.format=void 0;b.height=null;b.width=null;b.histograms=null;b.keyProperties=null;b.multidimensionalInfo=null;b.noDataValue=null;b.pixelSize=null;b.pixelType=null;b.spatialReference=null;b.statistics=null;b.storageInfo=null;return b}d.__extends(c,a);Object.defineProperty(c.prototype,"dataType",{get:function(){var a=this.keyProperties&&this.keyProperties.DataType;
return a?a.toLowerCase():"generic"},enumerable:!0,configurable:!0});d.__decorate([k.property({type:h,json:{write:!0}})],c.prototype,"attributeTable",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"bandCount",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"colormap",void 0);d.__decorate([k.property({type:String,readOnly:!0})],c.prototype,"dataType",null);d.__decorate([k.property({type:m,json:{write:!0}})],c.prototype,"extent",void 0);d.__decorate([k.property({json:{write:!0}})],
c.prototype,"format",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"height",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"width",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"histograms",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"keyProperties",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"multidimensionalInfo",void 0);d.__decorate([k.property()],c.prototype,"noDataValue",void 0);d.__decorate([k.property({json:{write:!0}})],
c.prototype,"pixelSize",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"pixelType",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"spatialReference",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"statistics",void 0);d.__decorate([k.property({json:{write:!0}})],c.prototype,"storageInfo",void 0);return c=d.__decorate([k.subclass("esri.layers.support.RasterInfo")],c)}(n.JSONSupport)})},"esri/tasks/support/FeatureSet":function(){define("require exports tslib ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,f,d,n,k,m,h,e,c,b,g,p){var r=new m.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a=function(a){function f(b){b=a.call(this,b)||this;b.displayFieldName=null;b.exceededTransferLimit=!1;b.features=[];b.fields=null;b.geometryType=null;b.hasM=!1;b.hasZ=!1;b.queryGeometry=null;b.spatialReference=null;return b}d.__extends(f,a);f.prototype.readFeatures=function(a,c){c=
b.fromJSON(c.spatialReference);for(var d=[],f=0;f<a.length;f++){var g=a[f],h=k.fromJSON(g),g=g.geometry&&g.geometry.spatialReference;e.isSome(h.geometry)&&!g&&(h.geometry.spatialReference=c);d.push(h)}return d};f.prototype.writeGeometryType=function(a,b,c,d){if(a)r.write(a,b,c,d);else if(a=this.features)for(var f=0;f<a.length;f++){var g=a[f];if(g&&e.isSome(g.geometry)){r.write(g.geometry.type,b,c,d);break}}};f.prototype.writeSpatialReference=function(a,b){if(a)b.spatialReference=a.toJSON();else if(a=
this.features)for(var c=0;c<a.length;c++){var d=a[c];d&&e.isSome(d.geometry)&&d.geometry.spatialReference&&(b.spatialReference=d.geometry.spatialReference.toJSON())}};f.prototype.toJSON=function(a){var b=this.write(null);if(b.features&&Array.isArray(a)&&0<a.length)for(var c=0;c<b.features.length;c++){var d=b.features[c];if(d.geometry){var e=a&&a[c];d.geometry=e&&e.toJSON()||d.geometry}}return b};f.prototype.quantize=function(a){for(var b=a.scale,c=b[0],d=b[1],b=a.translate,f=b[0],g=b[1],b=this.features,
h=this._getQuantizationFunction(this.geometryType,function(a){return Math.round((a-f)/c)},function(a){return Math.round((g-a)/d)}),k=0,l=b.length;k<l;k++)h(e.unwrap(b[k].geometry))||(b.splice(k,1),k--,l--);this.transform=a;return this};f.prototype.unquantize=function(){var a=this.features,b=this.transform;if(!b)return this;for(var c=b.translate,d=c[0],f=c[1],b=b.scale,g=b[0],h=b[1],b=this._getHydrationFunction(this.geometryType,function(a){return a*g+d},function(a){return f-a*h}),c=0;c<a.length;c++){var k=
a[c].geometry;e.isSome(k)&&b(k)}return this};f.prototype._quantizePoints=function(a,b,c){for(var d,e,f=[],g=0,h=a.length;g<h;g++){var k=a[g];if(0<g){var l=b(k[0]),k=c(k[1]);if(l!==d||k!==e)f.push([l-d,k-e]),d=l,e=k}else d=b(k[0]),e=c(k[1]),f.push([d,e])}return 0<f.length?f:null};f.prototype._getQuantizationFunction=function(a,b,c){var d=this;return"point"===a?function(a){a.x=b(a.x);a.y=c(a.y);return a}:"polyline"===a||"polygon"===a?function(a){for(var e=g.isPolygon(a)?a.rings:a.paths,f=[],h=0,k=e.length;h<
k;h++){var l=d._quantizePoints(e[h],b,c);l&&f.push(l)}return 0<f.length?(g.isPolygon(a)?a.rings=f:a.paths=f,a):null}:"multipoint"===a?function(a){var e;e=d._quantizePoints(a.points,b,c);return 0<e.length?(a.points=e,a):null}:"extent"===a?function(a){return a}:null};f.prototype._getHydrationFunction=function(a,b,c){if("point"===a)return function(a){a.x=b(a.x);a.y=c(a.y)};if("polyline"===a||"polygon"===a)return function(a){a=g.isPolygon(a)?a.rings:a.paths;for(var d,e,f=0,h=a.length;f<h;f++)for(var k=
a[f],l=0,m=k.length;l<m;l++){var p=k[l];0<l?(d+=p[0],e+=p[1]):(d=p[0],e=p[1]);p[0]=b(d);p[1]=c(e)}};if("extent"===a)return function(a){a.xmin=b(a.xmin);a.ymin=c(a.ymin);a.xmax=b(a.xmax);a.ymax=c(a.ymax)};if("multipoint"===a)return function(a){a=a.points;for(var d,e,f=0,g=a.length;f<g;f++){var h=a[f];0<f?(d+=h[0],e+=h[1]):(d=h[0],e=h[1]);h[0]=b(d);h[1]=c(e)}}};d.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"displayFieldName",void 0);d.__decorate([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
f.prototype,"exceededTransferLimit",void 0);d.__decorate([c.property({type:[k],json:{write:!0}})],f.prototype,"features",void 0);d.__decorate([c.reader("features")],f.prototype,"readFeatures",null);d.__decorate([c.property({type:[p],json:{write:!0}})],f.prototype,"fields",void 0);d.__decorate([c.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:r.read}}})],f.prototype,"geometryType",void 0);d.__decorate([c.writer("geometryType")],f.prototype,"writeGeometryType",
null);d.__decorate([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],f.prototype,"hasM",void 0);d.__decorate([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],f.prototype,"hasZ",void 0);d.__decorate([c.property({types:n.geometryTypes,json:{read:g.fromJSON,write:!0}})],f.prototype,"queryGeometry",void 0);d.__decorate([c.property({type:b,json:{write:!0}})],f.prototype,"spatialReference",void 0);d.__decorate([c.writer("spatialReference")],
f.prototype,"writeSpatialReference",null);d.__decorate([c.property({json:{write:!0}})],f.prototype,"transform",void 0);return f=d.__decorate([c.subclass("esri.tasks.support.FeatureSet")],f)}(h.JSONSupport);a.prototype.toJSON.isDefaultToJSON=!0;(function(a){})(a||(a={}));return a})},"esri/layers/support/Field":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),
function(a,f,d,n,k,m,h,e,c){var b=new n.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function f(b){b=a.call(this,b)||this;b.alias=null;
b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;b.valueType=null;return b}d.__extends(f,a);g=f;f.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(v){}return c?c.value:null};f.prototype.readValueType=function(a,c){a=c.description;var d;try{d=JSON.parse(a)}catch(v){}return d?b.fromJSON(d.fieldValueType):null};f.prototype.clone=function(){return new g({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};var g;d.__decorate([m.property({type:String,json:{write:!0}})],f.prototype,"alias",void 0);d.__decorate([m.property({type:[String,Number],json:{write:{allowNull:!0}}})],f.prototype,"defaultValue",void 0);d.__decorate([m.property()],f.prototype,"description",void 0);d.__decorate([m.reader("description")],
f.prototype,"readDescription",null);d.__decorate([m.property({types:e.types,json:{read:{reader:e.fromJSON},write:!0}})],f.prototype,"domain",void 0);d.__decorate([m.property({type:Boolean,json:{write:!0}})],f.prototype,"editable",void 0);d.__decorate([m.property({type:h.Integer,json:{write:!0}})],f.prototype,"length",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);d.__decorate([m.property({type:Boolean,json:{write:!0}})],f.prototype,"nullable",void 0);d.__decorate([m.enumeration(c.kebabDict)],
f.prototype,"type",void 0);d.__decorate([m.property()],f.prototype,"valueType",void 0);d.__decorate([m.reader("valueType",["description"])],f.prototype,"readValueType",null);return f=g=d.__decorate([m.subclass("esri.layers.support.Field")],f)}(k.JSONSupport)})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(a,f,d){Object.defineProperty(f,"__esModule",{value:!0});f.kebabDict=new d.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",
esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/support/rasterFunctions/surfaceUtils":function(){define(["require","exports","../PixelBlock"],function(a,f,d){function n(a){var d=a.altitude,e=a.azimuth,c=
a.hillshadeType,b=a.pixelSizePower,f=a.pixelSizeFactor,k=a.scalingType,m=a.isGCS,n=a.resolution,l="multi-directional"===c?2*a.zFactor:a.zFactor,t=n.x,v=n.y;a=l/(8*t);var A=l/(8*v);m&&.001<l&&(a/=111E3,A/=111E3);"adjusted"===k&&(m?(a=111E3*t,A=111E3*v,a=(l+Math.pow(a,b)*f)/(8*a),A=(l+Math.pow(A,b)*f)/(8*A)):(a=(l+Math.pow(t,b)*f)/(8*t),A=(l+Math.pow(v,b)*f)/(8*v)));var x=(90-d)*Math.PI/180,d=Math.cos(x),w=(360-e+90)*Math.PI/180,e=Math.sin(x)*Math.cos(w),x=Math.sin(x)*Math.sin(w),b=[315,270,225,360,
180,0],f=[60,60,60,60,60,90],l=new Float32Array([3,5,3,2,1,4]),u=l.reduce(function(a,b){return a+b}),l=l.map(function(a){return a/u}),k="multi-directional"===c?b.length:1,m=new Float32Array(6),v=new Float32Array(6),t=new Float32Array(6);if("multi-directional"===c)for(var y=0;y<k;y++)d=f[y],e=b[y],x=(90-d)*Math.PI/180,d=Math.cos(x),w=(360-e+90)*Math.PI/180,e=Math.sin(x)*Math.cos(w),x=Math.sin(x)*Math.sin(w),m[y]=d,v[y]=e,t[y]=x;else m.fill(d),v.fill(e),t.fill(x);return{resolution:n,factor:[a,A],sinZcosA:e,
sinZsinA:x,cosZ:d,sinZcosAs:v,sinZsinAs:t,cosZs:m,weights:l,hillshadeType:["traditional","multi-directional"].indexOf(c)}}Object.defineProperty(f,"__esModule",{value:!0});var k=function(a){return a&&"esri.layers.support.PixelBlock"===a.declaredClass&&a.pixels&&0<a.pixels.length};f.calculateHillshadeParams=n;f.hillshade=function(a,f){if(!k(a))return a;var e=a.width,c=a.height,b=a.mask,g=new Uint8Array(e*c);b&&g.set(b);var h=n(f),m=h.factor,q=h.sinZcosA,l=h.sinZsinA,t=h.cosZ,v=h.sinZcosAs,A=h.sinZsinAs,
x=h.cosZs,h=h.weights,w=m[0],m=m[1];f=f.hillshadeType;for(var u=a.pixels[0],y=new Uint8Array(e*c),C,z,D,B,E,F,H,G,L=1;L<c-1;L++)for(var K=L*e,J=1;J<e-1;J++)if(b&&!b[K+J])y[K+J]=0;else{B=8;if(b&&(B=b[K-e+J-1]+b[K-e+J]+b[K-e+J+1]+b[K+J-1]+b[K+J+1]+b[K+e+J-1]+b[K+e+J]+b[K+e+J+1],7>B)){y[K+J]=0;g[K+J]=0;continue}7===B?(C=b[K-e+J-1]?u[K-e+J-1]:u[K+J],z=b[K-e+J]?u[K-e+J]:u[K+J],D=b[K-e+J+1]?u[K-e+J+1]:u[K+J],B=b[K+J-1]?u[K+J-1]:u[K+J],E=b[K+J+1]?u[K+J+1]:u[K+J],F=b[K+e+J-1]?u[K+e+J-1]:u[K+J],H=b[K+e+J]?
u[K+e+J]:u[K+J],G=b[K+e+J+1]?u[K+e+J+1]:u[K+J]):(C=u[K-e+J-1],z=u[K-e+J],D=u[K-e+J+1],B=u[K+J-1],E=u[K+J+1],F=u[K+e+J-1],H=u[K+e+J],G=u[K+e+J+1]);B=(D+E+E+G-(C+B+B+F))*w;C=(F+H+H+G-(C+z+z+D))*m;z=Math.sqrt(1+B*B+C*C);D=0;if("traditional"===f)F=255*(t+l*C-q*B)/z,0>F&&(F=0),D=F;else for(H=A.length,G=0;G<H;G++)F=255*(x[G]+A[G]*C-v[G]*B)/z,0>F&&(F=0),D+=F*h[G];y[K+J]=D&255}for(L=0;L<c;L++)y[L*e]=y[L*e+1],y[(L+1)*e-1]=y[(L+1)*e-2];for(L=1;L<e-1;L++)y[L]=y[L+e],y[L+(c-1)*e]=y[L+(c-2)*e];return new d({width:e,
height:c,pixels:[y],mask:b?g:null,pixelType:"u8",validPixelCount:a.validPixelCount,statistics:[{minValue:0,maxValue:255}]})};f.tintHillshade=function(a,d,e,c){if(k(a)&&k(d)){var b=c.min,f=a.pixels[0],h=d.mask;d=d.pixels[0];c=255.00001/(c.max-b);for(var m=new Uint8ClampedArray(d.length),n=new Uint8ClampedArray(d.length),l=new Uint8ClampedArray(d.length),t=e.length-1,v=0;v<d.length;v++)if(!h||0!==h[v]){var A=Math.floor((d[v]-b)*c),x=e[0>A?0:A>t?t:A],A=x[0],w=f[v],x=w*x[1],u=x*(1-Math.abs(A%2-1)),w=
w-x;switch(Math.floor(A)){case 0:m[v]=x+w;n[v]=u+w;l[v]=w;break;case 1:m[v]=u+w;n[v]=x+w;l[v]=w;break;case 2:m[v]=w;n[v]=x+w;l[v]=u+w;break;case 3:m[v]=w;n[v]=u+w;l[v]=x+w;break;case 4:m[v]=u+w;n[v]=w;l[v]=x+w;break;case 5:case 6:m[v]=x+w,n[v]=w,l[v]=u+w}}a.pixels=[m,n,l];a.updateStatistics()}}})},"*noref":1}});
define("require exports tslib ../../geometry ../../core/promiseUtils ./PixelBlock ./rasterFormats/RasterCodec ./rasterFunctions/pixelUtils ../../renderers/support/RasterSymbolizer".split(" "),function(a,f,d,n,k,m,h,e,c){return function(){function a(){}a.prototype.decode=function(a){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(c){switch(c.label){case 0:return[4,h.decode(a.data,a.options)];case 1:return b=c.sent(),[2,b&&b.toJSON()]}})})};a.prototype.symbolize=
function(a){a.pixelBlock=m.fromJSON(a.pixelBlock);a.extent=a.extent?n.Extent.fromJSON(a.extent):null;a=this.symbolizer.symbolize(a);return k.resolve(a&&a.toJSON())};a.prototype.updateSymbolizer=function(a){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(b){this.symbolizer=c.fromJSON(a.symbolizerJSON);a.histograms&&this.symbolizer&&this.symbolizer.renderer&&"histograms"in this.symbolizer.renderer&&(this.symbolizer.renderer.histograms=a.histograms);return[2]})})};
a.prototype.stretch=function(a){a=this.symbolizer.simpleStretch(m.fromJSON(a.srcPixelBlock),a.stretchParams);return k.resolve(a&&a.toJSON())};a.prototype.mosaicAndTransform=function(a){return d.__awaiter(this,void 0,void 0,function(){var b,c,f;return d.__generator(this,function(d){b=a.srcPixelBlocks.map(function(a){return a?new m(a):null});c=e.mosaic(b,a.srcMosaicSize);if(!a.coefs)return[2,c&&c.toJSON()];f=e.approximateTransform(c,a.destDimension,a.coefs,a.sampleSpacing);return[2,f&&f.toJSON()]})})};
return a}()});